{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./routes/vldigeometria.js?971d","webpack:///./components/Parts/Footer.less","webpack:///./routes/apprendimentoSistemiArtificiali.js?75cd","webpack:///./routes/statistica.js?3c70","webpack:///../src/misc.ts","webpack:///../src/memo.ts","webpack:///./contexts/LatexRenderColor.js","webpack:///./routes/mingwinstall.js?cec4","webpack:///../src/is.ts","webpack:///../src/path.ts","webpack:///../src/reportingobserver.ts","webpack:///../src/angular.ts","webpack:///../src/captureconsole.ts","webpack:///../src/debug.ts","webpack:///../src/dedupe.ts","webpack:///../src/ember.ts","webpack:///../src/extraerrordata.ts","webpack:///../src/rewriteframes.ts","webpack:///../src/sessiontiming.ts","webpack:///../src/transaction.ts","webpack:///../src/vue.ts","webpack:///./routes/OttimizzazioneLineare.js?30da","webpack:///../src/logger.ts","webpack:///./routes/calcoloNumerico.js?8c12","webpack:///../src/supports.ts","webpack:///../src/severity.ts","webpack:///../node_modules/webpack/buildin/harmony-module.js","webpack:///./index.js","webpack:///../node_modules/@preact/async-loader/async-legacy.js","webpack:///./routes/basiDiDati.js?e91b","webpack:///./routes/home.js?7109","webpack:///../src/util.js","webpack:///../src/index.js","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///../src/string.ts","webpack:///./components/Parts/Footer.js","webpack:///../src/create-element.js","webpack:///../src/component.js","webpack:///../src/diff/children.js","webpack:///../src/diff/props.js","webpack:///../src/diff/index.js","webpack:///../src/render.js","webpack:///../src/clone-element.js","webpack:///../src/create-context.js","webpack:///../src/constants.js","webpack:///../src/options.js","webpack:///../src/diff/catch-error.js","webpack:///../node_modules/preact-cli/lib/lib/entry.js","webpack:///../node_modules/webpack/buildin/global.js","webpack:///../src/object.ts","webpack:///../node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///../node_modules/resolve-pathname/esm/resolve-pathname.js","webpack:///../node_modules/history/esm/history.js","webpack:///../node_modules/tiny-invariant/dist/tiny-invariant.esm.js","webpack:///../node_modules/@sentry/webpack-plugin/src/sentry-webpack.module.js","webpack:///../src/scope.ts","webpack:///../src/hub.ts","webpack:///../src/index.ts","webpack:///../src/integration.ts","webpack:///../src/tracekit.ts","webpack:///../src/parsers.ts","webpack:///../src/eventbuilder.ts","webpack:///../src/helpers.ts","webpack:///../src/instrument.ts","webpack:///../../src/integrations/breadcrumbs.ts","webpack:///../src/sdk.ts","webpack:///../src/status.ts","webpack:///../src/syncpromise.ts","webpack:///../../src/integrations/functiontostring.ts","webpack:///../src/polyfill.ts","webpack:///../src/error.ts","webpack:///../src/dsn.ts","webpack:///../src/api.ts","webpack:///../src/baseclient.ts","webpack:///../../src/transports/noop.ts","webpack:///../src/basebackend.ts","webpack:///../src/promisebuffer.ts","webpack:///../../src/transports/base.ts","webpack:///../../src/transports/fetch.ts","webpack:///../../src/transports/xhr.ts","webpack:///../src/backend.ts","webpack:///../src/version.ts","webpack:///../src/client.ts","webpack:///../../src/integrations/inboundfilters.ts","webpack:///../../src/integrations/trycatch.ts","webpack:///../../src/integrations/globalhandlers.ts","webpack:///../../src/integrations/linkederrors.ts","webpack:///../../src/integrations/useragent.ts","webpack:///./routes/fisica.js?9847"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","__webpack_require__","installedModules","exports","module","l","installedCssChunks","0","e","promises","Promise","resolve","reject","href","fullhref","p","existingLinkTags","document","getElementsByTagName","dataHref","tag","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","jsonpScriptSrc","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","head","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","s","cb","isNodeEnv","toString","process","getGlobalObject","global","self","fallbackGlobalObject","uuid4","crypto","msCrypto","getRandomValues","arr","Uint16Array","pad","num","v","replace","Math","random","parseUrl","url","match","host","path","protocol","relative","getEventDescription","exception","values","event_id","consoleSandbox","callback","originalConsole","wrappedLevels","forEach","level","__sentry_original__","result","keys","addExceptionTypeValue","addExceptionMechanism","mechanism","_oO","getLocationHref","location","oO","htmlTreeAsString","elem","currentElem","out","height","len","sepLength","nextStr","_htmlElementAsString","reverse","join","el","className","classes","attr","tagName","toLowerCase","id","split","attrWhitelist","timestampWithMs","crossPlatformPerformance","timeOrigin","now","parseRetryAfterHeader","header","headerDelay","parseInt","isNaN","headerDate","Date","parse","getFunctionName","fn","INITIAL_TIME","prevNow","performanceFallback","require","performance","_","timing","navigationStart","this","_hasWeakSet","WeakSet","_inner","memoize","obj","has","add","unmemoize","delete","splice","createContext","isError","wat","isInstanceOf","isErrorEvent","isDOMError","isDOMException","isString","isPrimitive","isPlainObject","isEvent","Event","isElement","Element","isRegExp","isThenable","Boolean","isSyntheticEvent","base","_e","normalizeArray","parts","allowAboveRoot","up","last","unshift","splitPath","filename","splitPathRe","exec","resolvedPath","resolvedAbsolute","args","charAt","filter","trim","start","end","ReportTypes","angularPattern","options","Angular","_angular","angular","setupOnce","getCurrentHub","_getCurrentHub","moduleName","config","$provide","decorator","_$exceptionHandlerDecorator","logger","$delegate","cause","hub","getIntegration","withScope","scope","setExtra","addEventProcessor","ex","matches","extra","angularDocs","substr","captureException","CaptureConsole","_levels","levels","originalConsoleLevel","setLevel","fromString","captureMessage","Function","apply","Debug","_options","debugger","stringify","addGlobalEventProcessor","hint","log","JSON","Dedupe","currentEvent","_shouldDropEvent","_previousEvent","previousEvent","_isSameMessageEvent","_isSameExceptionEvent","currentMessage","previousMessage","_isSameFingerprint","_isSameStacktrace","_getFramesFromEvent","stacktrace","frames","currentFrames","previousFrames","frameA","frameB","lineno","colno","function","_getExceptionFromEvent","previousException","currentException","currentFingerprint","fingerprint","previousFingerprint","Ember","_Ember","oldOnError","originalException","testing","RSVP","on","reason","is","depth","ExtraErrorData","enhanceEventWithErrorData","constructor","errorData","_extractErrorData","contexts","normalizedErrorData","errorKeys","getOwnPropertyNames","indexOf","extraErrorInfo","types","Crash","Deprecation","Intervention","ReportingObserver","supports","handler","buffered","observe","reports","report","label","details","body","plainBody","prop","crashId","RewriteFrames","_iteratee","frame","ext","f","isWindowsFrame","test","startsWithSlash","_root","from","to","fromParts","toParts","min","samePartsLength","outputParts","concat","root","iteratee","Array","isArray","_processExceptionsEvent","_processStacktraceEvent","map","_processStacktrace","SessionTiming","_startTime","Transaction","in_app","transaction","_getTransaction","Vue","_attachProps","_logErrors","_Vue","logErrors","attachProps","_formatComponentName","vm","$root","_isVue","$options","_componentTag","__file","errorHandler","info","metadata","componentName","propsData","lifecycleHook","setContext","util","warn","PREFIX","_enabled","disable","enable","__SENTRY__","Logger","supportsFetch","Headers","Request","Response","isNativeFetch","func","supportsNativeFetch","fetch","doc","sandbox","hidden","contentWindow","supportsReportingObserver","supportsReferrerPolicy","referrerPolicy","supportsHistory","chrome","app","runtime","history","pushState","replaceState","Severity","Info","Warning","Fatal","Critical","Log","originalModule","webpackPolyfill","children","Sentry","debug","SentryIntegrations","init","dsn","release","environment","integrations","req","Async","b","old","Component","componentWillMount","nextBase","__b","setState","child","default","shouldComponentUpdate","nxt","nodeType","h","nodeName","dangerouslySetInnerHTML","__html","innerHTML","render","let","EMPTY","getCurrentUrl","customHistory","getCurrentLocation","pathname","search","route","ROUTERS","canRoute","setUrl","routeTo","didRoute","subscribers","routeFromLink","node","handleLinkClick","ctrlKey","metaKey","altKey","shiftKey","button","currentTarget","prevent","stopImmediatePropagation","stopPropagation","preventDefault","delegateLinkHandler","String","toUpperCase","hasAttribute","eventListenersInitialized","Router","props","super","state","addEventListener","static","onChange","const","getMatchingChildren","updating","forceUpdate","componentDidMount","unlisten","listen","componentWillUnmount","componentWillUpdate","componentDidUpdate","invoke","prepareVNodeForRanking","sort","pathRankSort","vnode","newProps","assign","ref","active","current","previous","previousUrl","router","Route","component","Link","onClick","__extends","__","extendStatics","__values","iterator","next","done","TypeError","__read","ar","__spread","arguments","setPrototypeOf","__proto__","__assign","truncate","str","max","snipLine","line","newLine","ll","safeJoin","input","delimiter","output","isMatchingPattern","pattern","class","style","footer","getFullYear","removeNode","normalizedProps","defaultProps","createVNode","original","_children","_parent","_depth","_dom","_nextDom","_component","_original","createRef","Fragment","context","getDomSibling","childIndex","sibling","updateParentDomPointers","enqueueRender","_dirty","rerenderQueue","rerenderCount","prevDebounce","debounceRendering","defer","queue","a","_vnode","some","commitQueue","oldVNode","newDom","oldDom","parentDom","_parentDom","diff","_globalContext","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","childVNode","sibDom","firstChildDom","refs","nextDom","oldChildren","EMPTY_ARR","oldChildrenLength","EMPTY_OBJ","outer","nextSibling","insertBefore","unmount","applyRef","toChildArray","setStyle","setProperty","IS_NON_DIMENSIONAL","dom","oldValue","useCapture","nameLower","cssText","eventProxy","_listeners","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","newVNode","tmp","isNew","oldProps","oldState","snapshot","clearProcessingException","provider","componentContext","newType","_diff","contextType","_id","_defaultValue","_processingException","_pendingError","doRender","sub","_renderCallbacks","_nextState","getDerivedStateFromProps","componentWillReceiveProps","_force","_render","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","diffed","_catchError","_commit","oldHtml","newHtml","localName","createTextNode","createElementNS","childNodes","attributes","hydrate","diffProps","checked","parentVNode","skipRemove","replaceNode","IS_HYDRATE","cloneElement","defaultValue","ctx","Consumer","Provider","subs","_this","_props","_contextRef","isValidElement","hasCaught","getDerivedStateFromError","componentDidCatch","update","Preact","interopDefault","navigator","serviceWorker","register","__webpack_public_path__","getElementById","firstElementChild","preRenderData","inlineDataElement","querySelector","CLI_DATA","g","fill","source","replacement","wrapped","defineProperties","_Oo","urlEncode","encodeURIComponent","getWalkSource","stack","CustomEvent","detail","jsonSize","encodeURI","utf8Length","normalizeToSize","maxSize","serialized","normalize","normalizeValue","_events","walk","memo","Infinity","normalized","serializeValue","toJSON","acc","innerKey","extractExceptionKeysForMessage","maxLength","includedKeys","_extends","isAbsolute","spliceOne","list","index","k","pop","addLeadingSlash","stripLeadingSlash","stripBasename","prefix","hasBasename","stripTrailingSlash","createPath","hash","createLocation","currentLocation","hashIndex","searchIndex","parsePath","decodeURI","URIError","resolvePathname","createTransitionManager","prompt","listeners","setPrompt","nextPrompt","confirmTransitionTo","action","getUserConfirmation","appendListener","listener","isActive","item","notifyListeners","_len","_key","getConfirmation","confirm","stripHash","getHashPath","substring","replaceHashPath","createHashHistory","getDOMLocation","decodePath","basename","nextState","globalHistory","transitionManager","handleHashChange","encodedPath","encodePath","forceNextPop","ignorePath","ok","fromLocation","toIndex","allPaths","lastIndexOf","fromIndex","delta","go","revertPop","handlePop","checkDOMListeners","listenerCount","canUseDOM","invariant","_props$getUserConfirm","userAgent","_props$hashType","hashType","_HashPathCoders$hashT","HashPathCoders","initialLocation","isBlocked","createHref","baseTag","pushHashPath","prevIndex","nextPaths","goBack","goForward","block","unblock","hasTrailingSlash","isToAbs","isFromAbs","mustEndAbs","part","condition","hashbang","noslash","slash","getGlobalEventProcessors","globalEventProcessors","getMainCarrier","carrier","extensions","makeMain","registry","oldHub","getHubFromCarrier","setHubOnCarrier","hasHubOnCarrier","isOlderThan","sentry","activeDomain","registryHubTopStack","getStackTop","client","clone","getHubFromActiveDomain","setupIntegrations","defaultIntegrations","userIntegrations","defaultIntegration","userIntegration","integrationsNames","getIntegrationsToSetup","integration","installedIntegrations","setupIntegration","computeStackTrace","popSize","framesToPop","opera10Regex","opera11Regex","lines","element","column","extractMessage","computeStackTraceFromStacktraceProp","popFrames","submatch","isNative","chromeEval","winjs","gecko","geckoEval","columnNumber","computeStackTraceFromStackProp","failed","exceptionFromStacktrace","prepareFramesForEvent","eventFromStacktrace","localStack","firstFrameFunction","lastFrameFunction","eventFromUnknownInput","syntheticException","domException","eventFromString","rejection","__serialized__","eventFromPlainObject","synthetic","attachStacktrace","shouldIgnoreOnError","ignoreOnError","ignoreNextOnError","wrap","before","__sentry__","__sentry_wrapped__","sentryWrapped","wrappedArguments","arg","handleEvent","processedEvent","getOwnPropertyDescriptor","configurable","instrument","instrumented","triggerHandlers","instrumentConsole","domEventHandler","keypressEventHandler","proto","eventName","innerOriginal","instrumentDOM","xhrproto","XMLHttpRequest","originalOpen","__sentry_xhr__","method","__sentry_own_request__","originalSend","xhr","commonHandlerData","startTimestamp","readyState","status_code","status","endTimestamp","instrumentXHR","originalFetch","fetchData","getFetchMethod","getFetchUrl","response","instrumentFetch","historyReplacementFunction","originalHistoryFunction","lastHref","oldOnPopState","onpopstate","instrumentHistory","_oldOnErrorHandler","msg","_oldOnUnhandledRejectionHandler","onunhandledrejection","addInstrumentationHandler","handlers","fetchArgs","debounce","keypressTimeout","lastCapturedEvent","debounceTimer","isContentEditable","addSentryBreadcrumb","serializedData","addBreadcrumb","category","SENTRY_RELEASE","initAndBind","showReportDialog","eventId","lastEventId","getClient","forceLoad","onLoad","flush","close","Status","fromHttpCode","Success","RateLimit","Invalid","Failed","Unknown","States","originalFunctionToString","executor","_state","PENDING","_handlers","_resolve","_setResult","RESOLVED","_reject","REJECTED","_value","_executeHandlers","_attachHandler","cachedHandlers","onfulfilled","onrejected","SyncPromise","collection","counter","resolvedCollection","catch","val","finally","onfinally","isRejected","_notifyingListeners","_scopeListeners","_eventProcessors","_breadcrumbs","_user","_tags","_extra","_context","addScopeListener","_notifyScopeListeners","_notifyEventProcessors","processors","processor","final","setUser","user","setTags","tags","setTag","setExtras","extras","setFingerprint","_fingerprint","_level","setTransaction","_transaction","_span","setSpan","span","getSpan","newScope","Scope","clear","breadcrumb","maxBreadcrumbs","mergedBreadcrumb","timestamp","clearBreadcrumbs","_applyFingerprint","applyToEvent","trace","getTraceContext","breadcrumbs","_version","_stack","_invokeClient","top","version","bindClient","pushScope","getStack","popScope","getScope","_lastEventId","finalHint","captureEvent","beforeBreadcrumb","finalBreadcrumb","configureScope","run","startSpan","spanOrSpanContext","forceNoChild","_callExtensionMethod","traceHeaders","DSN_REGEX","_fromString","_fromComponents","_validate","withPassword","pass","port","projectId","components","_dsnObject","getDsn","getStoreEndpoint","_getBaseUrl","getStoreEndpointPath","getStoreEndpointWithUrlEncodedAuth","auth","sentry_key","sentry_version","getRequestHeaders","clientName","clientVersion","getReportDialogEndpoint","dialogOptions","endpoint","encodedOptions","email","backendClass","_integrations","_processing","_backend","_dsn","_getBackend","eventFromException","_processEvent","finalEvent","eventFromMessage","getOptions","_isClientProcessing","clearInterval","interval","getTransport","transportFlushed","ready","enabled","_isEnabled","ticked","setInterval","_prepareEvent","dist","maxValueLength","normalizeDepth","prepared","_addIntegrations","sdk","evt","_normalizeEvent","sdkInfo","integrationsArray","beforeSend","sampleRate","sendEvent","beforeSendResult","_handleAsyncBeforeSend","Skipped","_transport","_setupTransport","_limit","_buffer","isReady","task","remove","drain","capturedSetTimeout","_disabledUntil","defaultOptions","headers","onreadystatechange","getResponseHeader","open","setRequestHeader","send","transportOptions","transport","handled","SDK_NAME","SDK_VERSION","platform","packages","async","FunctionToString","DEFAULT_IGNORE_ERRORS","InboundFilters","clientOptions","_mergeOptions","_isSentryError","_isIgnoredError","_isBlacklistedUrl","_getEventFilterUrl","_isWhitelistedUrl","ignoreInternal","ignoreErrors","_getPossibleEventMessages","blacklistUrls","whitelistUrls","_ignoreOnError","TryCatch","_wrapTimeFunction","originalCallback","_wrapRAF","_wrapEventTarget","_wrapXHR","xmlHttpRequestProps","wrapOptions","Breadcrumbs","_consoleBreadcrumb","handlerData","_domBreadcrumb","_xhrBreadcrumb","_fetchBreadcrumb","filterUrl","_historyBreadcrumb","parsedLoc","parsedFrom","parsedTo","GlobalHandlers","_onErrorHandlerInstalled","_onUnhandledRejectionHandlerInstalled","stackTraceLimit","_installGlobalOnErrorHandler","_installGlobalOnUnhandledRejectionHandler","currentHub","hasIntegration","isFailedOwnDelivery","_eventFromIncompleteOnError","_enhanceEventWithInitialFrame","_eventFromIncompleteRejection","groups","LinkedErrors","limit","_handler","linkedErrors","_walkErrorTree","UserAgent","windowIntegrations","_window","Integrations","INTEGRATIONS"],"mappings":"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","file":"bundle.394dd.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t0: 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({\"2\":\"route-OttimizzazioneLineare\",\"3\":\"route-apprendimentoSistemiArtificiali\",\"4\":\"route-basiDiDati\",\"5\":\"route-calcoloNumerico\",\"6\":\"route-fisica\",\"7\":\"route-home\",\"8\":\"route-mingwinstall\",\"9\":\"route-statistica\",\"10\":\"route-vldigeometria\"}[chunkId]||chunkId) + \".chunk.\" + {\"2\":\"3792d\",\"3\":\"e61bd\",\"4\":\"1e84e\",\"5\":\"8401a\",\"6\":\"d0513\",\"7\":\"1c295\",\"8\":\"88f3b\",\"9\":\"fb627\",\"10\":\"9fe81\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"6\":1,\"7\":1,\"8\":1,\"9\":1,\"10\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"\" + ({\"2\":\"route-OttimizzazioneLineare\",\"3\":\"route-apprendimentoSistemiArtificiali\",\"4\":\"route-basiDiDati\",\"5\":\"route-calcoloNumerico\",\"6\":\"route-fisica\",\"7\":\"route-home\",\"8\":\"route-mingwinstall\",\"9\":\"route-statistica\",\"10\":\"route-vldigeometria\"}[chunkId]||chunkId) + \".chunk.\" + {\"2\":\"05781\",\"3\":\"75409\",\"4\":\"d7b86\",\"5\":\"0791e\",\"6\":\"6a691\",\"7\":\"0d277\",\"8\":\"d169e\",\"9\":\"0b8c5\",\"10\":\"0c65e\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\n\t\timport Async from \"../../node_modules/@preact/async-loader/async-legacy.js\";\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tcb( require(\"!!../../node_modules/babel-loader/lib/index.js??ref--4!./vldigeometria.js\") );\n\t\t\t}, \"route-vldigeometria\");\n\t\t}\n\n\t\texport default Async(load);\n\t","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"footer__2wc45\"};","\n\t\timport Async from \"../../node_modules/@preact/async-loader/async-legacy.js\";\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tcb( require(\"!!../../node_modules/babel-loader/lib/index.js??ref--4!./apprendimentoSistemiArtificiali.js\") );\n\t\t\t}, \"route-apprendimentoSistemiArtificiali\");\n\t\t}\n\n\t\texport default Async(load);\n\t","\n\t\timport Async from \"../../node_modules/@preact/async-loader/async-legacy.js\";\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tcb( require(\"!!../../node_modules/babel-loader/lib/index.js??ref--4!./statistica.js\") );\n\t\t\t}, \"route-statistica\");\n\t\t}\n\n\t\texport default Async(load);\n\t","import { Event, Integration, StackFrame, WrappedFunction } from '@sentry/types';\n\nimport { isString } from './is';\nimport { snipLine } from './string';\n\n/** Internal */\ninterface SentryGlobal {\n  Sentry?: {\n    Integrations?: Integration[];\n  };\n  SENTRY_ENVIRONMENT?: string;\n  SENTRY_DSN?: string;\n  SENTRY_RELEASE?: {\n    id?: string;\n  };\n  __SENTRY__: {\n    globalEventProcessors: any;\n    hub: any;\n    logger: any;\n  };\n}\n\n/**\n * Requires a module which is protected against bundler minification.\n *\n * @param request The module path to resolve\n */\nexport function dynamicRequire(mod: any, request: string): any {\n  // tslint:disable-next-line: no-unsafe-any\n  return mod.require(request);\n}\n\n/**\n * Checks whether we're in the Node.js or Browser environment\n *\n * @returns Answer to given question\n */\nexport function isNodeEnv(): boolean {\n  // tslint:disable:strict-type-predicates\n  return Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]';\n}\n\nconst fallbackGlobalObject = {};\n\n/**\n * Safely get global scope object\n *\n * @returns Global scope object\n */\nexport function getGlobalObject<T>(): T & SentryGlobal {\n  return (isNodeEnv()\n    ? global\n    : typeof window !== 'undefined'\n    ? window\n    : typeof self !== 'undefined'\n    ? self\n    : fallbackGlobalObject) as T & SentryGlobal;\n}\n// tslint:enable:strict-type-predicates\n\n/**\n * Extended Window interface that allows for Crypto API usage in IE browsers\n */\ninterface MsCryptoWindow extends Window {\n  msCrypto?: Crypto;\n}\n\n/**\n * UUID4 generator\n *\n * @returns string Generated UUID4.\n */\nexport function uuid4(): string {\n  const global = getGlobalObject() as MsCryptoWindow;\n  const crypto = global.crypto || global.msCrypto;\n\n  if (!(crypto === void 0) && crypto.getRandomValues) {\n    // Use window.crypto API if available\n    const arr = new Uint16Array(8);\n    crypto.getRandomValues(arr);\n\n    // set 4 in byte 7\n    // tslint:disable-next-line:no-bitwise\n    arr[3] = (arr[3] & 0xfff) | 0x4000;\n    // set 2 most significant bits of byte 9 to '10'\n    // tslint:disable-next-line:no-bitwise\n    arr[4] = (arr[4] & 0x3fff) | 0x8000;\n\n    const pad = (num: number): string => {\n      let v = num.toString(16);\n      while (v.length < 4) {\n        v = `0${v}`;\n      }\n      return v;\n    };\n\n    return (\n      pad(arr[0]) + pad(arr[1]) + pad(arr[2]) + pad(arr[3]) + pad(arr[4]) + pad(arr[5]) + pad(arr[6]) + pad(arr[7])\n    );\n  }\n  // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n  return 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    // tslint:disable-next-line:no-bitwise\n    const r = (Math.random() * 16) | 0;\n    // tslint:disable-next-line:no-bitwise\n    const v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\n/**\n * Parses string form of URL into an object\n * // borrowed from https://tools.ietf.org/html/rfc3986#appendix-B\n * // intentionally using regex and not <a/> href parsing trick because React Native and other\n * // environments where DOM might not be available\n * @returns parsed URL object\n */\nexport function parseUrl(\n  url: string,\n): {\n  host?: string;\n  path?: string;\n  protocol?: string;\n  relative?: string;\n} {\n  if (!url) {\n    return {};\n  }\n\n  const match = url.match(/^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/);\n\n  if (!match) {\n    return {};\n  }\n\n  // coerce to undefined values to empty string so we don't get 'undefined'\n  const query = match[6] || '';\n  const fragment = match[8] || '';\n  return {\n    host: match[4],\n    path: match[5],\n    protocol: match[2],\n    relative: match[5] + query + fragment, // everything minus origin\n  };\n}\n\n/**\n * Extracts either message or type+value from an event that can be used for user-facing logs\n * @returns event's description\n */\nexport function getEventDescription(event: Event): string {\n  if (event.message) {\n    return event.message;\n  }\n  if (event.exception && event.exception.values && event.exception.values[0]) {\n    const exception = event.exception.values[0];\n\n    if (exception.type && exception.value) {\n      return `${exception.type}: ${exception.value}`;\n    }\n    return exception.type || exception.value || event.event_id || '<unknown>';\n  }\n  return event.event_id || '<unknown>';\n}\n\n/** JSDoc */\ninterface ExtensibleConsole extends Console {\n  [key: string]: any;\n}\n\n/** JSDoc */\nexport function consoleSandbox(callback: () => any): any {\n  const global = getGlobalObject<Window>();\n  const levels = ['debug', 'info', 'warn', 'error', 'log', 'assert'];\n\n  if (!('console' in global)) {\n    return callback();\n  }\n\n  const originalConsole = global.console as ExtensibleConsole;\n  const wrappedLevels: { [key: string]: any } = {};\n\n  // Restore all wrapped console methods\n  levels.forEach(level => {\n    if (level in global.console && (originalConsole[level] as WrappedFunction).__sentry_original__) {\n      wrappedLevels[level] = originalConsole[level] as WrappedFunction;\n      originalConsole[level] = (originalConsole[level] as WrappedFunction).__sentry_original__;\n    }\n  });\n\n  // Perform callback manipulations\n  const result = callback();\n\n  // Revert restoration to wrapped state\n  Object.keys(wrappedLevels).forEach(level => {\n    originalConsole[level] = wrappedLevels[level];\n  });\n\n  return result;\n}\n\n/**\n * Adds exception values, type and value to an synthetic Exception.\n * @param event The event to modify.\n * @param value Value of the exception.\n * @param type Type of the exception.\n * @hidden\n */\nexport function addExceptionTypeValue(event: Event, value?: string, type?: string): void {\n  event.exception = event.exception || {};\n  event.exception.values = event.exception.values || [];\n  event.exception.values[0] = event.exception.values[0] || {};\n  event.exception.values[0].value = event.exception.values[0].value || value || '';\n  event.exception.values[0].type = event.exception.values[0].type || type || 'Error';\n}\n\n/**\n * Adds exception mechanism to a given event.\n * @param event The event to modify.\n * @param mechanism Mechanism of the mechanism.\n * @hidden\n */\nexport function addExceptionMechanism(\n  event: Event,\n  mechanism: {\n    [key: string]: any;\n  } = {},\n): void {\n  // TODO: Use real type with `keyof Mechanism` thingy and maybe make it better?\n  try {\n    // @ts-ignore\n    // tslint:disable:no-non-null-assertion\n    event.exception!.values![0].mechanism = event.exception!.values![0].mechanism || {};\n    Object.keys(mechanism).forEach(key => {\n      // @ts-ignore\n      event.exception!.values![0].mechanism[key] = mechanism[key];\n    });\n  } catch (_oO) {\n    // no-empty\n  }\n}\n\n/**\n * A safe form of location.href\n */\nexport function getLocationHref(): string {\n  try {\n    return document.location.href;\n  } catch (oO) {\n    return '';\n  }\n}\n\n/**\n * Given a child DOM element, returns a query-selector statement describing that\n * and its ancestors\n * e.g. [HTMLElement] => body > div > input#foo.btn[name=baz]\n * @returns generated DOM path\n */\nexport function htmlTreeAsString(elem: unknown): string {\n  type SimpleNode = {\n    parentNode: SimpleNode;\n  } | null;\n\n  // try/catch both:\n  // - accessing event.target (see getsentry/raven-js#838, #768)\n  // - `htmlTreeAsString` because it's complex, and just accessing the DOM incorrectly\n  // - can throw an exception in some circumstances.\n  try {\n    let currentElem = elem as SimpleNode;\n    const MAX_TRAVERSE_HEIGHT = 5;\n    const MAX_OUTPUT_LEN = 80;\n    const out = [];\n    let height = 0;\n    let len = 0;\n    const separator = ' > ';\n    const sepLength = separator.length;\n    let nextStr;\n\n    while (currentElem && height++ < MAX_TRAVERSE_HEIGHT) {\n      nextStr = _htmlElementAsString(currentElem);\n      // bail out if\n      // - nextStr is the 'html' element\n      // - the length of the string that would be created exceeds MAX_OUTPUT_LEN\n      //   (ignore this limit if we are on the first iteration)\n      if (nextStr === 'html' || (height > 1 && len + out.length * sepLength + nextStr.length >= MAX_OUTPUT_LEN)) {\n        break;\n      }\n\n      out.push(nextStr);\n\n      len += nextStr.length;\n      currentElem = currentElem.parentNode;\n    }\n\n    return out.reverse().join(separator);\n  } catch (_oO) {\n    return '<unknown>';\n  }\n}\n\n/**\n * Returns a simple, query-selector representation of a DOM element\n * e.g. [HTMLElement] => input#foo.btn[name=baz]\n * @returns generated DOM path\n */\nfunction _htmlElementAsString(el: unknown): string {\n  const elem = el as {\n    getAttribute(key: string): string; // tslint:disable-line:completed-docs\n    tagName?: string;\n    id?: string;\n    className?: string;\n  };\n\n  const out = [];\n  let className;\n  let classes;\n  let key;\n  let attr;\n  let i;\n\n  if (!elem || !elem.tagName) {\n    return '';\n  }\n\n  out.push(elem.tagName.toLowerCase());\n  if (elem.id) {\n    out.push(`#${elem.id}`);\n  }\n\n  className = elem.className;\n  if (className && isString(className)) {\n    classes = className.split(/\\s+/);\n    for (i = 0; i < classes.length; i++) {\n      out.push(`.${classes[i]}`);\n    }\n  }\n  const attrWhitelist = ['type', 'name', 'title', 'alt'];\n  for (i = 0; i < attrWhitelist.length; i++) {\n    key = attrWhitelist[i];\n    attr = elem.getAttribute(key);\n    if (attr) {\n      out.push(`[${key}=\"${attr}\"]`);\n    }\n  }\n  return out.join('');\n}\n\nconst INITIAL_TIME = Date.now();\nlet prevNow = 0;\n\n/**\n * Cross platform compatible partial performance implementation\n */\ninterface CrossPlatformPerformance {\n  /**\n   * Returns the current timestamp in ms\n   */\n  now(): number;\n  timeOrigin: number;\n}\n\nconst performanceFallback: CrossPlatformPerformance = {\n  now(): number {\n    let now = Date.now() - INITIAL_TIME;\n    if (now < prevNow) {\n      now = prevNow;\n    }\n    prevNow = now;\n    return now;\n  },\n  timeOrigin: INITIAL_TIME,\n};\n\nexport const crossPlatformPerformance: CrossPlatformPerformance = (() => {\n  if (isNodeEnv()) {\n    try {\n      const perfHooks = dynamicRequire(module, 'perf_hooks') as { performance: CrossPlatformPerformance };\n      return perfHooks.performance;\n    } catch (_) {\n      return performanceFallback;\n    }\n  }\n\n  if (getGlobalObject<Window>().performance) {\n    // Polyfill for performance.timeOrigin.\n    //\n    // While performance.timing.navigationStart is deprecated in favor of performance.timeOrigin, performance.timeOrigin\n    // is not as widely supported. Namely, performance.timeOrigin is undefined in Safari as of writing.\n    // tslint:disable-next-line:strict-type-predicates\n    if (performance.timeOrigin === undefined) {\n      // As of writing, performance.timing is not available in Web Workers in mainstream browsers, so it is not always a\n      // valid fallback. In the absence of a initial time provided by the browser, fallback to INITIAL_TIME.\n      // @ts-ignore\n      // tslint:disable-next-line:deprecation\n      performance.timeOrigin = (performance.timing && performance.timing.navigationStart) || INITIAL_TIME;\n    }\n  }\n\n  return getGlobalObject<Window>().performance || performanceFallback;\n})();\n\n/**\n * Returns a timestamp in seconds with milliseconds precision since the UNIX epoch calculated with the monotonic clock.\n */\nexport function timestampWithMs(): number {\n  return (crossPlatformPerformance.timeOrigin + crossPlatformPerformance.now()) / 1000;\n}\n\n// https://semver.org/#is-there-a-suggested-regular-expression-regex-to-check-a-semver-string\nconst SEMVER_REGEXP = /^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$/;\n\n/**\n * Represents Semantic Versioning object\n */\ninterface SemVer {\n  major?: number;\n  minor?: number;\n  patch?: number;\n  prerelease?: string;\n  buildmetadata?: string;\n}\n\n/**\n * Parses input into a SemVer interface\n * @param input string representation of a semver version\n */\nexport function parseSemver(input: string): SemVer {\n  const match = input.match(SEMVER_REGEXP) || [];\n  const major = parseInt(match[1], 10);\n  const minor = parseInt(match[2], 10);\n  const patch = parseInt(match[3], 10);\n  return {\n    buildmetadata: match[5],\n    major: isNaN(major) ? undefined : major,\n    minor: isNaN(minor) ? undefined : minor,\n    patch: isNaN(patch) ? undefined : patch,\n    prerelease: match[4],\n  };\n}\n\nconst defaultRetryAfter = 60 * 1000; // 60 seconds\n\n/**\n * Extracts Retry-After value from the request header or returns default value\n * @param now current unix timestamp\n * @param header string representation of 'Retry-After' header\n */\nexport function parseRetryAfterHeader(now: number, header?: string | number | null): number {\n  if (!header) {\n    return defaultRetryAfter;\n  }\n\n  const headerDelay = parseInt(`${header}`, 10);\n  if (!isNaN(headerDelay)) {\n    return headerDelay * 1000;\n  }\n\n  const headerDate = Date.parse(`${header}`);\n  if (!isNaN(headerDate)) {\n    return headerDate - now;\n  }\n\n  return defaultRetryAfter;\n}\n\nconst defaultFunctionName = '<anonymous>';\n\n/**\n * Safely extract function name from itself\n */\nexport function getFunctionName(fn: unknown): string {\n  try {\n    if (!fn || typeof fn !== 'function') {\n      return defaultFunctionName;\n    }\n    return fn.name || defaultFunctionName;\n  } catch (e) {\n    // Just accessing custom props in some Selenium environments\n    // can cause a \"Permission denied\" exception (see raven-js#495).\n    return defaultFunctionName;\n  }\n}\n\n/**\n * This function adds context (pre/post/line) lines to the provided frame\n *\n * @param lines string[] containing all lines\n * @param frame StackFrame that will be mutated\n * @param linesOfContext number of context lines we want to add pre/post\n */\nexport function addContextToFrame(lines: string[], frame: StackFrame, linesOfContext: number = 5): void {\n  const lineno = frame.lineno || 0;\n  const maxLines = lines.length;\n  const sourceLine = Math.max(Math.min(maxLines, lineno - 1), 0);\n\n  frame.pre_context = lines\n    .slice(Math.max(0, sourceLine - linesOfContext), sourceLine)\n    .map((line: string) => snipLine(line, 0));\n\n  frame.context_line = snipLine(lines[Math.min(maxLines - 1, sourceLine)], frame.colno || 0);\n\n  frame.post_context = lines\n    .slice(Math.min(sourceLine + 1, maxLines), sourceLine + 1 + linesOfContext)\n    .map((line: string) => snipLine(line, 0));\n}\n","// tslint:disable:no-unsafe-any\n/**\n * Memo class used for decycle json objects. Uses WeakSet if available otherwise array.\n */\nexport class Memo {\n  /** Determines if WeakSet is available */\n  private readonly _hasWeakSet: boolean;\n  /** Either WeakSet or Array */\n  private readonly _inner: any;\n\n  public constructor() {\n    // tslint:disable-next-line\n    this._hasWeakSet = typeof WeakSet === 'function';\n    this._inner = this._hasWeakSet ? new WeakSet() : [];\n  }\n\n  /**\n   * Sets obj to remember.\n   * @param obj Object to remember\n   */\n  public memoize(obj: any): boolean {\n    if (this._hasWeakSet) {\n      if (this._inner.has(obj)) {\n        return true;\n      }\n      this._inner.add(obj);\n      return false;\n    }\n    // tslint:disable-next-line:prefer-for-of\n    for (let i = 0; i < this._inner.length; i++) {\n      const value = this._inner[i];\n      if (value === obj) {\n        return true;\n      }\n    }\n    this._inner.push(obj);\n    return false;\n  }\n\n  /**\n   * Removes object from internal storage.\n   * @param obj Object to forget\n   */\n  public unmemoize(obj: any): void {\n    if (this._hasWeakSet) {\n      this._inner.delete(obj);\n    } else {\n      for (let i = 0; i < this._inner.length; i++) {\n        if (this._inner[i] === obj) {\n          this._inner.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n}\n","import {createContext} from \"preact\";\r\n\r\nexport default createContext(\"White\");\r\n","\n\t\timport Async from \"../../node_modules/@preact/async-loader/async-legacy.js\";\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tcb( require(\"!!../../node_modules/babel-loader/lib/index.js??ref--4!./mingwinstall.js\") );\n\t\t\t}, \"route-mingwinstall\");\n\t\t}\n\n\t\texport default Async(load);\n\t","/**\n * Checks whether given value's type is one of a few Error or Error-like\n * {@link isError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isError(wat: any): boolean {\n  switch (Object.prototype.toString.call(wat)) {\n    case '[object Error]':\n      return true;\n    case '[object Exception]':\n      return true;\n    case '[object DOMException]':\n      return true;\n    default:\n      return isInstanceOf(wat, Error);\n  }\n}\n\n/**\n * Checks whether given value's type is ErrorEvent\n * {@link isErrorEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isErrorEvent(wat: any): boolean {\n  return Object.prototype.toString.call(wat) === '[object ErrorEvent]';\n}\n\n/**\n * Checks whether given value's type is DOMError\n * {@link isDOMError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isDOMError(wat: any): boolean {\n  return Object.prototype.toString.call(wat) === '[object DOMError]';\n}\n\n/**\n * Checks whether given value's type is DOMException\n * {@link isDOMException}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isDOMException(wat: any): boolean {\n  return Object.prototype.toString.call(wat) === '[object DOMException]';\n}\n\n/**\n * Checks whether given value's type is a string\n * {@link isString}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isString(wat: any): boolean {\n  return Object.prototype.toString.call(wat) === '[object String]';\n}\n\n/**\n * Checks whether given value's is a primitive (undefined, null, number, boolean, string)\n * {@link isPrimitive}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isPrimitive(wat: any): boolean {\n  return wat === null || (typeof wat !== 'object' && typeof wat !== 'function');\n}\n\n/**\n * Checks whether given value's type is an object literal\n * {@link isPlainObject}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isPlainObject(wat: any): boolean {\n  return Object.prototype.toString.call(wat) === '[object Object]';\n}\n\n/**\n * Checks whether given value's type is an Event instance\n * {@link isEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isEvent(wat: any): boolean {\n  // tslint:disable-next-line:strict-type-predicates\n  return typeof Event !== 'undefined' && isInstanceOf(wat, Event);\n}\n\n/**\n * Checks whether given value's type is an Element instance\n * {@link isElement}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isElement(wat: any): boolean {\n  // tslint:disable-next-line:strict-type-predicates\n  return typeof Element !== 'undefined' && isInstanceOf(wat, Element);\n}\n\n/**\n * Checks whether given value's type is an regexp\n * {@link isRegExp}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isRegExp(wat: any): boolean {\n  return Object.prototype.toString.call(wat) === '[object RegExp]';\n}\n\n/**\n * Checks whether given value has a then function.\n * @param wat A value to be checked.\n */\nexport function isThenable(wat: any): boolean {\n  // tslint:disable:no-unsafe-any\n  return Boolean(wat && wat.then && typeof wat.then === 'function');\n  // tslint:enable:no-unsafe-any\n}\n\n/**\n * Checks whether given value's type is a SyntheticEvent\n * {@link isSyntheticEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isSyntheticEvent(wat: any): boolean {\n  // tslint:disable-next-line:no-unsafe-any\n  return isPlainObject(wat) && 'nativeEvent' in wat && 'preventDefault' in wat && 'stopPropagation' in wat;\n}\n/**\n * Checks whether given value's type is an instance of provided constructor.\n * {@link isInstanceOf}.\n *\n * @param wat A value to be checked.\n * @param base A constructor to be used in a check.\n * @returns A boolean representing the result.\n */\nexport function isInstanceOf(wat: any, base: any): boolean {\n  try {\n    // tslint:disable-next-line:no-unsafe-any\n    return wat instanceof base;\n  } catch (_e) {\n    return false;\n  }\n}\n","// Slightly modified (no IE8 support, ES6) and transcribed to TypeScript\n// https://raw.githubusercontent.com/calvinmetcalf/rollup-plugin-node-builtins/master/src/es6/path.js\n\n/** JSDoc */\nfunction normalizeArray(parts: string[], allowAboveRoot?: boolean): string[] {\n  // if the path tries to go above the root, `up` ends up > 0\n  let up = 0;\n  for (let i = parts.length - 1; i >= 0; i--) {\n    const last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nconst splitPathRe = /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\n/** JSDoc */\nfunction splitPath(filename: string): string[] {\n  const parts = splitPathRe.exec(filename);\n  return parts ? parts.slice(1) : [];\n}\n\n// path.resolve([from ...], to)\n// posix version\n/** JSDoc */\nexport function resolve(...args: string[]): string {\n  let resolvedPath = '';\n  let resolvedAbsolute = false;\n\n  for (let i = args.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    const path = i >= 0 ? args[i] : '/';\n\n    // Skip empty entries\n    if (!path) {\n      continue;\n    }\n\n    resolvedPath = `${path}/${resolvedPath}`;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(resolvedPath.split('/').filter(p => !!p), !resolvedAbsolute).join('/');\n\n  return (resolvedAbsolute ? '/' : '') + resolvedPath || '.';\n}\n\n/** JSDoc */\nfunction trim(arr: string[]): string[] {\n  let start = 0;\n  for (; start < arr.length; start++) {\n    if (arr[start] !== '') {\n      break;\n    }\n  }\n\n  let end = arr.length - 1;\n  for (; end >= 0; end--) {\n    if (arr[end] !== '') {\n      break;\n    }\n  }\n\n  if (start > end) {\n    return [];\n  }\n  return arr.slice(start, end - start + 1);\n}\n\n// path.relative(from, to)\n// posix version\n/** JSDoc */\nexport function relative(from: string, to: string): string {\n  // tslint:disable:no-parameter-reassignment\n  from = resolve(from).substr(1);\n  to = resolve(to).substr(1);\n\n  const fromParts = trim(from.split('/'));\n  const toParts = trim(to.split('/'));\n\n  const length = Math.min(fromParts.length, toParts.length);\n  let samePartsLength = length;\n  for (let i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  let outputParts = [];\n  for (let i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n}\n\n// path.normalize(path)\n// posix version\n/** JSDoc */\nexport function normalizePath(path: string): string {\n  const isPathAbsolute = isAbsolute(path);\n  const trailingSlash = path.substr(-1) === '/';\n\n  // Normalize the path\n  let normalizedPath = normalizeArray(path.split('/').filter(p => !!p), !isPathAbsolute).join('/');\n\n  if (!normalizedPath && !isPathAbsolute) {\n    normalizedPath = '.';\n  }\n  if (normalizedPath && trailingSlash) {\n    normalizedPath += '/';\n  }\n\n  return (isPathAbsolute ? '/' : '') + normalizedPath;\n}\n\n// posix version\n/** JSDoc */\nexport function isAbsolute(path: string): boolean {\n  return path.charAt(0) === '/';\n}\n\n// posix version\n/** JSDoc */\nexport function join(...args: string[]): string {\n  return normalizePath(args.join('/'));\n}\n\n/** JSDoc */\nexport function dirname(path: string): string {\n  const result = splitPath(path);\n  const root = result[0];\n  let dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n}\n\n/** JSDoc */\nexport function basename(path: string, ext?: string): string {\n  let f = splitPath(path)[2];\n  if (ext && f.substr(ext.length * -1) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n}\n","import { EventProcessor, Hub, Integration } from '@sentry/types';\nimport { getGlobalObject, supportsReportingObserver } from '@sentry/utils';\n\n/** JSDoc */\ninterface Report {\n  [key: string]: any;\n  type: ReportTypes;\n  url: string;\n  body?: ReportBody;\n}\n\n/** JSDoc */\nenum ReportTypes {\n  /** JSDoc */\n  Crash = 'crash',\n  /** JSDoc */\n  Deprecation = 'deprecation',\n  /** JSDoc */\n  Intervention = 'intervention',\n}\n\n/** JSDoc */\ntype ReportBody = CrashReportBody | DeprecationReportBody | InterventionReportBody;\n\n/** JSDoc */\ninterface CrashReportBody {\n  [key: string]: any;\n  crashId: string;\n  reason?: string;\n}\n\n/** JSDoc */\ninterface DeprecationReportBody {\n  [key: string]: any;\n  id: string;\n  anticipatedRemoval?: Date;\n  message: string;\n  sourceFile?: string;\n  lineNumber?: number;\n  columnNumber?: number;\n}\n\n/** JSDoc */\ninterface InterventionReportBody {\n  [key: string]: any;\n  id: string;\n  message: string;\n  sourceFile?: string;\n  lineNumber?: number;\n  columnNumber?: number;\n}\n\n/** Reporting API integration - https://w3c.github.io/reporting/ */\nexport class ReportingObserver implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public readonly name: string = ReportingObserver.id;\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'ReportingObserver';\n\n  /**\n   * Returns current hub.\n   */\n  private _getCurrentHub?: () => Hub;\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(\n    private readonly _options: {\n      types?: ReportTypes[];\n    } = {\n      types: [ReportTypes.Crash, ReportTypes.Deprecation, ReportTypes.Intervention],\n    },\n  ) {}\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(_: (callback: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    // tslint:disable:no-unsafe-any\n\n    if (!supportsReportingObserver()) {\n      return;\n    }\n\n    this._getCurrentHub = getCurrentHub;\n\n    const observer = new (getGlobalObject<any>()).ReportingObserver(this.handler.bind(this), {\n      buffered: true,\n      types: this._options.types,\n    });\n\n    observer.observe();\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public handler(reports: Report[]): void {\n    const hub = this._getCurrentHub && this._getCurrentHub();\n    if (!hub || !hub.getIntegration(ReportingObserver)) {\n      return;\n    }\n    for (const report of reports) {\n      hub.withScope(scope => {\n        scope.setExtra('url', report.url);\n\n        const label = `ReportingObserver [${report.type}]`;\n        let details = 'No details available';\n\n        if (report.body) {\n          // Object.keys doesn't work on ReportBody, as all properties are inheirted\n          const plainBody: {\n            [key: string]: any;\n          } = {};\n\n          // tslint:disable-next-line:forin\n          for (const prop in report.body) {\n            plainBody[prop] = report.body[prop];\n          }\n\n          scope.setExtra('body', plainBody);\n\n          if (report.type === ReportTypes.Crash) {\n            const body = report.body as CrashReportBody;\n            // A fancy way to create a message out of crashId OR reason OR both OR fallback\n            details = [body.crashId || '', body.reason || ''].join(' ').trim() || details;\n          } else {\n            const body = report.body as DeprecationReportBody | InterventionReportBody;\n            details = body.message || details;\n          }\n        }\n\n        hub.captureMessage(`${label}: ${details}`);\n      });\n    }\n  }\n}\n","import { Event, EventProcessor, Hub, Integration } from '@sentry/types';\nimport { getGlobalObject, logger } from '@sentry/utils';\n\n// See https://github.com/angular/angular.js/blob/v1.4.7/src/minErr.js\nconst angularPattern = /^\\[((?:[$a-zA-Z0-9]+:)?(?:[$a-zA-Z0-9]+))\\] (.*?)\\n?(\\S+)$/;\n\n/**\n * AngularJS integration\n *\n * Provides an $exceptionHandler for AngularJS\n */\nexport class Angular implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = Angular.id;\n\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'AngularJS';\n\n  /**\n   * moduleName used in Angular's DI resolution algorithm\n   */\n  public static moduleName: string = 'ngSentry';\n\n  /**\n   * Angular's instance\n   */\n  private readonly _angular: any;\n\n  /**\n   * Returns current hub.\n   */\n  private _getCurrentHub?: () => Hub;\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(options: { angular?: any } = {}) {\n    // tslint:disable-next-line: no-unsafe-any\n    this._angular = options.angular || getGlobalObject<any>().angular;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(_: (callback: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    if (!this._angular) {\n      logger.error('AngularIntegration is missing an Angular instance');\n      return;\n    }\n\n    this._getCurrentHub = getCurrentHub;\n\n    // tslint:disable: no-unsafe-any\n    this._angular.module(Angular.moduleName, []).config([\n      '$provide',\n      ($provide: any) => {\n        $provide.decorator('$exceptionHandler', ['$delegate', this._$exceptionHandlerDecorator.bind(this)]);\n      },\n    ]);\n    // tslint:enable: no-unsafe-any\n  }\n\n  /**\n   * Angular's exceptionHandler for Sentry integration\n   */\n  // tslint:disable-next-line: no-unsafe-any\n  private _$exceptionHandlerDecorator($delegate: any): any {\n    return (exception: Error, cause?: string) => {\n      const hub = this._getCurrentHub && this._getCurrentHub();\n\n      if (hub && hub.getIntegration(Angular)) {\n        hub.withScope(scope => {\n          if (cause) {\n            scope.setExtra('cause', cause);\n          }\n\n          scope.addEventProcessor((event: Event) => {\n            const ex = event.exception && event.exception.values && event.exception.values[0];\n\n            if (ex) {\n              const matches = angularPattern.exec(ex.value || '');\n\n              if (matches) {\n                // This type now becomes something like: $rootScope:inprog\n                ex.type = matches[1];\n                ex.value = matches[2];\n                event.message = `${ex.type}: ${ex.value}`;\n                // auto set a new tag specifically for the angular error url\n                event.extra = {\n                  ...event.extra,\n                  angularDocs: matches[3].substr(0, 250),\n                };\n              }\n            }\n\n            return event;\n          });\n\n          hub.captureException(exception);\n        });\n      }\n      // tslint:disable-next-line: no-unsafe-any\n      $delegate(exception, cause);\n    };\n  }\n}\n","import { EventProcessor, Hub, Integration, Severity } from '@sentry/types';\nimport { fill, getGlobalObject, safeJoin } from '@sentry/utils';\n\nconst global = getGlobalObject<Window | NodeJS.Global>();\n\n/** Send Console API calls as Sentry Events */\nexport class CaptureConsole implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = CaptureConsole.id;\n\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'CaptureConsole';\n\n  /**\n   * @inheritDoc\n   */\n  private readonly _levels: string[] = ['log', 'info', 'warn', 'error', 'debug', 'assert'];\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(options: { levels?: string[] } = {}) {\n    if (options.levels) {\n      this._levels = options.levels;\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(_: (callback: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    if (!('console' in global)) {\n      return;\n    }\n\n    this._levels.forEach((level: string) => {\n      if (!(level in global.console)) {\n        return;\n      }\n\n      fill(global.console, level, (originalConsoleLevel: () => any) => (...args: any[]) => {\n        const hub = getCurrentHub();\n\n        if (hub.getIntegration(CaptureConsole)) {\n          hub.withScope(scope => {\n            scope.setLevel(Severity.fromString(level));\n            scope.setExtra('arguments', args);\n            scope.addEventProcessor(event => {\n              event.logger = 'console';\n              return event;\n            });\n\n            let message = safeJoin(args, ' ');\n            if (level === 'assert') {\n              if (args[0] === false) {\n                message = `Assertion failed: ${safeJoin(args.slice(1), ' ') || 'console.assert'}`;\n                scope.setExtra('arguments', args.slice(1));\n                hub.captureMessage(message);\n              }\n            } else {\n              hub.captureMessage(message);\n            }\n          });\n        }\n\n        // this fails for some browsers. :(\n        if (originalConsoleLevel) {\n          Function.prototype.apply.call(originalConsoleLevel, global.console, args);\n        }\n      });\n    });\n  }\n}\n","import { Event, EventHint, EventProcessor, Hub, Integration } from '@sentry/types';\nimport { consoleSandbox } from '@sentry/utils';\n\n/** JSDoc */\ninterface DebugOptions {\n  stringify?: boolean;\n  debugger?: boolean;\n}\n\n/** JSDoc */\nexport class Debug implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = Debug.id;\n\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'Debug';\n\n  /** JSDoc */\n  private readonly _options: DebugOptions;\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(options?: DebugOptions) {\n    this._options = {\n      debugger: false,\n      stringify: false,\n      ...options,\n    };\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(addGlobalEventProcessor: (callback: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    addGlobalEventProcessor((event: Event, hint?: EventHint) => {\n      const self = getCurrentHub().getIntegration(Debug);\n      if (self) {\n        // tslint:disable:no-console\n        // tslint:disable:no-debugger\n        if (self._options.debugger) {\n          debugger;\n        }\n\n        consoleSandbox(() => {\n          if (self._options.stringify) {\n            console.log(JSON.stringify(event, null, 2));\n            if (hint) {\n              console.log(JSON.stringify(hint, null, 2));\n            }\n          } else {\n            console.log(event);\n            if (hint) {\n              console.log(hint);\n            }\n          }\n        });\n      }\n      return event;\n    });\n  }\n}\n","import { Event, EventProcessor, Exception, Hub, Integration, StackFrame } from '@sentry/types';\n\n/** Deduplication filter */\nexport class Dedupe implements Integration {\n  /**\n   * @inheritDoc\n   */\n  private _previousEvent?: Event;\n\n  /**\n   * @inheritDoc\n   */\n  public name: string = Dedupe.id;\n\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'Dedupe';\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(addGlobalEventProcessor: (callback: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    addGlobalEventProcessor((currentEvent: Event) => {\n      const self = getCurrentHub().getIntegration(Dedupe);\n      if (self) {\n        // Juuust in case something goes wrong\n        try {\n          if (self._shouldDropEvent(currentEvent, self._previousEvent)) {\n            return null;\n          }\n        } catch (_oO) {\n          return (self._previousEvent = currentEvent);\n        }\n\n        return (self._previousEvent = currentEvent);\n      }\n      return currentEvent;\n    });\n  }\n\n  /** JSDoc */\n  private _shouldDropEvent(currentEvent: Event, previousEvent?: Event): boolean {\n    if (!previousEvent) {\n      return false;\n    }\n\n    if (this._isSameMessageEvent(currentEvent, previousEvent)) {\n      return true;\n    }\n\n    if (this._isSameExceptionEvent(currentEvent, previousEvent)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  /** JSDoc */\n  private _isSameMessageEvent(currentEvent: Event, previousEvent: Event): boolean {\n    const currentMessage = currentEvent.message;\n    const previousMessage = previousEvent.message;\n\n    // If neither event has a message property, they were both exceptions, so bail out\n    if (!currentMessage && !previousMessage) {\n      return false;\n    }\n\n    // If only one event has a stacktrace, but not the other one, they are not the same\n    if ((currentMessage && !previousMessage) || (!currentMessage && previousMessage)) {\n      return false;\n    }\n\n    if (currentMessage !== previousMessage) {\n      return false;\n    }\n\n    if (!this._isSameFingerprint(currentEvent, previousEvent)) {\n      return false;\n    }\n\n    if (!this._isSameStacktrace(currentEvent, previousEvent)) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /** JSDoc */\n  private _getFramesFromEvent(event: Event): StackFrame[] | undefined {\n    const exception = event.exception;\n\n    if (exception) {\n      try {\n        // @ts-ignore\n        return exception.values[0].stacktrace.frames;\n      } catch (_oO) {\n        return undefined;\n      }\n    } else if (event.stacktrace) {\n      return event.stacktrace.frames;\n    }\n    return undefined;\n  }\n\n  /** JSDoc */\n  private _isSameStacktrace(currentEvent: Event, previousEvent: Event): boolean {\n    let currentFrames = this._getFramesFromEvent(currentEvent);\n    let previousFrames = this._getFramesFromEvent(previousEvent);\n\n    // If neither event has a stacktrace, they are assumed to be the same\n    if (!currentFrames && !previousFrames) {\n      return true;\n    }\n\n    // If only one event has a stacktrace, but not the other one, they are not the same\n    if ((currentFrames && !previousFrames) || (!currentFrames && previousFrames)) {\n      return false;\n    }\n\n    currentFrames = currentFrames as StackFrame[];\n    previousFrames = previousFrames as StackFrame[];\n\n    // If number of frames differ, they are not the same\n    if (previousFrames.length !== currentFrames.length) {\n      return false;\n    }\n\n    // Otherwise, compare the two\n    for (let i = 0; i < previousFrames.length; i++) {\n      const frameA = previousFrames[i];\n      const frameB = currentFrames[i];\n\n      if (\n        frameA.filename !== frameB.filename ||\n        frameA.lineno !== frameB.lineno ||\n        frameA.colno !== frameB.colno ||\n        frameA.function !== frameB.function\n      ) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  /** JSDoc */\n  private _getExceptionFromEvent(event: Event): Exception | undefined {\n    return event.exception && event.exception.values && event.exception.values[0];\n  }\n\n  /** JSDoc */\n  private _isSameExceptionEvent(currentEvent: Event, previousEvent: Event): boolean {\n    const previousException = this._getExceptionFromEvent(previousEvent);\n    const currentException = this._getExceptionFromEvent(currentEvent);\n\n    if (!previousException || !currentException) {\n      return false;\n    }\n\n    if (previousException.type !== currentException.type || previousException.value !== currentException.value) {\n      return false;\n    }\n\n    if (!this._isSameFingerprint(currentEvent, previousEvent)) {\n      return false;\n    }\n\n    if (!this._isSameStacktrace(currentEvent, previousEvent)) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /** JSDoc */\n  private _isSameFingerprint(currentEvent: Event, previousEvent: Event): boolean {\n    let currentFingerprint = currentEvent.fingerprint;\n    let previousFingerprint = previousEvent.fingerprint;\n\n    // If neither event has a fingerprint, they are assumed to be the same\n    if (!currentFingerprint && !previousFingerprint) {\n      return true;\n    }\n\n    // If only one event has a fingerprint, but not the other one, they are not the same\n    if ((currentFingerprint && !previousFingerprint) || (!currentFingerprint && previousFingerprint)) {\n      return false;\n    }\n\n    currentFingerprint = currentFingerprint as string[];\n    previousFingerprint = previousFingerprint as string[];\n\n    // Otherwise, compare the two\n    try {\n      return !!(currentFingerprint.join('') === previousFingerprint.join(''));\n    } catch (_oO) {\n      return false;\n    }\n  }\n}\n","import { EventProcessor, Hub, Integration } from '@sentry/types';\nimport { getGlobalObject, isInstanceOf, logger } from '@sentry/utils';\n\n/** JSDoc */\nexport class Ember implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = Ember.id;\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'Ember';\n\n  /**\n   * @inheritDoc\n   */\n  private readonly _Ember: any; // tslint:disable-line:variable-name\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(options: { Ember?: any } = {}) {\n    // tslint:disable-next-line: no-unsafe-any\n    this._Ember = options.Ember || getGlobalObject<any>().Ember;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(_: (callback: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    // tslint:disable:no-unsafe-any\n\n    if (!this._Ember) {\n      logger.error('EmberIntegration is missing an Ember instance');\n      return;\n    }\n\n    const oldOnError = this._Ember.onerror;\n\n    this._Ember.onerror = (error: Error): void => {\n      if (getCurrentHub().getIntegration(Ember)) {\n        getCurrentHub().captureException(error, { originalException: error });\n      }\n\n      if (typeof oldOnError === 'function') {\n        oldOnError.call(this._Ember, error);\n      } else if (this._Ember.testing) {\n        throw error;\n      }\n    };\n\n    this._Ember.RSVP.on(\n      'error',\n      (reason: any): void => {\n        if (getCurrentHub().getIntegration(Ember)) {\n          getCurrentHub().withScope(scope => {\n            if (isInstanceOf(reason, Error)) {\n              scope.setExtra('context', 'Unhandled Promise error detected');\n              getCurrentHub().captureException(reason, { originalException: reason });\n            } else {\n              scope.setExtra('reason', reason);\n              getCurrentHub().captureMessage('Unhandled Promise error detected');\n            }\n          });\n        }\n      },\n    );\n  }\n}\n","import { Event, EventHint, EventProcessor, ExtendedError, Hub, Integration } from '@sentry/types';\nimport { isError, isPlainObject, logger, normalize } from '@sentry/utils';\n\n/** JSDoc */\ninterface ExtraErrorDataOptions {\n  depth?: number;\n}\n\n/** Patch toString calls to return proper name for wrapped functions */\nexport class ExtraErrorData implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = ExtraErrorData.id;\n\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'ExtraErrorData';\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(private readonly _options: ExtraErrorDataOptions = { depth: 3 }) {}\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(addGlobalEventProcessor: (callback: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    addGlobalEventProcessor((event: Event, hint?: EventHint) => {\n      const self = getCurrentHub().getIntegration(ExtraErrorData);\n      if (!self) {\n        return event;\n      }\n      return self.enhanceEventWithErrorData(event, hint);\n    });\n  }\n\n  /**\n   * Attaches extracted information from the Error object to extra field in the Event\n   */\n  public enhanceEventWithErrorData(event: Event, hint?: EventHint): Event {\n    if (!hint || !hint.originalException || !isError(hint.originalException)) {\n      return event;\n    }\n    const name = (hint.originalException as ExtendedError).name || hint.originalException.constructor.name;\n\n    const errorData = this._extractErrorData(hint.originalException as ExtendedError);\n\n    if (errorData) {\n      let contexts = {\n        ...event.contexts,\n      };\n\n      const normalizedErrorData = normalize(errorData, this._options.depth);\n      if (isPlainObject(normalizedErrorData)) {\n        contexts = {\n          ...event.contexts,\n          [name]: {\n            ...normalizedErrorData,\n          },\n        };\n      }\n\n      return {\n        ...event,\n        contexts,\n      };\n    }\n\n    return event;\n  }\n\n  /**\n   * Extract extra information from the Error object\n   */\n  private _extractErrorData(error: ExtendedError): { [key: string]: unknown } | null {\n    let result = null;\n    // We are trying to enhance already existing event, so no harm done if it won't succeed\n    try {\n      const nativeKeys = ['name', 'message', 'stack', 'line', 'column', 'fileName', 'lineNumber', 'columnNumber'];\n      const errorKeys = Object.getOwnPropertyNames(error).filter(key => nativeKeys.indexOf(key) === -1);\n\n      if (errorKeys.length) {\n        const extraErrorInfo: { [key: string]: unknown } = {};\n        for (const key of errorKeys) {\n          let value = error[key];\n          if (isError(value)) {\n            value = (value as Error).toString();\n          }\n          // tslint:disable:no-unsafe-any\n          extraErrorInfo[key] = value;\n        }\n        result = extraErrorInfo;\n      }\n    } catch (oO) {\n      logger.error('Unable to extract extra data from the Error object:', oO);\n    }\n\n    return result;\n  }\n}\n","import { Event, EventProcessor, Hub, Integration, StackFrame, Stacktrace } from '@sentry/types';\nimport { basename, relative } from '@sentry/utils';\n\ntype StackFrameIteratee = (frame: StackFrame) => StackFrame;\n\n/** Rewrite event frames paths */\nexport class RewriteFrames implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = RewriteFrames.id;\n\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'RewriteFrames';\n\n  /**\n   * @inheritDoc\n   */\n  private readonly _root?: string;\n\n  /**\n   * @inheritDoc\n   */\n  private readonly _iteratee: StackFrameIteratee = (frame: StackFrame) => {\n    if (!frame.filename) {\n      return frame;\n    }\n    // Check if the frame filename begins with `/` or a Windows-style prefix such as `C:\\`\n    const isWindowsFrame = /^[A-Z]:\\\\/.test(frame.filename);\n    const startsWithSlash = /^\\//.test(frame.filename);\n    if (frame.filename && (isWindowsFrame || startsWithSlash)) {\n      const filename = isWindowsFrame\n        ? frame.filename\n            .replace(/^[A-Z]:/, '') // remove Windows-style prefix\n            .replace(/\\\\/g, '/') // replace all `\\\\` instances with `/`\n        : frame.filename;\n      const base = this._root ? relative(this._root, filename) : basename(filename);\n      frame.filename = `app:///${base}`;\n    }\n    return frame;\n  };\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(options: { root?: string; iteratee?: StackFrameIteratee } = {}) {\n    if (options.root) {\n      this._root = options.root;\n    }\n    if (options.iteratee) {\n      this._iteratee = options.iteratee;\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(addGlobalEventProcessor: (callback: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    addGlobalEventProcessor(event => {\n      const self = getCurrentHub().getIntegration(RewriteFrames);\n      if (self) {\n        return self.process(event);\n      }\n      return event;\n    });\n  }\n\n  /** JSDoc */\n  public process(event: Event): Event {\n    if (event.exception && Array.isArray(event.exception.values)) {\n      return this._processExceptionsEvent(event);\n    }\n\n    if (event.stacktrace) {\n      return this._processStacktraceEvent(event);\n    }\n\n    return event;\n  }\n\n  /** JSDoc */\n  private _processExceptionsEvent(event: Event): Event {\n    try {\n      return {\n        ...event,\n        exception: {\n          ...event.exception,\n          // The check for this is performed inside `process` call itself, safe to skip here\n          // tslint:disable-next-line:no-non-null-assertion\n          values: event.exception!.values!.map(value => ({\n            ...value,\n            stacktrace: this._processStacktrace(value.stacktrace),\n          })),\n        },\n      };\n    } catch (_oO) {\n      return event;\n    }\n  }\n\n  /** JSDoc */\n  private _processStacktraceEvent(event: Event): Event {\n    try {\n      return {\n        ...event,\n        stacktrace: this._processStacktrace(event.stacktrace),\n      };\n    } catch (_oO) {\n      return event;\n    }\n  }\n\n  /** JSDoc */\n  private _processStacktrace(stacktrace?: Stacktrace): Stacktrace {\n    return {\n      ...stacktrace,\n      frames: stacktrace && stacktrace.frames && stacktrace.frames.map(f => this._iteratee(f)),\n    };\n  }\n}\n","import { Event, EventProcessor, Hub, Integration } from '@sentry/types';\n\n/** This function adds duration since Sentry was initialized till the time event was sent */\nexport class SessionTiming implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = SessionTiming.id;\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'SessionTiming';\n\n  /** Exact time Client was initialized expressed in milliseconds since Unix Epoch. */\n  protected readonly _startTime: number = Date.now();\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(addGlobalEventProcessor: (callback: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    addGlobalEventProcessor(event => {\n      const self = getCurrentHub().getIntegration(SessionTiming);\n      if (self) {\n        return self.process(event);\n      }\n      return event;\n    });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public process(event: Event): Event {\n    const now = Date.now();\n\n    return {\n      ...event,\n      extra: {\n        ...event.extra,\n        ['session:start']: this._startTime,\n        ['session:duration']: now - this._startTime,\n        ['session:end']: now,\n      },\n    };\n  }\n}\n","import { Event, EventProcessor, Hub, Integration, StackFrame } from '@sentry/types';\n\n/** Add node transaction to the event */\nexport class Transaction implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = Transaction.id;\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'Transaction';\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(addGlobalEventProcessor: (callback: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    addGlobalEventProcessor(event => {\n      const self = getCurrentHub().getIntegration(Transaction);\n      if (self) {\n        return self.process(event);\n      }\n      return event;\n    });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public process(event: Event): Event {\n    const frames = this._getFramesFromEvent(event);\n\n    // use for loop so we don't have to reverse whole frames array\n    for (let i = frames.length - 1; i >= 0; i--) {\n      const frame = frames[i];\n\n      if (frame.in_app === true) {\n        event.transaction = this._getTransaction(frame);\n        break;\n      }\n    }\n\n    return event;\n  }\n\n  /** JSDoc */\n  private _getFramesFromEvent(event: Event): StackFrame[] {\n    const exception = event.exception && event.exception.values && event.exception.values[0];\n    return (exception && exception.stacktrace && exception.stacktrace.frames) || [];\n  }\n\n  /** JSDoc */\n  private _getTransaction(frame: StackFrame): string {\n    return frame.module || frame.function ? `${frame.module || '?'}/${frame.function || '?'}` : '<unknown>';\n  }\n}\n","import { EventProcessor, Hub, Integration } from '@sentry/types';\nimport { getGlobalObject, isPlainObject, logger } from '@sentry/utils';\n\n/** JSDoc */\ninterface Metadata {\n  [key: string]: any;\n  componentName?: string;\n  propsData?: {\n    [key: string]: any;\n  };\n  lifecycleHook?: string;\n}\n\n/** JSDoc */\nexport class Vue implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = Vue.id;\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'Vue';\n\n  /**\n   * @inheritDoc\n   */\n  private readonly _Vue: any; // tslint:disable-line:variable-name\n\n  /**\n   * When set to false, Sentry will suppress reporting all props data\n   * from your Vue components for privacy concerns.\n   */\n  private readonly _attachProps: boolean = true;\n\n  /**\n   * When set to true, original Vue's `logError` will be called as well.\n   * https://github.com/vuejs/vue/blob/c2b1cfe9ccd08835f2d99f6ce60f67b4de55187f/src/core/util/error.js#L38-L48\n   */\n  private readonly _logErrors: boolean = false;\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(options: { Vue?: any; attachProps?: boolean; logErrors?: boolean } = {}) {\n    // tslint:disable-next-line: no-unsafe-any\n    this._Vue = options.Vue || getGlobalObject<any>().Vue;\n\n    if (options.logErrors !== undefined) {\n      this._logErrors = options.logErrors;\n    }\n    if (options.attachProps === false) {\n      this._attachProps = false;\n    }\n  }\n\n  /** JSDoc */\n  private _formatComponentName(vm: any): string {\n    // tslint:disable:no-unsafe-any\n\n    if (vm.$root === vm) {\n      return 'root instance';\n    }\n    const name = vm._isVue ? vm.$options.name || vm.$options._componentTag : vm.name;\n    return (\n      (name ? `component <${name}>` : 'anonymous component') +\n      (vm._isVue && vm.$options.__file ? ` at ${vm.$options.__file}` : '')\n    );\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(_: (callback: EventProcessor) => void, getCurrentHub: () => Hub): void {\n    // tslint:disable:no-unsafe-any\n\n    if (!this._Vue || !this._Vue.config) {\n      logger.error('VueIntegration is missing a Vue instance');\n      return;\n    }\n\n    const oldOnError = this._Vue.config.errorHandler;\n\n    this._Vue.config.errorHandler = (error: Error, vm: { [key: string]: any }, info: string): void => {\n      const metadata: Metadata = {};\n\n      if (isPlainObject(vm)) {\n        metadata.componentName = this._formatComponentName(vm);\n\n        if (this._attachProps) {\n          metadata.propsData = vm.$options.propsData;\n        }\n      }\n\n      if (info !== void 0) {\n        metadata.lifecycleHook = info;\n      }\n\n      if (getCurrentHub().getIntegration(Vue)) {\n        // This timeout makes sure that any breadcrumbs are recorded before sending it off the sentry\n        setTimeout(() => {\n          getCurrentHub().withScope(scope => {\n            scope.setContext('vue', metadata);\n            getCurrentHub().captureException(error);\n          });\n        });\n      }\n\n      if (typeof oldOnError === 'function') {\n        oldOnError.call(this._Vue, error, vm, info);\n      }\n\n      if (this._logErrors) {\n        this._Vue.util.warn(`Error in ${info}: \"${error.toString()}\"`, vm);\n        // tslint:disable-next-line:no-console\n        console.error(error);\n      }\n    };\n  }\n}\n","\n\t\timport Async from \"../../node_modules/@preact/async-loader/async-legacy.js\";\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tcb( require(\"!!../../node_modules/babel-loader/lib/index.js??ref--4!./OttimizzazioneLineare.js\") );\n\t\t\t}, \"route-OttimizzazioneLineare\");\n\t\t}\n\n\t\texport default Async(load);\n\t","import { consoleSandbox, getGlobalObject } from './misc';\n\n// TODO: Implement different loggers for different environments\nconst global = getGlobalObject<Window | NodeJS.Global>();\n\n/** Prefix for logging strings */\nconst PREFIX = 'Sentry Logger ';\n\n/** JSDoc */\nclass Logger {\n  /** JSDoc */\n  private _enabled: boolean;\n\n  /** JSDoc */\n  public constructor() {\n    this._enabled = false;\n  }\n\n  /** JSDoc */\n  public disable(): void {\n    this._enabled = false;\n  }\n\n  /** JSDoc */\n  public enable(): void {\n    this._enabled = true;\n  }\n\n  /** JSDoc */\n  public log(...args: any[]): void {\n    if (!this._enabled) {\n      return;\n    }\n    consoleSandbox(() => {\n      global.console.log(`${PREFIX}[Log]: ${args.join(' ')}`); // tslint:disable-line:no-console\n    });\n  }\n\n  /** JSDoc */\n  public warn(...args: any[]): void {\n    if (!this._enabled) {\n      return;\n    }\n    consoleSandbox(() => {\n      global.console.warn(`${PREFIX}[Warn]: ${args.join(' ')}`); // tslint:disable-line:no-console\n    });\n  }\n\n  /** JSDoc */\n  public error(...args: any[]): void {\n    if (!this._enabled) {\n      return;\n    }\n    consoleSandbox(() => {\n      global.console.error(`${PREFIX}[Error]: ${args.join(' ')}`); // tslint:disable-line:no-console\n    });\n  }\n}\n\n// Ensure we only have a single logger instance, even if multiple versions of @sentry/utils are being used\nglobal.__SENTRY__ = global.__SENTRY__ || {};\nconst logger = (global.__SENTRY__.logger as Logger) || (global.__SENTRY__.logger = new Logger());\n\nexport { logger };\n","\n\t\timport Async from \"../../node_modules/@preact/async-loader/async-legacy.js\";\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tcb( require(\"!!../../node_modules/babel-loader/lib/index.js??ref--4!./calcoloNumerico.js\") );\n\t\t\t}, \"route-calcoloNumerico\");\n\t\t}\n\n\t\texport default Async(load);\n\t","import { logger } from './logger';\nimport { getGlobalObject } from './misc';\n\n/**\n * Tells whether current environment supports ErrorEvent objects\n * {@link supportsErrorEvent}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsErrorEvent(): boolean {\n  try {\n    // tslint:disable:no-unused-expression\n    new ErrorEvent('');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tells whether current environment supports DOMError objects\n * {@link supportsDOMError}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsDOMError(): boolean {\n  try {\n    // It really needs 1 argument, not 0.\n    // Chrome: VM89:1 Uncaught TypeError: Failed to construct 'DOMError':\n    // 1 argument required, but only 0 present.\n    // @ts-ignore\n    // tslint:disable:no-unused-expression\n    new DOMError('');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tells whether current environment supports DOMException objects\n * {@link supportsDOMException}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsDOMException(): boolean {\n  try {\n    // tslint:disable:no-unused-expression\n    new DOMException('');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tells whether current environment supports Fetch API\n * {@link supportsFetch}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsFetch(): boolean {\n  if (!('fetch' in getGlobalObject<Window>())) {\n    return false;\n  }\n\n  try {\n    // tslint:disable-next-line:no-unused-expression\n    new Headers();\n    // tslint:disable-next-line:no-unused-expression\n    new Request('');\n    // tslint:disable-next-line:no-unused-expression\n    new Response();\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * isNativeFetch checks if the given function is a native implementation of fetch()\n */\nfunction isNativeFetch(func: Function): boolean {\n  return func && /^function fetch\\(\\)\\s+\\{\\s+\\[native code\\]\\s+\\}$/.test(func.toString());\n}\n\n/**\n * Tells whether current environment supports Fetch API natively\n * {@link supportsNativeFetch}.\n *\n * @returns true if `window.fetch` is natively implemented, false otherwise\n */\nexport function supportsNativeFetch(): boolean {\n  if (!supportsFetch()) {\n    return false;\n  }\n\n  const global = getGlobalObject<Window>();\n\n  // Fast path to avoid DOM I/O\n  // tslint:disable-next-line:no-unbound-method\n  if (isNativeFetch(global.fetch)) {\n    return true;\n  }\n\n  // window.fetch is implemented, but is polyfilled or already wrapped (e.g: by a chrome extension)\n  // so create a \"pure\" iframe to see if that has native fetch\n  let result = false;\n  const doc = global.document;\n  // tslint:disable-next-line:no-unbound-method deprecation\n  if (doc && typeof (doc.createElement as unknown) === `function`) {\n    try {\n      const sandbox = doc.createElement('iframe');\n      sandbox.hidden = true;\n      doc.head.appendChild(sandbox);\n      if (sandbox.contentWindow && sandbox.contentWindow.fetch) {\n        // tslint:disable-next-line:no-unbound-method\n        result = isNativeFetch(sandbox.contentWindow.fetch);\n      }\n      doc.head.removeChild(sandbox);\n    } catch (err) {\n      logger.warn('Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ', err);\n    }\n  }\n\n  return result;\n}\n\n/**\n * Tells whether current environment supports ReportingObserver API\n * {@link supportsReportingObserver}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsReportingObserver(): boolean {\n  // tslint:disable-next-line: no-unsafe-any\n  return 'ReportingObserver' in getGlobalObject();\n}\n\n/**\n * Tells whether current environment supports Referrer Policy API\n * {@link supportsReferrerPolicy}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsReferrerPolicy(): boolean {\n  // Despite all stars in the sky saying that Edge supports old draft syntax, aka 'never', 'always', 'origin' and 'default\n  // https://caniuse.com/#feat=referrer-policy\n  // It doesn't. And it throw exception instead of ignoring this parameter...\n  // REF: https://github.com/getsentry/raven-js/issues/1233\n\n  if (!supportsFetch()) {\n    return false;\n  }\n\n  try {\n    // tslint:disable:no-unused-expression\n    new Request('_', {\n      referrerPolicy: 'origin' as ReferrerPolicy,\n    });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tells whether current environment supports History API\n * {@link supportsHistory}.\n *\n * @returns Answer to the given question.\n */\nexport function supportsHistory(): boolean {\n  // NOTE: in Chrome App environment, touching history.pushState, *even inside\n  //       a try/catch block*, will cause Chrome to output an error to console.error\n  // borrowed from: https://github.com/angular/angular.js/pull/13945/files\n  const global = getGlobalObject<Window>();\n  const chrome = (global as any).chrome;\n  // tslint:disable-next-line:no-unsafe-any\n  const isChromePackagedApp = chrome && chrome.app && chrome.app.runtime;\n  const hasHistoryApi = 'history' in global && !!global.history.pushState && !!global.history.replaceState;\n\n  return !isChromePackagedApp && hasHistoryApi;\n}\n","/** JSDoc */\nexport enum Severity {\n  /** JSDoc */\n  Fatal = 'fatal',\n  /** JSDoc */\n  Error = 'error',\n  /** JSDoc */\n  Warning = 'warning',\n  /** JSDoc */\n  Log = 'log',\n  /** JSDoc */\n  Info = 'info',\n  /** JSDoc */\n  Debug = 'debug',\n  /** JSDoc */\n  Critical = 'critical',\n}\n// tslint:disable:completed-docs\n// tslint:disable:no-unnecessary-qualifier no-namespace\nexport namespace Severity {\n  /**\n   * Converts a string-based level into a {@link Severity}.\n   *\n   * @param level string representation of Severity\n   * @returns Severity\n   */\n  export function fromString(level: string): Severity {\n    switch (level) {\n      case 'debug':\n        return Severity.Debug;\n      case 'info':\n        return Severity.Info;\n      case 'warn':\n      case 'warning':\n        return Severity.Warning;\n      case 'error':\n        return Severity.Error;\n      case 'fatal':\n        return Severity.Fatal;\n      case 'critical':\n        return Severity.Critical;\n      case 'log':\n      default:\n        return Severity.Log;\n    }\n  }\n}\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","let Sentry = null;\nif(process.env.NODE_ENV === \"development\") {\n\tconsole.debug(\"Initializing Preact Debugger...\")\n\trequire(\"preact/debug\");\n}\n//else if(process.env.NODE_ENV === \"production\") {\n\tconsole.debug(\"Initializing Sentry...\")\n\tSentry = require(\"@sentry/browser\");\n\tlet SentryIntegrations = require(\"@sentry/integrations\")\n\t// noinspection JSUnresolvedVariable\n\tSentry.init({\n\t\tdsn: \"https://9f5089346fd14e04a6f412638474dfec@o40131.ingest.sentry.io/5255500\",\n\t\trelease: process.env.RELEASE,\n\t\tenvironment: \"production\",\n\t\tintegrations: [new SentryIntegrations.RewriteFrames({root: \"/docs\", iteratee: (frame) => {\n\t\t\tframe.filename = frame.filename.replace(window.location.toString(), `${window.location.toString()}docs/`);\n\t\t\treturn frame;\n\t\t}})]\n\t});\n//}\n\n// noinspection ES6UnusedImports\nimport _style from './index.less';\n// noinspection ES6UnusedImports\nimport _manifest from './meta/manifest.json';\n// noinspection ES6UnusedImports\nimport _cname from './meta/CNAME';\n// noinspection ES6UnusedImports\nimport _nojekyll from './meta/.nojekyll';\n\nimport Router from 'preact-router';\nimport {createHashHistory} from \"history\";\nimport Home from './routes/home';\nimport Fisica from './routes/fisica';\nimport VlDiGeometria from './routes/vldigeometria';\nimport MingwInstall from './routes/mingwinstall';\nimport Footer from './components/Parts/Footer';\nimport Statistica from './routes/statistica';\nimport OttimizzazioneLineare from \"./routes/OttimizzazioneLineare\";\nimport BasiDiDati from './routes/basiDiDati';\nimport CalcoloNumerico from './routes/calcoloNumerico';\nimport ApprendimentoSistemiArtificiali from \"./routes/apprendimentoSistemiArtificiali\";\nimport LatexRenderColor from \"./contexts/LatexRenderColor\";\n\n// noinspection JSUnusedGlobalSymbols\nexport default function(props) {\n\tthrow new Error(\"Sentry Test\")\n\n\treturn (\n\t\t<div id=\"app\">\n\t\t\t<LatexRenderColor.Provider value={\"White\"}>\n\t\t\t\t<h1><a href=\"/\">Appuntiweb</a> <small>di <a href=\"https://steffo.eu/\">Steffo</a></small></h1>\n\t\t\t\t<Router history={createHashHistory()}>\n\t\t\t\t\t<Home path=\"/\"/>\n\t\t\t\t\t<Fisica path=\"/fisica\"/>\n\t\t\t\t\t<VlDiGeometria path=\"/vldigeometria\"/>\n\t\t\t\t\t<MingwInstall path=\"/mingwinstall\"/>\n\t\t\t\t\t<Statistica path=\"/statistica\"/>\n\t\t\t\t\t<OttimizzazioneLineare path=\"/ottimizzazionelineare\"/>\n\t\t\t\t\t<BasiDiDati path=\"/basididati\"/>\n\t\t\t\t\t<CalcoloNumerico path=\"/calcolonumerico\"/>\n\t\t\t\t\t<ApprendimentoSistemiArtificiali path={\"/apprendimentosistemiartificiali\"}/>\n\t\t\t\t</Router>\n\t\t\t\t<Footer/>\n\t\t\t</LatexRenderColor.Provider>\n\t\t</div>\n\t);\n}\n","import { h, Component } from 'preact';\n\nexport default function(req) {\n\tfunction Async() {\n\t\tComponent.call(this);\n\n\t\tlet b, old;\n\t\tthis.componentWillMount = () => {\n\t\t\tb = this.base = this.nextBase || this.__b; // short circuits 1st render\n\t\t\treq(m => {\n\t\t\t\tthis.setState({ child: m.default || m });\n\t\t\t});\n\t\t};\n\n\t\tthis.shouldComponentUpdate = (_, nxt) => {\n\t\t\tnxt = nxt.child === void 0;\n\t\t\tif (nxt && old === void 0 && b) {\n\t\t\t\t// Node.TEXT_NODE\n\t\t\t\tif (b.nodeType === 3) {\n\t\t\t\t\told = b.data;\n\t\t\t\t} else {\n\t\t\t\t\told = h(b.nodeName, {\n\t\t\t\t\t\tdangerouslySetInnerHTML: { __html: b.innerHTML },\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\told = ''; // dump it\n\t\t\t}\n\t\t\treturn !nxt;\n\t\t};\n\n\t\tthis.render = (p, s) => (s.child ? h(s.child, p) : old);\n\t}\n\t(Async.prototype = new Component()).constructor = Async;\n\treturn Async;\n}\n","\n\t\timport Async from \"../../node_modules/@preact/async-loader/async-legacy.js\";\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tcb( require(\"!!../../node_modules/babel-loader/lib/index.js??ref--4!./basiDiDati.js\") );\n\t\t\t}, \"route-basiDiDati\");\n\t\t}\n\n\t\texport default Async(load);\n\t","\n\t\timport Async from \"../../node_modules/@preact/async-loader/async-legacy.js\";\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tcb( require(\"!!../../node_modules/babel-loader/lib/index.js??ref--4!./home.js\") );\n\t\t\t}, \"route-home\");\n\t\t}\n\n\t\texport default Async(load);\n\t","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n","import { cloneElement, createElement, Component, toChildArray } from 'preact';\nimport { exec, prepareVNodeForRanking, assign, pathRankSort } from './util';\n\nlet customHistory = null;\n\nconst ROUTERS = [];\n\nconst subscribers = [];\n\nconst EMPTY = {};\n\nfunction setUrl(url, type='push') {\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tlet url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn `${url.pathname || ''}${url.search || ''}`;\n}\n\n\n\nfunction route(url, replace=false) {\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (let i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) return true;\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tlet didRoute = false;\n\tfor (let i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (let i=subscribers.length; i--; ) {\n\t\tsubscribers[i](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) return;\n\n\tlet href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) return;\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\trouteFromLink(e.currentTarget || e.target || this);\n\treturn prevent(e);\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) e.stopImmediatePropagation();\n\t\tif (e.stopPropagation) e.stopPropagation();\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\n\tlet t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href')) {\n\t\t\tif (t.hasAttribute('native')) return;\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nlet eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) return;\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', () => {\n\t\t\t\trouteTo(getCurrentUrl());\n\t\t\t});\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nclass Router extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tshouldComponentUpdate(props) {\n\t\tif (props.static!==true) return true;\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t}\n\n\t/** Check if the given URL can be matched against any children */\n\tcanRoute(url) {\n\t\tconst children = toChildArray(this.props.children);\n\t\treturn this.getMatchingChildren(children, url, false).length > 0;\n\t}\n\n\t/** Re-render children with a new URL to match against. */\n\trouteTo(url) {\n\t\tthis.setState({ url });\n\n\t\tconst didRoute = this.canRoute(url);\n\n\t\t// trigger a manual re-route if we're not in the middle of an update:\n\t\tif (!this.updating) this.forceUpdate();\n\n\t\treturn didRoute;\n\t}\n\n\tcomponentWillMount() {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidMount() {\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen((location) => {\n\t\t\t\tthis.routeTo(`${location.pathname || ''}${location.search || ''}`);\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (typeof this.unlisten==='function') this.unlisten();\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t}\n\n\tcomponentWillUpdate() {\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.updating = false;\n\t}\n\n\tgetMatchingChildren(children, url, invoke) {\n\t\treturn children\n\t\t\t.filter(prepareVNodeForRanking)\n\t\t\t.sort(pathRankSort)\n\t\t\t.map( vnode => {\n\t\t\t\tlet matches = exec(url, vnode.props.path, vnode.props);\n\t\t\t\tif (matches) {\n\t\t\t\t\tif (invoke !== false) {\n\t\t\t\t\t\tlet newProps = { url, matches };\n\t\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\t\tdelete newProps.ref;\n\t\t\t\t\t\tdelete newProps.key;\n\t\t\t\t\t\treturn cloneElement(vnode, newProps);\n\t\t\t\t\t}\n\t\t\t\t\treturn vnode;\n\t\t\t\t}\n\t\t\t}).filter(Boolean);\n\t}\n\n\trender({ children, onChange }, { url }) {\n\t\tlet active = this.getMatchingChildren(toChildArray(children), url, true);\n\n\t\tlet current = active[0] || null;\n\n\t\tlet previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl,\n\t\t\t\t\tprevious,\n\t\t\t\t\tactive,\n\t\t\t\t\tcurrent\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t}\n}\n\nconst Link = (props) => (\n\tcreateElement('a', assign({ onClick: handleLinkClick }, props))\n);\n\nconst Route = props => createElement(props.component, props);\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\nRouter.exec = exec;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link, exec };\nexport default Router;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { isRegExp, isString } from './is';\n\n/**\n * Truncates given string to the maximum characters count\n *\n * @param str An object that contains serializable values\n * @param max Maximum number of characters in truncated string\n * @returns string Encoded\n */\nexport function truncate(str: string, max: number = 0): string {\n  // tslint:disable-next-line:strict-type-predicates\n  if (typeof str !== 'string' || max === 0) {\n    return str;\n  }\n  return str.length <= max ? str : `${str.substr(0, max)}...`;\n}\n\n/**\n * This is basically just `trim_line` from\n * https://github.com/getsentry/sentry/blob/master/src/sentry/lang/javascript/processor.py#L67\n *\n * @param str An object that contains serializable values\n * @param max Maximum number of characters in truncated string\n * @returns string Encoded\n */\n\nexport function snipLine(line: string, colno: number): string {\n  let newLine = line;\n  const ll = newLine.length;\n  if (ll <= 150) {\n    return newLine;\n  }\n  if (colno > ll) {\n    colno = ll; // tslint:disable-line:no-parameter-reassignment\n  }\n\n  let start = Math.max(colno - 60, 0);\n  if (start < 5) {\n    start = 0;\n  }\n\n  let end = Math.min(start + 140, ll);\n  if (end > ll - 5) {\n    end = ll;\n  }\n  if (end === ll) {\n    start = Math.max(end - 140, 0);\n  }\n\n  newLine = newLine.slice(start, end);\n  if (start > 0) {\n    newLine = `'{snip} ${newLine}`;\n  }\n  if (end < ll) {\n    newLine += ' {snip}';\n  }\n\n  return newLine;\n}\n\n/**\n * Join values in array\n * @param input array of values to be joined together\n * @param delimiter string to be placed in-between values\n * @returns Joined values\n */\nexport function safeJoin(input: any[], delimiter?: string): string {\n  if (!Array.isArray(input)) {\n    return '';\n  }\n\n  const output = [];\n  // tslint:disable-next-line:prefer-for-of\n  for (let i = 0; i < input.length; i++) {\n    const value = input[i];\n    try {\n      output.push(String(value));\n    } catch (e) {\n      output.push('[value cannot be serialized]');\n    }\n  }\n\n  return output.join(delimiter);\n}\n\n/**\n * Checks if the value matches a regex or includes the string\n * @param value The string value to be checked against\n * @param pattern Either a regex or a string that must be contained in value\n */\nexport function isMatchingPattern(value: string, pattern: RegExp | string): boolean {\n  if (!isString(value)) {\n    return false;\n  }\n\n  if (isRegExp(pattern)) {\n    return (pattern as RegExp).test(value);\n  }\n  if (typeof pattern === 'string') {\n    return value.indexOf(pattern) !== -1;\n  }\n  return false;\n}\n","import style from './Footer.less';\nimport { Component } from 'preact';\n\nexport default function(props) {\n\treturn (\n\t\t<div class={style.footer}>\n\t\t\t {new Date().getFullYear()}\n\t\t\t&nbsp;-&nbsp;\n\t\t\t<a href={\"https://steffo.eu/\"}>Stefano Pigozzi</a>\n\t\t\t&nbsp;-&nbsp;\n\t\t\t<a href=\"https://creativecommons.org/licenses/by-sa/4.0/\">CC BY-SA 4.0</a>\n\t\t\t&nbsp;-&nbsp;\n\t\t\t<a href=\"https://github.com/Steffo99/appuntiweb\">uni.steffo.eu {process.env.RELEASE}</a>\n\t\t\t&nbsp;-&nbsp;\n\t\t\t<a href={\"https://ko-fi.com/steffo\"}>Supportami</a>\n\t\t</div>\n\t);\n}\n","import options from './options';\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\ti;\n\tfor (i in props) {\n\t\tif (i !== 'key' && i !== 'ref') normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 3) {\n\t\tchildren = [children];\n\t\t// https://github.com/preactjs/preact/issues/1916\n\t\tfor (i = 3; i < arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children != null) {\n\t\tnormalizedProps.children = children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(\n\t\ttype,\n\t\tnormalizedProps,\n\t\tprops && props.key,\n\t\tprops && props.ref,\n\t\tnull\n\t);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\tconstructor: undefined,\n\t\t_original: original\n\t};\n\n\tif (original == null) vnode._original = vnode;\n\tif (options.vnode) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn {};\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\tupdate = update(s, this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = oldVNode;\n\n\t\tlet newDom = diff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tnull,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (newDom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\nlet rerenderCount = 0;\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { removeNode } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../index').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Node | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, sibDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\t// Only in very specific places should this logic be invoked (top level `render` and `diffElementNodes`).\n\t// I'm using `EMPTY_OBJ` to signal when `diffChildren` is invoked in these situations. I can't use `null`\n\t// for this purpose, because `null` is a valid value for `oldDom` which can mean to skip to this logic\n\t// (e.g. if mounting a new tree in which the old DOM should be ignored (usually for Fragments).\n\tif (oldDom == EMPTY_OBJ) {\n\t\tif (excessDomChildren != null) {\n\t\t\toldDom = excessDomChildren[0];\n\t\t} else if (oldChildrenLength) {\n\t\t\toldDom = getDomSibling(oldParentVNode, 0);\n\t\t} else {\n\t\t\toldDom = null;\n\t\t}\n\t}\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (typeof childVNode == 'string' || typeof childVNode == 'number') {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._dom != null || childVNode._component != null) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tnull,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tnewDom = diff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\t// Only proceed if the vnode has not been unmounted by `diff()` above.\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tlet nextDom;\n\t\t\tif (childVNode._nextDom !== undefined) {\n\t\t\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t\t\t// of last DOM child of this child VNode\n\t\t\t\tnextDom = childVNode._nextDom;\n\n\t\t\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t\t\t// can clean up the property\n\t\t\t\tchildVNode._nextDom = undefined;\n\t\t\t} else if (\n\t\t\t\texcessDomChildren == oldVNode ||\n\t\t\t\tnewDom != oldDom ||\n\t\t\t\tnewDom.parentNode == null\n\t\t\t) {\n\t\t\t\t// NOTE: excessDomChildren==oldVNode above:\n\t\t\t\t// This is a compression of excessDomChildren==null && oldVNode==null!\n\t\t\t\t// The values only have the same type when `null`.\n\n\t\t\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\t\t\tparentDom.appendChild(newDom);\n\t\t\t\t\tnextDom = null;\n\t\t\t\t} else {\n\t\t\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\t\t\tfor (\n\t\t\t\t\t\tsibDom = oldDom, j = 0;\n\t\t\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildrenLength;\n\t\t\t\t\t\tj += 2\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\t\t\tbreak outer;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\t\t\tnextDom = oldDom;\n\t\t\t\t}\n\n\t\t\t\t// Browsers will infer an option's `value` from `textContent` when\n\t\t\t\t// no value is present. This essentially bypasses our code to set it\n\t\t\t\t// later in `diff()`. It works fine in all browsers except for IE11\n\t\t\t\t// where it breaks setting `select.value`. There it will be always set\n\t\t\t\t// to an empty string. Re-applying an options value will fix that, so\n\t\t\t\t// there are probably some internal data structures that aren't\n\t\t\t\t// updated properly.\n\t\t\t\t//\n\t\t\t\t// To fix it we make sure to reset the inferred value, so that our own\n\t\t\t\t// value check in `diff()` won't be skipped.\n\t\t\t\tif (newParentVNode.type == 'option') {\n\t\t\t\t\tparentDom.value = '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t\t\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t\t\t// See more detail in create-element.js:createVNode\n\t\t\tif (nextDom !== undefined) {\n\t\t\t\toldDom = nextDom;\n\t\t\t} else {\n\t\t\t\toldDom = newDom.nextSibling;\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove children that are not part of any vnode.\n\tif (excessDomChildren != null && typeof newParentVNode.type != 'function') {\n\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) unmount(oldChildren[i], oldChildren[i]);\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children) {\n\tif (children == null || typeof children == 'boolean') {\n\t\treturn [];\n\t} else if (Array.isArray(children)) {\n\t\treturn EMPTY_ARR.concat.apply([], children.map(toChildArray));\n\t}\n\n\treturn [children];\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (\n\t\ttypeof value == 'number' &&\n\t\tIS_NON_DIMENSIONAL.test(key) === false\n\t) {\n\t\tstyle[key] = value + 'px';\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else {\n\t\tstyle[key] = value;\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet s, useCapture, nameLower;\n\n\tif (isSvg) {\n\t\tif (name === 'className') {\n\t\t\tname = 'class';\n\t\t}\n\t} else if (name === 'class') {\n\t\tname = 'className';\n\t}\n\n\tif (name === 'style') {\n\t\ts = dom.style;\n\n\t\tif (typeof value == 'string') {\n\t\t\ts.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\ts.cssText = '';\n\t\t\t\toldValue = null;\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (let i in oldValue) {\n\t\t\t\t\tif (!(value && i in value)) {\n\t\t\t\t\t\tsetStyle(s, i, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (let i in value) {\n\t\t\t\t\tif (!oldValue || value[i] !== oldValue[i]) {\n\t\t\t\t\t\tsetStyle(s, i, value[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tnameLower = name.toLowerCase();\n\t\tname = (nameLower in dom ? nameLower : name).slice(2);\n\n\t\tif (value) {\n\t\t\tif (!oldValue) dom.addEventListener(name, eventProxy, useCapture);\n\t\t\t(dom._listeners || (dom._listeners = {}))[name] = value;\n\t\t} else {\n\t\t\tdom.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t} else if (\n\t\tname !== 'list' &&\n\t\tname !== 'tagName' &&\n\t\t// HTMLButtonElement.form and HTMLInputElement.form are read-only but can be set using\n\t\t// setAttribute\n\t\tname !== 'form' &&\n\t\tname !== 'type' &&\n\t\tname !== 'size' &&\n\t\t!isSvg &&\n\t\tname in dom\n\t) {\n\t\tdom[name] = value == null ? '' : value;\n\t} else if (typeof value != 'function' && name !== 'dangerouslySetInnerHTML') {\n\t\tif (name !== (name = name.replace(/^xlink:?/, ''))) {\n\t\t\tif (value == null || value === false) {\n\t\t\t\tdom.removeAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase()\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tdom.setAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase(),\n\t\t\t\t\tvalue\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (\n\t\t\tvalue == null ||\n\t\t\t(value === false &&\n\t\t\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t\t\t// The value `false` is different from the attribute not\n\t\t\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t\t\t// that other VDOM frameworks also always stringify `false`.\n\t\t\t\t!/^ar/.test(name))\n\t\t) {\n\t\t\tdom.removeAttribute(name);\n\t\t} else {\n\t\t\tdom.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { Component } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Element | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (tmp = 0; tmp < newVNode._children.length; tmp++) {\n\t\t\t\t\t\tif (newVNode._children[tmp]) {\n\t\t\t\t\t\t\tnewVNode._children[tmp]._parent = newVNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type == Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n\n\treturn newVNode._dom;\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet i;\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvg = newVNode.type === 'svg' || isSvg;\n\n\tif (excessDomChildren != null) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild != null &&\n\t\t\t\t((newVNode.type === null\n\t\t\t\t\t? child.nodeType === 3\n\t\t\t\t\t: child.localName === newVNode.type) ||\n\t\t\t\t\tdom == child)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (newVNode.type === null) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = isSvg\n\t\t\t? document.createElementNS('http://www.w3.org/2000/svg', newVNode.type)\n\t\t\t: document.createElement(\n\t\t\t\t\tnewVNode.type,\n\t\t\t\t\tnewProps.is && { is: newProps.is }\n\t\t\t  );\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (newVNode.type === null) {\n\t\tif (oldProps !== newProps && dom.data != newProps) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\tif (excessDomChildren != null) {\n\t\t\texcessDomChildren = EMPTY_ARR.slice.call(dom.childNodes);\n\t\t}\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (let i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (!newHtml || !oldHtml || newHtml.__html != oldHtml.__html) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnewVNode.type === 'foreignObject' ? false : isSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tEMPTY_OBJ,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\ti !== dom.value\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tlet dom;\n\tif (!skipRemove && typeof vnode.type != 'function') {\n\t\tskipRemove = (dom = vnode._dom) != null;\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) unmount(r[i], parentVNode, skipRemove);\n\t\t}\n\t}\n\n\tif (dom != null) removeNode(dom);\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\n\nconst IS_HYDRATE = EMPTY_OBJ;\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {Element | Text} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we\n\t// are in hydration mode or not by passing `IS_HYDRATE` instead of a\n\t// DOM element.\n\tlet isHydrating = replaceNode === IS_HYDRATE;\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\tvnode = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\t((isHydrating ? parentDom : replaceNode || parentDom)._children = vnode),\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\treplaceNode && !isHydrating\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.childNodes.length\n\t\t\t? EMPTY_ARR.slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\treplaceNode || EMPTY_OBJ,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, IS_HYDRATE);\n}\n","import { assign } from './util';\nimport { EMPTY_ARR } from './constants';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./index').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props) {\n\tprops = assign(assign({}, vnode.props), props);\n\tif (arguments.length > 2) props.children = EMPTY_ARR.slice.call(arguments, 2);\n\tlet normalizedProps = {};\n\tfor (const i in props) {\n\t\tif (i !== 'key' && i !== 'ref') normalizedProps[i] = props[i];\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tprops.key || vnode.key,\n\t\tprops.ref || vnode.ref,\n\t\tnull\n\t);\n}\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue) {\n\tconst ctx = {};\n\n\tconst context = {\n\t\t_id: '__cC' + i++,\n\t\t_defaultValue: defaultValue,\n\t\tConsumer(props, context) {\n\t\t\treturn props.children(context);\n\t\t},\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tconst subs = [];\n\t\t\t\tthis.getChildContext = () => {\n\t\t\t\t\tctx[context._id] = this;\n\t\t\t\t\treturn ctx;\n\t\t\t\t};\n\n\t\t\t\tthis.shouldComponentUpdate = _props => {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc.context = _props.value;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\told && old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\tcontext.Consumer.contextType = context;\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\tcontext.Provider._contextRef = context;\n\n\treturn context;\n}\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { enqueueRender } from '../component';\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n */\nexport function _catchError(error, vnode) {\n\t/** @type {import('../internal').Component} */\n\tlet component, hasCaught;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tif (\n\t\t\t\t\tcomponent.constructor &&\n\t\t\t\t\tcomponent.constructor.getDerivedStateFromError != null\n\t\t\t\t) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.setState(\n\t\t\t\t\t\tcomponent.constructor.getDerivedStateFromError(error)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t}\n\n\t\t\t\tif (hasCaught)\n\t\t\t\t\treturn enqueueRender((component._pendingError = component));\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","/* global __webpack_public_path__ */\n\nimport * as Preact from 'preact';\nconst { h, render, hydrate } = Preact;\n\nconst interopDefault = m => (m && m.default ? m.default : m);\n\nconst normalizeURL = url => (url[url.length - 1] === '/' ? url : url + '/');\n\nif (process.env.NODE_ENV === 'development') {\n\t// enable preact devtools\n\trequire('preact/debug');\n\tif (process.env.RHL) {\n\t\t// enable hot loader\n\t\tconst hotLoader = interopDefault(require('react-hot-loader'));\n\t\thotLoader.preact(interopDefault(require('preact')));\n\t}\n\t// only add a debug sw if webpack service worker is not requested.\n\tif (process.env.ADD_SW === undefined && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(__webpack_public_path__ + 'sw-debug.js');\n\t} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(\n\t\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t\t);\n\t}\n} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t// eslint-disable-next-line no-undef\n\tnavigator.serviceWorker.register(\n\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t);\n}\n\nlet app = interopDefault(require('preact-cli-entrypoint'));\n\nif (typeof app === 'function') {\n\tlet root =\n\t\tdocument.getElementById('preact_root') || document.body.firstElementChild;\n\n\tlet init = () => {\n\t\tlet app = interopDefault(require('preact-cli-entrypoint'));\n\t\tlet preRenderData = {};\n\t\tconst inlineDataElement = document.querySelector(\n\t\t\t'[type=\"__PREACT_CLI_DATA__\"]'\n\t\t);\n\t\tif (inlineDataElement) {\n\t\t\tpreRenderData =\n\t\t\t\tJSON.parse(inlineDataElement.innerHTML).preRenderData || preRenderData;\n\t\t}\n\t\t/* An object named CLI_DATA is passed as a prop,\n\t\t * this keeps us future proof if in case we decide,\n\t\t * to send other data like at some point in time.\n\t\t */\n\t\tconst CLI_DATA = { preRenderData };\n\t\tconst currentURL = preRenderData.url ? normalizeURL(preRenderData.url) : '';\n\t\tconst canHydrate =\n\t\t\tprocess.env.PRERENDER &&\n\t\t\tprocess.env.NODE_ENV === 'production' &&\n\t\t\thydrate &&\n\t\t\tcurrentURL === location.pathname;\n\t\tconst doRender = canHydrate ? hydrate : render;\n\t\troot = doRender(h(app, { CLI_DATA }), document.body, root);\n\t};\n\n\tif (module.hot) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import { ExtendedError, WrappedFunction } from '@sentry/types';\n\nimport { isElement, isError, isEvent, isInstanceOf, isPlainObject, isPrimitive, isSyntheticEvent } from './is';\nimport { Memo } from './memo';\nimport { getFunctionName, htmlTreeAsString } from './misc';\nimport { truncate } from './string';\n\n/**\n * Wrap a given object method with a higher-order function\n *\n * @param source An object that contains a method to be wrapped.\n * @param name A name of method to be wrapped.\n * @param replacement A function that should be used to wrap a given method.\n * @returns void\n */\nexport function fill(source: { [key: string]: any }, name: string, replacement: (...args: any[]) => any): void {\n  if (!(name in source)) {\n    return;\n  }\n\n  const original = source[name] as () => any;\n  const wrapped = replacement(original) as WrappedFunction;\n\n  // Make sure it's a function first, as we need to attach an empty prototype for `defineProperties` to work\n  // otherwise it'll throw \"TypeError: Object.defineProperties called on non-object\"\n  // tslint:disable-next-line:strict-type-predicates\n  if (typeof wrapped === 'function') {\n    try {\n      wrapped.prototype = wrapped.prototype || {};\n      Object.defineProperties(wrapped, {\n        __sentry_original__: {\n          enumerable: false,\n          value: original,\n        },\n      });\n    } catch (_Oo) {\n      // This can throw if multiple fill happens on a global object like XMLHttpRequest\n      // Fixes https://github.com/getsentry/sentry-javascript/issues/2043\n    }\n  }\n\n  source[name] = wrapped;\n}\n\n/**\n * Encodes given object into url-friendly format\n *\n * @param object An object that contains serializable values\n * @returns string Encoded\n */\nexport function urlEncode(object: { [key: string]: any }): string {\n  return Object.keys(object)\n    .map(\n      // tslint:disable-next-line:no-unsafe-any\n      key => `${encodeURIComponent(key)}=${encodeURIComponent(object[key])}`,\n    )\n    .join('&');\n}\n\n/**\n * Transforms any object into an object literal with all it's attributes\n * attached to it.\n *\n * @param value Initial source that we have to transform in order to be usable by the serializer\n */\nfunction getWalkSource(\n  value: any,\n): {\n  [key: string]: any;\n} {\n  if (isError(value)) {\n    const error = value as ExtendedError;\n    const err: {\n      stack: string | undefined;\n      message: string;\n      name: string;\n      [key: string]: any;\n    } = {\n      message: error.message,\n      name: error.name,\n      stack: error.stack,\n    };\n\n    for (const i in error) {\n      if (Object.prototype.hasOwnProperty.call(error, i)) {\n        err[i] = error[i];\n      }\n    }\n\n    return err;\n  }\n\n  if (isEvent(value)) {\n    /**\n     * Event-like interface that's usable in browser and node\n     */\n    interface SimpleEvent {\n      [key: string]: unknown;\n      type: string;\n      target?: unknown;\n      currentTarget?: unknown;\n    }\n\n    const event = value as SimpleEvent;\n\n    const source: {\n      [key: string]: any;\n    } = {};\n\n    source.type = event.type;\n\n    // Accessing event.target can throw (see getsentry/raven-js#838, #768)\n    try {\n      source.target = isElement(event.target)\n        ? htmlTreeAsString(event.target)\n        : Object.prototype.toString.call(event.target);\n    } catch (_oO) {\n      source.target = '<unknown>';\n    }\n\n    try {\n      source.currentTarget = isElement(event.currentTarget)\n        ? htmlTreeAsString(event.currentTarget)\n        : Object.prototype.toString.call(event.currentTarget);\n    } catch (_oO) {\n      source.currentTarget = '<unknown>';\n    }\n\n    // tslint:disable-next-line:strict-type-predicates\n    if (typeof CustomEvent !== 'undefined' && isInstanceOf(value, CustomEvent)) {\n      source.detail = event.detail;\n    }\n\n    for (const i in event) {\n      if (Object.prototype.hasOwnProperty.call(event, i)) {\n        source[i] = event;\n      }\n    }\n\n    return source;\n  }\n\n  return value as {\n    [key: string]: any;\n  };\n}\n\n/** Calculates bytes size of input string */\nfunction utf8Length(value: string): number {\n  // tslint:disable-next-line:no-bitwise\n  return ~-encodeURI(value).split(/%..|./).length;\n}\n\n/** Calculates bytes size of input object */\nfunction jsonSize(value: any): number {\n  return utf8Length(JSON.stringify(value));\n}\n\n/** JSDoc */\nexport function normalizeToSize<T>(\n  object: { [key: string]: any },\n  // Default Node.js REPL depth\n  depth: number = 3,\n  // 100kB, as 200kB is max payload size, so half sounds reasonable\n  maxSize: number = 100 * 1024,\n): T {\n  const serialized = normalize(object, depth);\n\n  if (jsonSize(serialized) > maxSize) {\n    return normalizeToSize(object, depth - 1, maxSize);\n  }\n\n  return serialized as T;\n}\n\n/** Transforms any input value into a string form, either primitive value or a type of the input */\nfunction serializeValue(value: any): any {\n  const type = Object.prototype.toString.call(value);\n\n  // Node.js REPL notation\n  if (typeof value === 'string') {\n    return value;\n  }\n  if (type === '[object Object]') {\n    return '[Object]';\n  }\n  if (type === '[object Array]') {\n    return '[Array]';\n  }\n\n  const normalized = normalizeValue(value);\n  return isPrimitive(normalized) ? normalized : type;\n}\n\n/**\n * normalizeValue()\n *\n * Takes unserializable input and make it serializable friendly\n *\n * - translates undefined/NaN values to \"[undefined]\"/\"[NaN]\" respectively,\n * - serializes Error objects\n * - filter global objects\n */\n// tslint:disable-next-line:cyclomatic-complexity\nfunction normalizeValue<T>(value: T, key?: any): T | string {\n  if (key === 'domain' && value && typeof value === 'object' && ((value as unknown) as { _events: any })._events) {\n    return '[Domain]';\n  }\n\n  if (key === 'domainEmitter') {\n    return '[DomainEmitter]';\n  }\n\n  if (typeof (global as any) !== 'undefined' && (value as unknown) === global) {\n    return '[Global]';\n  }\n\n  if (typeof (window as any) !== 'undefined' && (value as unknown) === window) {\n    return '[Window]';\n  }\n\n  if (typeof (document as any) !== 'undefined' && (value as unknown) === document) {\n    return '[Document]';\n  }\n\n  // React's SyntheticEvent thingy\n  if (isSyntheticEvent(value)) {\n    return '[SyntheticEvent]';\n  }\n\n  // tslint:disable-next-line:no-tautology-expression\n  if (typeof value === 'number' && value !== value) {\n    return '[NaN]';\n  }\n\n  if (value === void 0) {\n    return '[undefined]';\n  }\n\n  if (typeof value === 'function') {\n    return `[Function: ${getFunctionName(value)}]`;\n  }\n\n  return value;\n}\n\n/**\n * Walks an object to perform a normalization on it\n *\n * @param key of object that's walked in current iteration\n * @param value object to be walked\n * @param depth Optional number indicating how deep should walking be performed\n * @param memo Optional Memo class handling decycling\n */\nexport function walk(key: string, value: any, depth: number = +Infinity, memo: Memo = new Memo()): any {\n  // If we reach the maximum depth, serialize whatever has left\n  if (depth === 0) {\n    return serializeValue(value);\n  }\n\n  // If value implements `toJSON` method, call it and return early\n  // tslint:disable:no-unsafe-any\n  if (value !== null && value !== undefined && typeof value.toJSON === 'function') {\n    return value.toJSON();\n  }\n  // tslint:enable:no-unsafe-any\n\n  // If normalized value is a primitive, there are no branches left to walk, so we can just bail out, as theres no point in going down that branch any further\n  const normalized = normalizeValue(value, key);\n  if (isPrimitive(normalized)) {\n    return normalized;\n  }\n\n  // Create source that we will use for next itterations, either objectified error object (Error type with extracted keys:value pairs) or the input itself\n  const source = getWalkSource(value);\n\n  // Create an accumulator that will act as a parent for all future itterations of that branch\n  const acc = Array.isArray(value) ? [] : {};\n\n  // If we already walked that branch, bail out, as it's circular reference\n  if (memo.memoize(value)) {\n    return '[Circular ~]';\n  }\n\n  // Walk all keys of the source\n  for (const innerKey in source) {\n    // Avoid iterating over fields in the prototype if they've somehow been exposed to enumeration.\n    if (!Object.prototype.hasOwnProperty.call(source, innerKey)) {\n      continue;\n    }\n    // Recursively walk through all the child nodes\n    (acc as { [key: string]: any })[innerKey] = walk(innerKey, source[innerKey], depth - 1, memo);\n  }\n\n  // Once walked through all the branches, remove the parent from memo storage\n  memo.unmemoize(value);\n\n  // Return accumulated values\n  return acc;\n}\n\n/**\n * normalize()\n *\n * - Creates a copy to prevent original input mutation\n * - Skip non-enumerablers\n * - Calls `toJSON` if implemented\n * - Removes circular references\n * - Translates non-serializeable values (undefined/NaN/Functions) to serializable format\n * - Translates known global objects/Classes to a string representations\n * - Takes care of Error objects serialization\n * - Optionally limit depth of final output\n */\nexport function normalize(input: any, depth?: number): any {\n  try {\n    // tslint:disable-next-line:no-unsafe-any\n    return JSON.parse(JSON.stringify(input, (key: string, value: any) => walk(key, value, depth)));\n  } catch (_oO) {\n    return '**non-serializable**';\n  }\n}\n\n/**\n * Given any captured exception, extract its keys and create a sorted\n * and truncated list that will be used inside the event message.\n * eg. `Non-error exception captured with keys: foo, bar, baz`\n */\nexport function extractExceptionKeysForMessage(exception: any, maxLength: number = 40): string {\n  // tslint:disable:strict-type-predicates\n  const keys = Object.keys(getWalkSource(exception));\n  keys.sort();\n\n  if (!keys.length) {\n    return '[object has no keys]';\n  }\n\n  if (keys[0].length >= maxLength) {\n    return truncate(keys[0], maxLength);\n  }\n\n  for (let includedKeys = keys.length; includedKeys > 0; includedKeys--) {\n    const serialized = keys.slice(0, includedKeys).join(', ');\n    if (serialized.length > maxLength) {\n      continue;\n    }\n    if (includedKeys === keys.length) {\n      return serialized;\n    }\n    return truncate(serialized, maxLength);\n  }\n\n  return '';\n}\n\n/**\n * Given any object, return the new object with removed keys that value was `undefined`.\n * Works recursively on objects and arrays.\n */\nexport function dropUndefinedKeys<T>(val: T): T {\n  if (isPlainObject(val)) {\n    const obj = val as { [key: string]: any };\n    const rv: { [key: string]: any } = {};\n    for (const key of Object.keys(obj)) {\n      if (typeof obj[key] !== 'undefined') {\n        rv[key] = dropUndefinedKeys(obj[key]);\n      }\n    }\n    return rv as T;\n  }\n\n  if (Array.isArray(val)) {\n    return val.map(dropUndefinedKeys) as any;\n  }\n\n  return val;\n}\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n\n  var toParts = (to && to.split('/')) || [];\n  var fromParts = (from && from.split('/')) || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) fromParts.unshift('..');\n\n  if (\n    mustEndAbs &&\n    fromParts[0] !== '' &&\n    (!fromParts[0] || !isAbsolute(fromParts[0]))\n  )\n    fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\nexport default resolvePathname;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport resolvePathname from 'resolve-pathname';\nimport valueEqual from 'value-equal';\nimport warning from 'tiny-warning';\nimport invariant from 'tiny-invariant';\n\nfunction addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n}\nfunction stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n}\nfunction hasBasename(path, prefix) {\n  return path.toLowerCase().indexOf(prefix.toLowerCase()) === 0 && '/?#'.indexOf(path.charAt(prefix.length)) !== -1;\n}\nfunction stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n}\nfunction stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n}\nfunction parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n  var hashIndex = pathname.indexOf('#');\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n}\nfunction createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n  var path = pathname || '/';\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : \"?\" + search;\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : \"#\" + hash;\n  return path;\n}\n\nfunction createLocation(path, state, key, currentLocation) {\n  var location;\n\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n}\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);\n}\n\nfunction createTransitionManager() {\n  var prompt = null;\n\n  function setPrompt(nextPrompt) {\n    process.env.NODE_ENV !== \"production\" ? warning(prompt == null, 'A history supports only one prompt at a time') : void 0;\n    prompt = nextPrompt;\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  }\n\n  function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'A history needs a getUserConfirmation function in order to use a prompt message') : void 0;\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  }\n\n  var listeners = [];\n\n  function appendListener(fn) {\n    var isActive = true;\n\n    function listener() {\n      if (isActive) fn.apply(void 0, arguments);\n    }\n\n    listeners.push(listener);\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function notifyListeners() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(void 0, args);\n    });\n  }\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction getConfirmation(message, callback) {\n  callback(window.confirm(message)); // eslint-disable-line no-alert\n}\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\n\nfunction supportsHistory() {\n  var ua = window.navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n  return window.history && 'pushState' in window.history;\n}\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\n\nfunction supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n}\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\nfunction supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n}\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\n\nfunction isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n}\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nfunction getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n}\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\n\n\nfunction createBrowserHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Browser history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canUseHistory = supportsHistory();\n  var needsHashChangeListener = !supportsPopStateOnHashChange();\n  var _props = props,\n      _props$forceRefresh = _props.forceRefresh,\n      forceRefresh = _props$forceRefresh === void 0 ? false : _props$forceRefresh,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n\n  function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var path = pathname + search + hash;\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path, state, key);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if (isExtraneousPopstateEvent(event)) return;\n    handlePop(getDOMLocation(event.state));\n  }\n\n  function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  }\n\n  var forceNextPop = false;\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  }\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key]; // Public interface\n\n  function createHref(location) {\n    return basename + createPath(location);\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.pushState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex + 1);\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history') : void 0;\n        window.location.href = href;\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.replaceState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history') : void 0;\n        window.location.replace(href);\n      }\n    });\n  }\n\n  function go(n) {\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.addEventListener(HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.removeEventListener(HashChangeEvent, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nvar HashChangeEvent$1 = 'hashchange';\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\nfunction stripHash(url) {\n  var hashIndex = url.indexOf('#');\n  return hashIndex === -1 ? url : url.slice(0, hashIndex);\n}\n\nfunction getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n}\n\nfunction pushHashPath(path) {\n  window.location.hash = path;\n}\n\nfunction replaceHashPath(path) {\n  window.location.replace(stripHash(window.location.href) + '#' + path);\n}\n\nfunction createHashHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Hash history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canGoWithoutReload = supportsGoWithoutReloadUsingHash();\n  var _props = props,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$hashType = _props.hashType,\n      hashType = _props$hashType === void 0 ? 'slash' : _props$hashType;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n  function getDOMLocation() {\n    var path = decodePath(getHashPath());\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  function locationsAreEqual$$1(a, b) {\n    return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash;\n  }\n\n  function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n      if (!forceNextPop && locationsAreEqual$$1(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n      handlePop(location);\n    }\n  }\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  } // Ensure the hash is encoded properly before doing anything else.\n\n\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n  var initialLocation = getDOMLocation();\n  var allPaths = [createPath(initialLocation)]; // Public interface\n\n  function createHref(location) {\n    var baseTag = document.querySelector('base');\n    var href = '';\n\n    if (baseTag && baseTag.getAttribute('href')) {\n      href = stripHash(window.location.href);\n    }\n\n    return href + '#' + encodePath(basename + createPath(location));\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot push state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n        var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex + 1);\n        nextPaths.push(path);\n        allPaths = nextPaths;\n        setState({\n          action: action,\n          location: location\n        });\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack') : void 0;\n        setState();\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot replace state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf(createPath(history.location));\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    process.env.NODE_ENV !== \"production\" ? warning(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser') : void 0;\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(HashChangeEvent$1, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(HashChangeEvent$1, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nfunction clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n}\n/**\n * Creates a history object that stores locations in memory.\n */\n\n\nfunction createMemoryHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      getUserConfirmation = _props.getUserConfirmation,\n      _props$initialEntries = _props.initialEntries,\n      initialEntries = _props$initialEntries === void 0 ? ['/'] : _props$initialEntries,\n      _props$initialIndex = _props.initialIndex,\n      initialIndex = _props$initialIndex === void 0 ? 0 : _props$initialIndex,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = history.entries.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());\n  }); // Public interface\n\n  var createHref = createPath;\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n      var nextEntries = history.entries.slice(0);\n\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      history.entries[history.index] = location;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  }\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    return transitionManager.setPrompt(prompt);\n  }\n\n  function listen(listener) {\n    return transitionManager.appendListener(listener);\n  }\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nexport { createBrowserHistory, createHashHistory, createMemoryHistory, createLocation, locationsAreEqual, parsePath, createPath };\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    throw new Error(prefix + \": \" + (message || ''));\n}\n\nexport default invariant;\n","// This will be replaced\n","import {\n  Breadcrumb,\n  Event,\n  EventHint,\n  EventProcessor,\n  Scope as ScopeInterface,\n  Severity,\n  Span,\n  User,\n} from '@sentry/types';\nimport { getGlobalObject, isThenable, SyncPromise, timestampWithMs } from '@sentry/utils';\n\n/**\n * Holds additional event information. {@link Scope.applyToEvent} will be\n * called by the client before an event will be sent.\n */\nexport class Scope implements ScopeInterface {\n  /** Flag if notifiying is happening. */\n  protected _notifyingListeners: boolean = false;\n\n  /** Callback for client to receive scope changes. */\n  protected _scopeListeners: Array<(scope: Scope) => void> = [];\n\n  /** Callback list that will be called after {@link applyToEvent}. */\n  protected _eventProcessors: EventProcessor[] = [];\n\n  /** Array of breadcrumbs. */\n  protected _breadcrumbs: Breadcrumb[] = [];\n\n  /** User */\n  protected _user: User = {};\n\n  /** Tags */\n  protected _tags: { [key: string]: string } = {};\n\n  /** Extra */\n  protected _extra: { [key: string]: any } = {};\n\n  /** Contexts */\n  protected _context: { [key: string]: any } = {};\n\n  /** Fingerprint */\n  protected _fingerprint?: string[];\n\n  /** Severity */\n  protected _level?: Severity;\n\n  /** Transaction */\n  protected _transaction?: string;\n\n  /** Span */\n  protected _span?: Span;\n\n  /**\n   * Add internal on change listener. Used for sub SDKs that need to store the scope.\n   * @hidden\n   */\n  public addScopeListener(callback: (scope: Scope) => void): void {\n    this._scopeListeners.push(callback);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public addEventProcessor(callback: EventProcessor): this {\n    this._eventProcessors.push(callback);\n    return this;\n  }\n\n  /**\n   * This will be called on every set call.\n   */\n  protected _notifyScopeListeners(): void {\n    if (!this._notifyingListeners) {\n      this._notifyingListeners = true;\n      setTimeout(() => {\n        this._scopeListeners.forEach(callback => {\n          callback(this);\n        });\n        this._notifyingListeners = false;\n      });\n    }\n  }\n\n  /**\n   * This will be called after {@link applyToEvent} is finished.\n   */\n  protected _notifyEventProcessors(\n    processors: EventProcessor[],\n    event: Event | null,\n    hint?: EventHint,\n    index: number = 0,\n  ): PromiseLike<Event | null> {\n    return new SyncPromise<Event | null>((resolve, reject) => {\n      const processor = processors[index];\n      // tslint:disable-next-line:strict-type-predicates\n      if (event === null || typeof processor !== 'function') {\n        resolve(event);\n      } else {\n        const result = processor({ ...event }, hint) as Event | null;\n        if (isThenable(result)) {\n          (result as PromiseLike<Event | null>)\n            .then(final => this._notifyEventProcessors(processors, final, hint, index + 1).then(resolve))\n            .then(null, reject);\n        } else {\n          this._notifyEventProcessors(processors, result, hint, index + 1)\n            .then(resolve)\n            .then(null, reject);\n        }\n      }\n    });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setUser(user: User | null): this {\n    this._user = user || {};\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTags(tags: { [key: string]: string }): this {\n    this._tags = {\n      ...this._tags,\n      ...tags,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTag(key: string, value: string): this {\n    this._tags = { ...this._tags, [key]: value };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setExtras(extras: { [key: string]: any }): this {\n    this._extra = {\n      ...this._extra,\n      ...extras,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setExtra(key: string, extra: any): this {\n    this._extra = { ...this._extra, [key]: extra };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setFingerprint(fingerprint: string[]): this {\n    this._fingerprint = fingerprint;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setLevel(level: Severity): this {\n    this._level = level;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTransaction(transaction?: string): this {\n    this._transaction = transaction;\n    if (this._span) {\n      (this._span as any).transaction = transaction;\n    }\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setContext(key: string, context: { [key: string]: any } | null): this {\n    this._context = { ...this._context, [key]: context };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setSpan(span?: Span): this {\n    this._span = span;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Internal getter for Span, used in Hub.\n   * @hidden\n   */\n  public getSpan(): Span | undefined {\n    return this._span;\n  }\n\n  /**\n   * Inherit values from the parent scope.\n   * @param scope to clone.\n   */\n  public static clone(scope?: Scope): Scope {\n    const newScope = new Scope();\n    if (scope) {\n      newScope._breadcrumbs = [...scope._breadcrumbs];\n      newScope._tags = { ...scope._tags };\n      newScope._extra = { ...scope._extra };\n      newScope._context = { ...scope._context };\n      newScope._user = scope._user;\n      newScope._level = scope._level;\n      newScope._span = scope._span;\n      newScope._transaction = scope._transaction;\n      newScope._fingerprint = scope._fingerprint;\n      newScope._eventProcessors = [...scope._eventProcessors];\n    }\n    return newScope;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public clear(): this {\n    this._breadcrumbs = [];\n    this._tags = {};\n    this._extra = {};\n    this._user = {};\n    this._context = {};\n    this._level = undefined;\n    this._transaction = undefined;\n    this._fingerprint = undefined;\n    this._span = undefined;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public addBreadcrumb(breadcrumb: Breadcrumb, maxBreadcrumbs?: number): this {\n    const mergedBreadcrumb = {\n      timestamp: timestampWithMs(),\n      ...breadcrumb,\n    };\n\n    this._breadcrumbs =\n      maxBreadcrumbs !== undefined && maxBreadcrumbs >= 0\n        ? [...this._breadcrumbs, mergedBreadcrumb].slice(-maxBreadcrumbs)\n        : [...this._breadcrumbs, mergedBreadcrumb];\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public clearBreadcrumbs(): this {\n    this._breadcrumbs = [];\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Applies fingerprint from the scope to the event if there's one,\n   * uses message if there's one instead or get rid of empty fingerprint\n   */\n  private _applyFingerprint(event: Event): void {\n    // Make sure it's an array first and we actually have something in place\n    event.fingerprint = event.fingerprint\n      ? Array.isArray(event.fingerprint)\n        ? event.fingerprint\n        : [event.fingerprint]\n      : [];\n\n    // If we have something on the scope, then merge it with event\n    if (this._fingerprint) {\n      event.fingerprint = event.fingerprint.concat(this._fingerprint);\n    }\n\n    // If we have no data at all, remove empty array default\n    if (event.fingerprint && !event.fingerprint.length) {\n      delete event.fingerprint;\n    }\n  }\n\n  /**\n   * Applies the current context and fingerprint to the event.\n   * Note that breadcrumbs will be added by the client.\n   * Also if the event has already breadcrumbs on it, we do not merge them.\n   * @param event Event\n   * @param hint May contain additional informartion about the original exception.\n   * @hidden\n   */\n  public applyToEvent(event: Event, hint?: EventHint): PromiseLike<Event | null> {\n    if (this._extra && Object.keys(this._extra).length) {\n      event.extra = { ...this._extra, ...event.extra };\n    }\n    if (this._tags && Object.keys(this._tags).length) {\n      event.tags = { ...this._tags, ...event.tags };\n    }\n    if (this._user && Object.keys(this._user).length) {\n      event.user = { ...this._user, ...event.user };\n    }\n    if (this._context && Object.keys(this._context).length) {\n      event.contexts = { ...this._context, ...event.contexts };\n    }\n    if (this._level) {\n      event.level = this._level;\n    }\n    if (this._transaction) {\n      event.transaction = this._transaction;\n    }\n    if (this._span) {\n      event.contexts = { trace: this._span.getTraceContext(), ...event.contexts };\n    }\n\n    this._applyFingerprint(event);\n\n    event.breadcrumbs = [...(event.breadcrumbs || []), ...this._breadcrumbs];\n    event.breadcrumbs = event.breadcrumbs.length > 0 ? event.breadcrumbs : undefined;\n\n    return this._notifyEventProcessors([...getGlobalEventProcessors(), ...this._eventProcessors], event, hint);\n  }\n}\n\n/**\n * Retruns the global event processors.\n */\nfunction getGlobalEventProcessors(): EventProcessor[] {\n  const global = getGlobalObject<Window | NodeJS.Global>();\n  global.__SENTRY__ = global.__SENTRY__ || {};\n  global.__SENTRY__.globalEventProcessors = global.__SENTRY__.globalEventProcessors || [];\n  return global.__SENTRY__.globalEventProcessors;\n}\n\n/**\n * Add a EventProcessor to be kept globally.\n * @param callback EventProcessor to add\n */\nexport function addGlobalEventProcessor(callback: EventProcessor): void {\n  getGlobalEventProcessors().push(callback);\n}\n","import {\n  Breadcrumb,\n  BreadcrumbHint,\n  Client,\n  Event,\n  EventHint,\n  Hub as HubInterface,\n  Integration,\n  IntegrationClass,\n  Severity,\n  Span,\n  SpanContext,\n  User,\n} from '@sentry/types';\nimport { consoleSandbox, getGlobalObject, isNodeEnv, logger, timestampWithMs, uuid4 } from '@sentry/utils';\n\nimport { Carrier, Layer } from './interfaces';\nimport { Scope } from './scope';\n\n/**\n * API compatibility version of this hub.\n *\n * WARNING: This number should only be incresed when the global interface\n * changes a and new methods are introduced.\n *\n * @hidden\n */\nexport const API_VERSION = 3;\n\n/**\n * Default maximum number of breadcrumbs added to an event. Can be overwritten\n * with {@link Options.maxBreadcrumbs}.\n */\nconst DEFAULT_BREADCRUMBS = 100;\n\n/**\n * Absolute maximum number of breadcrumbs added to an event. The\n * `maxBreadcrumbs` option cannot be higher than this value.\n */\nconst MAX_BREADCRUMBS = 100;\n\n/**\n * @inheritDoc\n */\nexport class Hub implements HubInterface {\n  /** Is a {@link Layer}[] containing the client and scope */\n  private readonly _stack: Layer[] = [];\n\n  /** Contains the last event id of a captured event.  */\n  private _lastEventId?: string;\n\n  /**\n   * Creates a new instance of the hub, will push one {@link Layer} into the\n   * internal stack on creation.\n   *\n   * @param client bound to the hub.\n   * @param scope bound to the hub.\n   * @param version number, higher number means higher priority.\n   */\n  public constructor(client?: Client, scope: Scope = new Scope(), private readonly _version: number = API_VERSION) {\n    this._stack.push({ client, scope });\n  }\n\n  /**\n   * Internal helper function to call a method on the top client if it exists.\n   *\n   * @param method The method to call on the client.\n   * @param args Arguments to pass to the client function.\n   */\n  private _invokeClient<M extends keyof Client>(method: M, ...args: any[]): void {\n    const top = this.getStackTop();\n    if (top && top.client && top.client[method]) {\n      (top.client as any)[method](...args, top.scope);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public isOlderThan(version: number): boolean {\n    return this._version < version;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public bindClient(client?: Client): void {\n    const top = this.getStackTop();\n    top.client = client;\n    if (client && client.setupIntegrations) {\n      client.setupIntegrations();\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public pushScope(): Scope {\n    // We want to clone the content of prev scope\n    const stack = this.getStack();\n    const parentScope = stack.length > 0 ? stack[stack.length - 1].scope : undefined;\n    const scope = Scope.clone(parentScope);\n    this.getStack().push({\n      client: this.getClient(),\n      scope,\n    });\n    return scope;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public popScope(): boolean {\n    return this.getStack().pop() !== undefined;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public withScope(callback: (scope: Scope) => void): void {\n    const scope = this.pushScope();\n    try {\n      callback(scope);\n    } finally {\n      this.popScope();\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getClient<C extends Client>(): C | undefined {\n    return this.getStackTop().client as C;\n  }\n\n  /** Returns the scope of the top stack. */\n  public getScope(): Scope | undefined {\n    return this.getStackTop().scope;\n  }\n\n  /** Returns the scope stack for domains or the process. */\n  public getStack(): Layer[] {\n    return this._stack;\n  }\n\n  /** Returns the topmost scope layer in the order domain > local > process. */\n  public getStackTop(): Layer {\n    return this._stack[this._stack.length - 1];\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public captureException(exception: any, hint?: EventHint): string {\n    const eventId = (this._lastEventId = uuid4());\n    let finalHint = hint;\n\n    // If there's no explicit hint provided, mimick the same thing that would happen\n    // in the minimal itself to create a consistent behavior.\n    // We don't do this in the client, as it's the lowest level API, and doing this,\n    // would prevent user from having full control over direct calls.\n    if (!hint) {\n      let syntheticException: Error;\n      try {\n        throw new Error('Sentry syntheticException');\n      } catch (exception) {\n        syntheticException = exception as Error;\n      }\n      finalHint = {\n        originalException: exception,\n        syntheticException,\n      };\n    }\n\n    this._invokeClient('captureException', exception, {\n      ...finalHint,\n      event_id: eventId,\n    });\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public captureMessage(message: string, level?: Severity, hint?: EventHint): string {\n    const eventId = (this._lastEventId = uuid4());\n    let finalHint = hint;\n\n    // If there's no explicit hint provided, mimick the same thing that would happen\n    // in the minimal itself to create a consistent behavior.\n    // We don't do this in the client, as it's the lowest level API, and doing this,\n    // would prevent user from having full control over direct calls.\n    if (!hint) {\n      let syntheticException: Error;\n      try {\n        throw new Error(message);\n      } catch (exception) {\n        syntheticException = exception as Error;\n      }\n      finalHint = {\n        originalException: message,\n        syntheticException,\n      };\n    }\n\n    this._invokeClient('captureMessage', message, level, {\n      ...finalHint,\n      event_id: eventId,\n    });\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public captureEvent(event: Event, hint?: EventHint): string {\n    const eventId = (this._lastEventId = uuid4());\n    this._invokeClient('captureEvent', event, {\n      ...hint,\n      event_id: eventId,\n    });\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public lastEventId(): string | undefined {\n    return this._lastEventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public addBreadcrumb(breadcrumb: Breadcrumb, hint?: BreadcrumbHint): void {\n    const top = this.getStackTop();\n\n    if (!top.scope || !top.client) {\n      return;\n    }\n\n    const { beforeBreadcrumb = null, maxBreadcrumbs = DEFAULT_BREADCRUMBS } =\n      (top.client.getOptions && top.client.getOptions()) || {};\n\n    if (maxBreadcrumbs <= 0) {\n      return;\n    }\n\n    const timestamp = timestampWithMs();\n    const mergedBreadcrumb = { timestamp, ...breadcrumb };\n    const finalBreadcrumb = beforeBreadcrumb\n      ? (consoleSandbox(() => beforeBreadcrumb(mergedBreadcrumb, hint)) as Breadcrumb | null)\n      : mergedBreadcrumb;\n\n    if (finalBreadcrumb === null) {\n      return;\n    }\n\n    top.scope.addBreadcrumb(finalBreadcrumb, Math.min(maxBreadcrumbs, MAX_BREADCRUMBS));\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setUser(user: User | null): void {\n    const top = this.getStackTop();\n    if (!top.scope) {\n      return;\n    }\n    top.scope.setUser(user);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTags(tags: { [key: string]: string }): void {\n    const top = this.getStackTop();\n    if (!top.scope) {\n      return;\n    }\n    top.scope.setTags(tags);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setExtras(extras: { [key: string]: any }): void {\n    const top = this.getStackTop();\n    if (!top.scope) {\n      return;\n    }\n    top.scope.setExtras(extras);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTag(key: string, value: string): void {\n    const top = this.getStackTop();\n    if (!top.scope) {\n      return;\n    }\n    top.scope.setTag(key, value);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setExtra(key: string, extra: any): void {\n    const top = this.getStackTop();\n    if (!top.scope) {\n      return;\n    }\n    top.scope.setExtra(key, extra);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setContext(name: string, context: { [key: string]: any } | null): void {\n    const top = this.getStackTop();\n    if (!top.scope) {\n      return;\n    }\n    top.scope.setContext(name, context);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public configureScope(callback: (scope: Scope) => void): void {\n    const top = this.getStackTop();\n    if (top.scope && top.client) {\n      callback(top.scope);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public run(callback: (hub: Hub) => void): void {\n    const oldHub = makeMain(this);\n    try {\n      callback(this);\n    } finally {\n      makeMain(oldHub);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getIntegration<T extends Integration>(integration: IntegrationClass<T>): T | null {\n    const client = this.getClient();\n    if (!client) {\n      return null;\n    }\n    try {\n      return client.getIntegration(integration);\n    } catch (_oO) {\n      logger.warn(`Cannot retrieve integration ${integration.id} from the current Hub`);\n      return null;\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public startSpan(spanOrSpanContext?: Span | SpanContext, forceNoChild: boolean = false): Span {\n    return this._callExtensionMethod<Span>('startSpan', spanOrSpanContext, forceNoChild);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public traceHeaders(): { [key: string]: string } {\n    return this._callExtensionMethod<{ [key: string]: string }>('traceHeaders');\n  }\n\n  /**\n   * Calls global extension method and binding current instance to the function call\n   */\n  // @ts-ignore\n  private _callExtensionMethod<T>(method: string, ...args: any[]): T {\n    const carrier = getMainCarrier();\n    const sentry = carrier.__SENTRY__;\n    // tslint:disable-next-line: strict-type-predicates\n    if (sentry && sentry.extensions && typeof sentry.extensions[method] === 'function') {\n      return sentry.extensions[method].apply(this, args);\n    }\n    logger.warn(`Extension method ${method} couldn't be found, doing nothing.`);\n  }\n}\n\n/** Returns the global shim registry. */\nexport function getMainCarrier(): Carrier {\n  const carrier = getGlobalObject();\n  carrier.__SENTRY__ = carrier.__SENTRY__ || {\n    extensions: {},\n    hub: undefined,\n  };\n  return carrier;\n}\n\n/**\n * Replaces the current main hub with the passed one on the global object\n *\n * @returns The old replaced hub\n */\nexport function makeMain(hub: Hub): Hub {\n  const registry = getMainCarrier();\n  const oldHub = getHubFromCarrier(registry);\n  setHubOnCarrier(registry, hub);\n  return oldHub;\n}\n\n/**\n * Returns the default hub instance.\n *\n * If a hub is already registered in the global carrier but this module\n * contains a more recent version, it replaces the registered version.\n * Otherwise, the currently registered hub will be returned.\n */\nexport function getCurrentHub(): Hub {\n  // Get main carrier (global for every environment)\n  const registry = getMainCarrier();\n\n  // If there's no hub, or its an old API, assign a new one\n  if (!hasHubOnCarrier(registry) || getHubFromCarrier(registry).isOlderThan(API_VERSION)) {\n    setHubOnCarrier(registry, new Hub());\n  }\n\n  // Prefer domains over global if they are there (applicable only to Node environment)\n  if (isNodeEnv()) {\n    return getHubFromActiveDomain(registry);\n  }\n  // Return hub that lives on a global object\n  return getHubFromCarrier(registry);\n}\n\n/**\n * Try to read the hub from an active domain, fallback to the registry if one doesnt exist\n * @returns discovered hub\n */\nfunction getHubFromActiveDomain(registry: Carrier): Hub {\n  try {\n    const property = 'domain';\n    const carrier = getMainCarrier();\n    const sentry = carrier.__SENTRY__;\n    // tslint:disable-next-line: strict-type-predicates\n    if (!sentry || !sentry.extensions || !sentry.extensions[property]) {\n      return getHubFromCarrier(registry);\n    }\n    const domain = sentry.extensions[property] as any;\n    const activeDomain = domain.active;\n\n    // If there no active domain, just return global hub\n    if (!activeDomain) {\n      return getHubFromCarrier(registry);\n    }\n\n    // If there's no hub on current domain, or its an old API, assign a new one\n    if (!hasHubOnCarrier(activeDomain) || getHubFromCarrier(activeDomain).isOlderThan(API_VERSION)) {\n      const registryHubTopStack = getHubFromCarrier(registry).getStackTop();\n      setHubOnCarrier(activeDomain, new Hub(registryHubTopStack.client, Scope.clone(registryHubTopStack.scope)));\n    }\n\n    // Return hub that lives on a domain\n    return getHubFromCarrier(activeDomain);\n  } catch (_Oo) {\n    // Return hub that lives on a global object\n    return getHubFromCarrier(registry);\n  }\n}\n\n/**\n * This will tell whether a carrier has a hub on it or not\n * @param carrier object\n */\nfunction hasHubOnCarrier(carrier: Carrier): boolean {\n  if (carrier && carrier.__SENTRY__ && carrier.__SENTRY__.hub) {\n    return true;\n  }\n  return false;\n}\n\n/**\n * This will create a new {@link Hub} and add to the passed object on\n * __SENTRY__.hub.\n * @param carrier object\n * @hidden\n */\nexport function getHubFromCarrier(carrier: Carrier): Hub {\n  if (carrier && carrier.__SENTRY__ && carrier.__SENTRY__.hub) {\n    return carrier.__SENTRY__.hub;\n  }\n  carrier.__SENTRY__ = carrier.__SENTRY__ || {};\n  carrier.__SENTRY__.hub = new Hub();\n  return carrier.__SENTRY__.hub;\n}\n\n/**\n * This will set passed {@link Hub} on the passed object's __SENTRY__.hub attribute\n * @param carrier object\n * @param hub Hub\n */\nexport function setHubOnCarrier(carrier: Carrier, hub: Hub): boolean {\n  if (!carrier) {\n    return false;\n  }\n  carrier.__SENTRY__ = carrier.__SENTRY__ || {};\n  carrier.__SENTRY__.hub = hub;\n  return true;\n}\n","export * from './exports';\n\nimport { Integrations as CoreIntegrations } from '@sentry/core';\nimport { getGlobalObject } from '@sentry/utils';\n\nimport * as BrowserIntegrations from './integrations';\nimport * as Transports from './transports';\n\nlet windowIntegrations = {};\n\n// This block is needed to add compatibility with the integrations packages when used with a CDN\n// tslint:disable: no-unsafe-any\nconst _window = getGlobalObject<Window>();\nif (_window.Sentry && _window.Sentry.Integrations) {\n  windowIntegrations = _window.Sentry.Integrations;\n}\n// tslint:enable: no-unsafe-any\n\nconst INTEGRATIONS = {\n  ...windowIntegrations,\n  ...CoreIntegrations,\n  ...BrowserIntegrations,\n};\n\nexport { INTEGRATIONS as Integrations, Transports };\n","import { addGlobalEventProcessor, getCurrentHub } from '@sentry/hub';\nimport { Integration, Options } from '@sentry/types';\nimport { logger } from '@sentry/utils';\n\nexport const installedIntegrations: string[] = [];\n\n/** Map of integrations assigned to a client */\nexport interface IntegrationIndex {\n  [key: string]: Integration;\n}\n\n/** Gets integration to install */\nexport function getIntegrationsToSetup(options: Options): Integration[] {\n  const defaultIntegrations = (options.defaultIntegrations && [...options.defaultIntegrations]) || [];\n  const userIntegrations = options.integrations;\n  let integrations: Integration[] = [];\n  if (Array.isArray(userIntegrations)) {\n    const userIntegrationsNames = userIntegrations.map(i => i.name);\n    const pickedIntegrationsNames: string[] = [];\n\n    // Leave only unique default integrations, that were not overridden with provided user integrations\n    defaultIntegrations.forEach(defaultIntegration => {\n      if (\n        userIntegrationsNames.indexOf(defaultIntegration.name) === -1 &&\n        pickedIntegrationsNames.indexOf(defaultIntegration.name) === -1\n      ) {\n        integrations.push(defaultIntegration);\n        pickedIntegrationsNames.push(defaultIntegration.name);\n      }\n    });\n\n    // Don't add same user integration twice\n    userIntegrations.forEach(userIntegration => {\n      if (pickedIntegrationsNames.indexOf(userIntegration.name) === -1) {\n        integrations.push(userIntegration);\n        pickedIntegrationsNames.push(userIntegration.name);\n      }\n    });\n  } else if (typeof userIntegrations === 'function') {\n    integrations = userIntegrations(defaultIntegrations);\n    integrations = Array.isArray(integrations) ? integrations : [integrations];\n  } else {\n    integrations = [...defaultIntegrations];\n  }\n\n  // Make sure that if present, `Debug` integration will always run last\n  const integrationsNames = integrations.map(i => i.name);\n  const alwaysLastToRun = 'Debug';\n  if (integrationsNames.indexOf(alwaysLastToRun) !== -1) {\n    integrations.push(...integrations.splice(integrationsNames.indexOf(alwaysLastToRun), 1));\n  }\n\n  return integrations;\n}\n\n/** Setup given integration */\nexport function setupIntegration(integration: Integration): void {\n  if (installedIntegrations.indexOf(integration.name) !== -1) {\n    return;\n  }\n  integration.setupOnce(addGlobalEventProcessor, getCurrentHub);\n  installedIntegrations.push(integration.name);\n  logger.log(`Integration installed: ${integration.name}`);\n}\n\n/**\n * Given a list of integration instances this installs them all. When `withDefaults` is set to `true` then all default\n * integrations are added unless they were already provided before.\n * @param integrations array of integration instances\n * @param withDefault should enable default integrations\n */\nexport function setupIntegrations<O extends Options>(options: O): IntegrationIndex {\n  const integrations: IntegrationIndex = {};\n  getIntegrationsToSetup(options).forEach(integration => {\n    integrations[integration.name] = integration;\n    setupIntegration(integration);\n  });\n  return integrations;\n}\n","// tslint:disable:object-literal-sort-keys\n\n/**\n * This was originally forked from https://github.com/occ/TraceKit, but has since been\n * largely modified and is now maintained as part of Sentry JS SDK.\n */\n\n/**\n * An object representing a single stack frame.\n * {Object} StackFrame\n * {string} url The JavaScript or HTML file URL.\n * {string} func The function name, or empty for anonymous functions (if guessing did not work).\n * {string[]?} args The arguments passed to the function, if known.\n * {number=} line The line number, if known.\n * {number=} column The column number, if known.\n * {string[]} context An array of source code lines; the middle element corresponds to the correct line#.\n */\nexport interface StackFrame {\n  url: string;\n  func: string;\n  args: string[];\n  line: number | null;\n  column: number | null;\n}\n\n/**\n * An object representing a JavaScript stack trace.\n * {Object} StackTrace\n * {string} name The name of the thrown exception.\n * {string} message The exception error message.\n * {TraceKit.StackFrame[]} stack An array of stack frames.\n */\nexport interface StackTrace {\n  name: string;\n  message: string;\n  mechanism?: string;\n  stack: StackFrame[];\n  failed?: boolean;\n}\n\n// global reference to slice\nconst UNKNOWN_FUNCTION = '?';\n\n// Chromium based browsers: Chrome, Brave, new Opera, new Edge\nconst chrome = /^\\s*at (?:(.*?) ?\\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\\/).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i;\n// gecko regex: `(?:bundle|\\d+\\.js)`: `bundle` is for react native, `\\d+\\.js` also but specifically for ram bundles because it\n// generates filenames without a prefix like `file://` the filenames in the stacktrace are just 42.js\n// We need this specific case for now because we want no other regex to match.\nconst gecko = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js))(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nconst winjs = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\nconst geckoEval = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\nconst chromeEval = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\n\n/** JSDoc */\nexport function computeStackTrace(ex: any): StackTrace {\n  // tslint:disable:no-unsafe-any\n\n  let stack = null;\n  const popSize: number = ex && ex.framesToPop;\n\n  try {\n    // This must be tried first because Opera 10 *destroys*\n    // its stacktrace property if you try to access the stack\n    // property first!!\n    stack = computeStackTraceFromStacktraceProp(ex);\n    if (stack) {\n      return popFrames(stack, popSize);\n    }\n  } catch (e) {\n    // no-empty\n  }\n\n  try {\n    stack = computeStackTraceFromStackProp(ex);\n    if (stack) {\n      return popFrames(stack, popSize);\n    }\n  } catch (e) {\n    // no-empty\n  }\n\n  return {\n    message: extractMessage(ex),\n    name: ex && ex.name,\n    stack: [],\n    failed: true,\n  };\n}\n\n/** JSDoc */\n// tslint:disable-next-line:cyclomatic-complexity\nfunction computeStackTraceFromStackProp(ex: any): StackTrace | null {\n  // tslint:disable:no-conditional-assignment\n  if (!ex || !ex.stack) {\n    return null;\n  }\n\n  const stack = [];\n  const lines = ex.stack.split('\\n');\n  let isEval;\n  let submatch;\n  let parts;\n  let element;\n\n  for (let i = 0; i < lines.length; ++i) {\n    if ((parts = chrome.exec(lines[i]))) {\n      const isNative = parts[2] && parts[2].indexOf('native') === 0; // start of line\n      isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n      if (isEval && (submatch = chromeEval.exec(parts[2]))) {\n        // throw out eval line/column and use top-most line/column number\n        parts[2] = submatch[1]; // url\n        parts[3] = submatch[2]; // line\n        parts[4] = submatch[3]; // column\n      }\n      element = {\n        // working with the regexp above is super painful. it is quite a hack, but just stripping the `address at `\n        // prefix here seems like the quickest solution for now.\n        url: parts[2] && parts[2].indexOf('address at ') === 0 ? parts[2].substr('address at '.length) : parts[2],\n        func: parts[1] || UNKNOWN_FUNCTION,\n        args: isNative ? [parts[2]] : [],\n        line: parts[3] ? +parts[3] : null,\n        column: parts[4] ? +parts[4] : null,\n      };\n    } else if ((parts = winjs.exec(lines[i]))) {\n      element = {\n        url: parts[2],\n        func: parts[1] || UNKNOWN_FUNCTION,\n        args: [],\n        line: +parts[3],\n        column: parts[4] ? +parts[4] : null,\n      };\n    } else if ((parts = gecko.exec(lines[i]))) {\n      isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n      if (isEval && (submatch = geckoEval.exec(parts[3]))) {\n        // throw out eval line/column and use top-most line number\n        parts[1] = parts[1] || `eval`;\n        parts[3] = submatch[1];\n        parts[4] = submatch[2];\n        parts[5] = ''; // no column when eval\n      } else if (i === 0 && !parts[5] && ex.columnNumber !== void 0) {\n        // FireFox uses this awesome columnNumber property for its top frame\n        // Also note, Firefox's column number is 0-based and everything else expects 1-based,\n        // so adding 1\n        // NOTE: this hack doesn't work if top-most frame is eval\n        stack[0].column = (ex.columnNumber as number) + 1;\n      }\n      element = {\n        url: parts[3],\n        func: parts[1] || UNKNOWN_FUNCTION,\n        args: parts[2] ? parts[2].split(',') : [],\n        line: parts[4] ? +parts[4] : null,\n        column: parts[5] ? +parts[5] : null,\n      };\n    } else {\n      continue;\n    }\n\n    if (!element.func && element.line) {\n      element.func = UNKNOWN_FUNCTION;\n    }\n\n    stack.push(element);\n  }\n\n  if (!stack.length) {\n    return null;\n  }\n\n  return {\n    message: extractMessage(ex),\n    name: ex.name,\n    stack,\n  };\n}\n\n/** JSDoc */\nfunction computeStackTraceFromStacktraceProp(ex: any): StackTrace | null {\n  if (!ex || !ex.stacktrace) {\n    return null;\n  }\n  // Access and store the stacktrace property before doing ANYTHING\n  // else to it because Opera is not very good at providing it\n  // reliably in other circumstances.\n  const stacktrace = ex.stacktrace;\n  const opera10Regex = / line (\\d+).*script (?:in )?(\\S+)(?:: in function (\\S+))?$/i;\n  const opera11Regex = / line (\\d+), column (\\d+)\\s*(?:in (?:<anonymous function: ([^>]+)>|([^\\)]+))\\((.*)\\))? in (.*):\\s*$/i;\n  const lines = stacktrace.split('\\n');\n  const stack = [];\n  let parts;\n\n  for (let line = 0; line < lines.length; line += 2) {\n    // tslint:disable:no-conditional-assignment\n    let element = null;\n    if ((parts = opera10Regex.exec(lines[line]))) {\n      element = {\n        url: parts[2],\n        func: parts[3],\n        args: [],\n        line: +parts[1],\n        column: null,\n      };\n    } else if ((parts = opera11Regex.exec(lines[line]))) {\n      element = {\n        url: parts[6],\n        func: parts[3] || parts[4],\n        args: parts[5] ? parts[5].split(',') : [],\n        line: +parts[1],\n        column: +parts[2],\n      };\n    }\n\n    if (element) {\n      if (!element.func && element.line) {\n        element.func = UNKNOWN_FUNCTION;\n      }\n      stack.push(element);\n    }\n  }\n\n  if (!stack.length) {\n    return null;\n  }\n\n  return {\n    message: extractMessage(ex),\n    name: ex.name,\n    stack,\n  };\n}\n\n/** Remove N number of frames from the stack */\nfunction popFrames(stacktrace: StackTrace, popSize: number): StackTrace {\n  try {\n    return {\n      ...stacktrace,\n      stack: stacktrace.stack.slice(popSize),\n    };\n  } catch (e) {\n    return stacktrace;\n  }\n}\n\n/**\n * There are cases where stacktrace.message is an Event object\n * https://github.com/getsentry/sentry-javascript/issues/1949\n * In this specific case we try to extract stacktrace.message.error.message\n */\nfunction extractMessage(ex: any): string {\n  const message = ex && ex.message;\n  if (!message) {\n    return 'No error message';\n  }\n  if (message.error && typeof message.error.message === 'string') {\n    return message.error.message;\n  }\n  return message;\n}\n","import { Event, Exception, StackFrame } from '@sentry/types';\nimport { extractExceptionKeysForMessage, isEvent, normalizeToSize } from '@sentry/utils';\n\nimport { computeStackTrace, StackFrame as TraceKitStackFrame, StackTrace as TraceKitStackTrace } from './tracekit';\n\nconst STACKTRACE_LIMIT = 50;\n\n/**\n * This function creates an exception from an TraceKitStackTrace\n * @param stacktrace TraceKitStackTrace that will be converted to an exception\n * @hidden\n */\nexport function exceptionFromStacktrace(stacktrace: TraceKitStackTrace): Exception {\n  const frames = prepareFramesForEvent(stacktrace.stack);\n\n  const exception: Exception = {\n    type: stacktrace.name,\n    value: stacktrace.message,\n  };\n\n  if (frames && frames.length) {\n    exception.stacktrace = { frames };\n  }\n\n  // tslint:disable-next-line:strict-type-predicates\n  if (exception.type === undefined && exception.value === '') {\n    exception.value = 'Unrecoverable error caught';\n  }\n\n  return exception;\n}\n\n/**\n * @hidden\n */\nexport function eventFromPlainObject(exception: {}, syntheticException?: Error, rejection?: boolean): Event {\n  const event: Event = {\n    exception: {\n      values: [\n        {\n          type: isEvent(exception) ? exception.constructor.name : rejection ? 'UnhandledRejection' : 'Error',\n          value: `Non-Error ${\n            rejection ? 'promise rejection' : 'exception'\n          } captured with keys: ${extractExceptionKeysForMessage(exception)}`,\n        },\n      ],\n    },\n    extra: {\n      __serialized__: normalizeToSize(exception),\n    },\n  };\n\n  if (syntheticException) {\n    const stacktrace = computeStackTrace(syntheticException);\n    const frames = prepareFramesForEvent(stacktrace.stack);\n    event.stacktrace = {\n      frames,\n    };\n  }\n\n  return event;\n}\n\n/**\n * @hidden\n */\nexport function eventFromStacktrace(stacktrace: TraceKitStackTrace): Event {\n  const exception = exceptionFromStacktrace(stacktrace);\n\n  return {\n    exception: {\n      values: [exception],\n    },\n  };\n}\n\n/**\n * @hidden\n */\nexport function prepareFramesForEvent(stack: TraceKitStackFrame[]): StackFrame[] {\n  if (!stack || !stack.length) {\n    return [];\n  }\n\n  let localStack = stack;\n\n  const firstFrameFunction = localStack[0].func || '';\n  const lastFrameFunction = localStack[localStack.length - 1].func || '';\n\n  // If stack starts with one of our API calls, remove it (starts, meaning it's the top of the stack - aka last call)\n  if (firstFrameFunction.indexOf('captureMessage') !== -1 || firstFrameFunction.indexOf('captureException') !== -1) {\n    localStack = localStack.slice(1);\n  }\n\n  // If stack ends with one of our internal API calls, remove it (ends, meaning it's the bottom of the stack - aka top-most call)\n  if (lastFrameFunction.indexOf('sentryWrapped') !== -1) {\n    localStack = localStack.slice(0, -1);\n  }\n\n  // The frame where the crash happened, should be the last entry in the array\n  return localStack\n    .map(\n      (frame: TraceKitStackFrame): StackFrame => ({\n        colno: frame.column === null ? undefined : frame.column,\n        filename: frame.url || localStack[0].url,\n        function: frame.func || '?',\n        in_app: true,\n        lineno: frame.line === null ? undefined : frame.line,\n      }),\n    )\n    .slice(0, STACKTRACE_LIMIT)\n    .reverse();\n}\n","import { Event } from '@sentry/types';\nimport {\n  addExceptionMechanism,\n  addExceptionTypeValue,\n  isDOMError,\n  isDOMException,\n  isError,\n  isErrorEvent,\n  isEvent,\n  isPlainObject,\n} from '@sentry/utils';\n\nimport { eventFromPlainObject, eventFromStacktrace, prepareFramesForEvent } from './parsers';\nimport { computeStackTrace } from './tracekit';\n\n/** JSDoc */\nexport function eventFromUnknownInput(\n  exception: unknown,\n  syntheticException?: Error,\n  options: {\n    rejection?: boolean;\n    attachStacktrace?: boolean;\n  } = {},\n): Event {\n  let event: Event;\n\n  if (isErrorEvent(exception as ErrorEvent) && (exception as ErrorEvent).error) {\n    // If it is an ErrorEvent with `error` property, extract it to get actual Error\n    const errorEvent = exception as ErrorEvent;\n    exception = errorEvent.error; // tslint:disable-line:no-parameter-reassignment\n    event = eventFromStacktrace(computeStackTrace(exception as Error));\n    return event;\n  }\n  if (isDOMError(exception as DOMError) || isDOMException(exception as DOMException)) {\n    // If it is a DOMError or DOMException (which are legacy APIs, but still supported in some browsers)\n    // then we just extract the name and message, as they don't provide anything else\n    // https://developer.mozilla.org/en-US/docs/Web/API/DOMError\n    // https://developer.mozilla.org/en-US/docs/Web/API/DOMException\n    const domException = exception as DOMException;\n    const name = domException.name || (isDOMError(domException) ? 'DOMError' : 'DOMException');\n    const message = domException.message ? `${name}: ${domException.message}` : name;\n\n    event = eventFromString(message, syntheticException, options);\n    addExceptionTypeValue(event, message);\n    return event;\n  }\n  if (isError(exception as Error)) {\n    // we have a real Error object, do nothing\n    event = eventFromStacktrace(computeStackTrace(exception as Error));\n    return event;\n  }\n  if (isPlainObject(exception) || isEvent(exception)) {\n    // If it is plain Object or Event, serialize it manually and extract options\n    // This will allow us to group events based on top-level keys\n    // which is much better than creating new group when any key/value change\n    const objectException = exception as {};\n    event = eventFromPlainObject(objectException, syntheticException, options.rejection);\n    addExceptionMechanism(event, {\n      synthetic: true,\n    });\n    return event;\n  }\n\n  // If none of previous checks were valid, then it means that it's not:\n  // - an instance of DOMError\n  // - an instance of DOMException\n  // - an instance of Event\n  // - an instance of Error\n  // - a valid ErrorEvent (one with an error property)\n  // - a plain Object\n  //\n  // So bail out and capture it as a simple message:\n  event = eventFromString(exception as string, syntheticException, options);\n  addExceptionTypeValue(event, `${exception}`, undefined);\n  addExceptionMechanism(event, {\n    synthetic: true,\n  });\n\n  return event;\n}\n\n// this._options.attachStacktrace\n/** JSDoc */\nexport function eventFromString(\n  input: string,\n  syntheticException?: Error,\n  options: {\n    attachStacktrace?: boolean;\n  } = {},\n): Event {\n  const event: Event = {\n    message: input,\n  };\n\n  if (options.attachStacktrace && syntheticException) {\n    const stacktrace = computeStackTrace(syntheticException);\n    const frames = prepareFramesForEvent(stacktrace.stack);\n    event.stacktrace = {\n      frames,\n    };\n  }\n\n  return event;\n}\n","import { captureException, withScope } from '@sentry/core';\nimport { Event as SentryEvent, Mechanism, Scope, WrappedFunction } from '@sentry/types';\nimport { addExceptionMechanism, addExceptionTypeValue } from '@sentry/utils';\n\nlet ignoreOnError: number = 0;\n\n/**\n * @hidden\n */\nexport function shouldIgnoreOnError(): boolean {\n  return ignoreOnError > 0;\n}\n\n/**\n * @hidden\n */\nexport function ignoreNextOnError(): void {\n  // onerror should trigger before setTimeout\n  ignoreOnError += 1;\n  setTimeout(() => {\n    ignoreOnError -= 1;\n  });\n}\n\n/**\n * Instruments the given function and sends an event to Sentry every time the\n * function throws an exception.\n *\n * @param fn A function to wrap.\n * @returns The wrapped function.\n * @hidden\n */\nexport function wrap(\n  fn: WrappedFunction,\n  options: {\n    mechanism?: Mechanism;\n  } = {},\n  before?: WrappedFunction,\n): any {\n  // tslint:disable-next-line:strict-type-predicates\n  if (typeof fn !== 'function') {\n    return fn;\n  }\n\n  try {\n    // We don't wanna wrap it twice\n    if (fn.__sentry__) {\n      return fn;\n    }\n\n    // If this has already been wrapped in the past, return that wrapped function\n    if (fn.__sentry_wrapped__) {\n      return fn.__sentry_wrapped__;\n    }\n  } catch (e) {\n    // Just accessing custom props in some Selenium environments\n    // can cause a \"Permission denied\" exception (see raven-js#495).\n    // Bail on wrapping and return the function as-is (defers to window.onerror).\n    return fn;\n  }\n\n  const sentryWrapped: WrappedFunction = function(this: any): void {\n    const args = Array.prototype.slice.call(arguments);\n\n    // tslint:disable:no-unsafe-any\n    try {\n      // tslint:disable-next-line:strict-type-predicates\n      if (before && typeof before === 'function') {\n        before.apply(this, arguments);\n      }\n\n      const wrappedArguments = args.map((arg: any) => wrap(arg, options));\n\n      if (fn.handleEvent) {\n        // Attempt to invoke user-land function\n        // NOTE: If you are a Sentry user, and you are seeing this stack frame, it\n        //       means the sentry.javascript SDK caught an error invoking your application code. This\n        //       is expected behavior and NOT indicative of a bug with sentry.javascript.\n        return fn.handleEvent.apply(this, wrappedArguments);\n      }\n      // Attempt to invoke user-land function\n      // NOTE: If you are a Sentry user, and you are seeing this stack frame, it\n      //       means the sentry.javascript SDK caught an error invoking your application code. This\n      //       is expected behavior and NOT indicative of a bug with sentry.javascript.\n      return fn.apply(this, wrappedArguments);\n      // tslint:enable:no-unsafe-any\n    } catch (ex) {\n      ignoreNextOnError();\n\n      withScope((scope: Scope) => {\n        scope.addEventProcessor((event: SentryEvent) => {\n          const processedEvent = { ...event };\n\n          if (options.mechanism) {\n            addExceptionTypeValue(processedEvent, undefined, undefined);\n            addExceptionMechanism(processedEvent, options.mechanism);\n          }\n\n          processedEvent.extra = {\n            ...processedEvent.extra,\n            arguments: args,\n          };\n\n          return processedEvent;\n        });\n\n        captureException(ex);\n      });\n\n      throw ex;\n    }\n  };\n\n  // Accessing some objects may throw\n  // ref: https://github.com/getsentry/sentry-javascript/issues/1168\n  try {\n    for (const property in fn) {\n      if (Object.prototype.hasOwnProperty.call(fn, property)) {\n        sentryWrapped[property] = fn[property];\n      }\n    }\n  } catch (_oO) {} // tslint:disable-line:no-empty\n\n  fn.prototype = fn.prototype || {};\n  sentryWrapped.prototype = fn.prototype;\n\n  Object.defineProperty(fn, '__sentry_wrapped__', {\n    enumerable: false,\n    value: sentryWrapped,\n  });\n\n  // Signal that this function has been wrapped/filled already\n  // for both debugging and to prevent it to being wrapped/filled twice\n  Object.defineProperties(sentryWrapped, {\n    __sentry__: {\n      enumerable: false,\n      value: true,\n    },\n    __sentry_original__: {\n      enumerable: false,\n      value: fn,\n    },\n  });\n\n  // Restore original function name (not all browsers allow that)\n  try {\n    const descriptor = Object.getOwnPropertyDescriptor(sentryWrapped, 'name') as PropertyDescriptor;\n    if (descriptor.configurable) {\n      Object.defineProperty(sentryWrapped, 'name', {\n        get(): string {\n          return fn.name;\n        },\n      });\n    }\n  } catch (_oO) {\n    /*no-empty*/\n  }\n\n  return sentryWrapped;\n}\n","/* tslint:disable:only-arrow-functions no-unsafe-any */\n\nimport { WrappedFunction } from '@sentry/types';\n\nimport { isInstanceOf, isString } from './is';\nimport { logger } from './logger';\nimport { getFunctionName, getGlobalObject } from './misc';\nimport { fill } from './object';\nimport { supportsHistory, supportsNativeFetch } from './supports';\n\nconst global = getGlobalObject<Window>();\n\n/** Object describing handler that will be triggered for a given `type` of instrumentation */\ninterface InstrumentHandler {\n  type: InstrumentHandlerType;\n  callback: InstrumentHandlerCallback;\n}\ntype InstrumentHandlerType =\n  | 'console'\n  | 'dom'\n  | 'fetch'\n  | 'history'\n  | 'sentry'\n  | 'xhr'\n  | 'error'\n  | 'unhandledrejection';\ntype InstrumentHandlerCallback = (data: any) => void;\n\n/**\n * Instrument native APIs to call handlers that can be used to create breadcrumbs, APM spans etc.\n *  - Console API\n *  - Fetch API\n *  - XHR API\n *  - History API\n *  - DOM API (click/typing)\n *  - Error API\n *  - UnhandledRejection API\n */\n\nconst handlers: { [key in InstrumentHandlerType]?: InstrumentHandlerCallback[] } = {};\nconst instrumented: { [key in InstrumentHandlerType]?: boolean } = {};\n\n/** Instruments given API */\nfunction instrument(type: InstrumentHandlerType): void {\n  if (instrumented[type]) {\n    return;\n  }\n\n  instrumented[type] = true;\n\n  switch (type) {\n    case 'console':\n      instrumentConsole();\n      break;\n    case 'dom':\n      instrumentDOM();\n      break;\n    case 'xhr':\n      instrumentXHR();\n      break;\n    case 'fetch':\n      instrumentFetch();\n      break;\n    case 'history':\n      instrumentHistory();\n      break;\n    case 'error':\n      instrumentError();\n      break;\n    case 'unhandledrejection':\n      instrumentUnhandledRejection();\n      break;\n    default:\n      logger.warn('unknown instrumentation type:', type);\n  }\n}\n\n/**\n * Add handler that will be called when given type of instrumentation triggers.\n * Use at your own risk, this might break without changelog notice, only used internally.\n * @hidden\n */\nexport function addInstrumentationHandler(handler: InstrumentHandler): void {\n  // tslint:disable-next-line:strict-type-predicates\n  if (!handler || typeof handler.type !== 'string' || typeof handler.callback !== 'function') {\n    return;\n  }\n  handlers[handler.type] = handlers[handler.type] || [];\n  (handlers[handler.type] as InstrumentHandlerCallback[]).push(handler.callback);\n  instrument(handler.type);\n}\n\n/** JSDoc */\nfunction triggerHandlers(type: InstrumentHandlerType, data: any): void {\n  if (!type || !handlers[type]) {\n    return;\n  }\n\n  for (const handler of handlers[type] || []) {\n    try {\n      handler(data);\n    } catch (e) {\n      logger.error(\n        `Error while triggering instrumentation handler.\\nType: ${type}\\nName: ${getFunctionName(\n          handler,\n        )}\\nError: ${e}`,\n      );\n    }\n  }\n}\n\n/** JSDoc */\nfunction instrumentConsole(): void {\n  if (!('console' in global)) {\n    return;\n  }\n\n  ['debug', 'info', 'warn', 'error', 'log', 'assert'].forEach(function(level: string): void {\n    if (!(level in global.console)) {\n      return;\n    }\n\n    fill(global.console, level, function(originalConsoleLevel: () => any): Function {\n      return function(...args: any[]): void {\n        triggerHandlers('console', { args, level });\n\n        // this fails for some browsers. :(\n        if (originalConsoleLevel) {\n          Function.prototype.apply.call(originalConsoleLevel, global.console, args);\n        }\n      };\n    });\n  });\n}\n\n/** JSDoc */\nfunction instrumentFetch(): void {\n  if (!supportsNativeFetch()) {\n    return;\n  }\n\n  fill(global, 'fetch', function(originalFetch: () => void): () => void {\n    return function(...args: any[]): void {\n      const commonHandlerData = {\n        args,\n        fetchData: {\n          method: getFetchMethod(args),\n          url: getFetchUrl(args),\n        },\n        startTimestamp: Date.now(),\n      };\n\n      triggerHandlers('fetch', {\n        ...commonHandlerData,\n      });\n\n      return originalFetch.apply(global, args).then(\n        (response: Response) => {\n          triggerHandlers('fetch', {\n            ...commonHandlerData,\n            endTimestamp: Date.now(),\n            response,\n          });\n          return response;\n        },\n        (error: Error) => {\n          triggerHandlers('fetch', {\n            ...commonHandlerData,\n            endTimestamp: Date.now(),\n            error,\n          });\n          throw error;\n        },\n      );\n    };\n  });\n}\n\n/** JSDoc */\ninterface SentryWrappedXMLHttpRequest extends XMLHttpRequest {\n  [key: string]: any;\n  __sentry_xhr__?: {\n    method?: string;\n    url?: string;\n    status_code?: number;\n  };\n}\n\n/** Extract `method` from fetch call arguments */\nfunction getFetchMethod(fetchArgs: any[] = []): string {\n  if ('Request' in global && isInstanceOf(fetchArgs[0], Request) && fetchArgs[0].method) {\n    return String(fetchArgs[0].method).toUpperCase();\n  }\n  if (fetchArgs[1] && fetchArgs[1].method) {\n    return String(fetchArgs[1].method).toUpperCase();\n  }\n  return 'GET';\n}\n\n/** Extract `url` from fetch call arguments */\nfunction getFetchUrl(fetchArgs: any[] = []): string {\n  if (typeof fetchArgs[0] === 'string') {\n    return fetchArgs[0];\n  }\n  if ('Request' in global && isInstanceOf(fetchArgs[0], Request)) {\n    return fetchArgs[0].url;\n  }\n  return String(fetchArgs[0]);\n}\n\n/** JSDoc */\nfunction instrumentXHR(): void {\n  if (!('XMLHttpRequest' in global)) {\n    return;\n  }\n\n  const xhrproto = XMLHttpRequest.prototype;\n\n  fill(xhrproto, 'open', function(originalOpen: () => void): () => void {\n    return function(this: SentryWrappedXMLHttpRequest, ...args: any[]): void {\n      const url = args[1];\n      this.__sentry_xhr__ = {\n        method: isString(args[0]) ? args[0].toUpperCase() : args[0],\n        url: args[1],\n      };\n\n      // if Sentry key appears in URL, don't capture it as a request\n      if (isString(url) && this.__sentry_xhr__.method === 'POST' && url.match(/sentry_key/)) {\n        this.__sentry_own_request__ = true;\n      }\n\n      return originalOpen.apply(this, args);\n    };\n  });\n\n  fill(xhrproto, 'send', function(originalSend: () => void): () => void {\n    return function(this: SentryWrappedXMLHttpRequest, ...args: any[]): void {\n      const xhr = this; // tslint:disable-line:no-this-assignment\n      const commonHandlerData = {\n        args,\n        startTimestamp: Date.now(),\n        xhr,\n      };\n\n      triggerHandlers('xhr', {\n        ...commonHandlerData,\n      });\n\n      xhr.addEventListener('readystatechange', function(): void {\n        if (xhr.readyState === 4) {\n          try {\n            // touching statusCode in some platforms throws\n            // an exception\n            if (xhr.__sentry_xhr__) {\n              xhr.__sentry_xhr__.status_code = xhr.status;\n            }\n          } catch (e) {\n            /* do nothing */\n          }\n          triggerHandlers('xhr', {\n            ...commonHandlerData,\n            endTimestamp: Date.now(),\n          });\n        }\n      });\n\n      return originalSend.apply(this, args);\n    };\n  });\n}\n\nlet lastHref: string;\n\n/** JSDoc */\nfunction instrumentHistory(): void {\n  if (!supportsHistory()) {\n    return;\n  }\n\n  const oldOnPopState = global.onpopstate;\n  global.onpopstate = function(this: WindowEventHandlers, ...args: any[]): any {\n    const to = global.location.href;\n    // keep track of the current URL state, as we always receive only the updated state\n    const from = lastHref;\n    lastHref = to;\n    triggerHandlers('history', {\n      from,\n      to,\n    });\n    if (oldOnPopState) {\n      return oldOnPopState.apply(this, args);\n    }\n  };\n\n  /** @hidden */\n  function historyReplacementFunction(originalHistoryFunction: () => void): () => void {\n    return function(this: History, ...args: any[]): void {\n      const url = args.length > 2 ? args[2] : undefined;\n      if (url) {\n        // coerce to string (this is what pushState does)\n        const from = lastHref;\n        const to = String(url);\n        // keep track of the current URL state, as we always receive only the updated state\n        lastHref = to;\n        triggerHandlers('history', {\n          from,\n          to,\n        });\n      }\n      return originalHistoryFunction.apply(this, args);\n    };\n  }\n\n  fill(global.history, 'pushState', historyReplacementFunction);\n  fill(global.history, 'replaceState', historyReplacementFunction);\n}\n\n/** JSDoc */\nfunction instrumentDOM(): void {\n  if (!('document' in global)) {\n    return;\n  }\n\n  // Capture breadcrumbs from any click that is unhandled / bubbled up all the way\n  // to the document. Do this before we instrument addEventListener.\n  global.document.addEventListener('click', domEventHandler('click', triggerHandlers.bind(null, 'dom')), false);\n  global.document.addEventListener('keypress', keypressEventHandler(triggerHandlers.bind(null, 'dom')), false);\n\n  // After hooking into document bubbled up click and keypresses events, we also hook into user handled click & keypresses.\n  ['EventTarget', 'Node'].forEach((target: string) => {\n    const proto = (global as any)[target] && (global as any)[target].prototype;\n\n    if (!proto || !proto.hasOwnProperty || !proto.hasOwnProperty('addEventListener')) {\n      return;\n    }\n\n    fill(proto, 'addEventListener', function(\n      original: () => void,\n    ): (\n      eventName: string,\n      fn: EventListenerOrEventListenerObject,\n      options?: boolean | AddEventListenerOptions,\n    ) => void {\n      return function(\n        this: any,\n        eventName: string,\n        fn: EventListenerOrEventListenerObject,\n        options?: boolean | AddEventListenerOptions,\n      ): (eventName: string, fn: EventListenerOrEventListenerObject, capture?: boolean, secure?: boolean) => void {\n        if (fn && (fn as EventListenerObject).handleEvent) {\n          if (eventName === 'click') {\n            fill(fn, 'handleEvent', function(innerOriginal: () => void): (caughtEvent: Event) => void {\n              return function(this: any, event: Event): (event: Event) => void {\n                domEventHandler('click', triggerHandlers.bind(null, 'dom'))(event);\n                return innerOriginal.call(this, event);\n              };\n            });\n          }\n          if (eventName === 'keypress') {\n            fill(fn, 'handleEvent', function(innerOriginal: () => void): (caughtEvent: Event) => void {\n              return function(this: any, event: Event): (event: Event) => void {\n                keypressEventHandler(triggerHandlers.bind(null, 'dom'))(event);\n                return innerOriginal.call(this, event);\n              };\n            });\n          }\n        } else {\n          if (eventName === 'click') {\n            domEventHandler('click', triggerHandlers.bind(null, 'dom'), true)(this);\n          }\n          if (eventName === 'keypress') {\n            keypressEventHandler(triggerHandlers.bind(null, 'dom'))(this);\n          }\n        }\n\n        return original.call(this, eventName, fn, options);\n      };\n    });\n\n    fill(proto, 'removeEventListener', function(\n      original: () => void,\n    ): (\n      this: any,\n      eventName: string,\n      fn: EventListenerOrEventListenerObject,\n      options?: boolean | EventListenerOptions,\n    ) => () => void {\n      return function(\n        this: any,\n        eventName: string,\n        fn: EventListenerOrEventListenerObject,\n        options?: boolean | EventListenerOptions,\n      ): () => void {\n        let callback = fn as WrappedFunction;\n        try {\n          callback = callback && (callback.__sentry_wrapped__ || callback);\n        } catch (e) {\n          // ignore, accessing __sentry_wrapped__ will throw in some Selenium environments\n        }\n        return original.call(this, eventName, callback, options);\n      };\n    });\n  });\n}\n\nconst debounceDuration: number = 1000;\nlet debounceTimer: number = 0;\nlet keypressTimeout: number | undefined;\nlet lastCapturedEvent: Event | undefined;\n\n/**\n * Wraps addEventListener to capture UI breadcrumbs\n * @param name the event name (e.g. \"click\")\n * @param handler function that will be triggered\n * @param debounce decides whether it should wait till another event loop\n * @returns wrapped breadcrumb events handler\n * @hidden\n */\nfunction domEventHandler(name: string, handler: Function, debounce: boolean = false): (event: Event) => void {\n  return (event: Event) => {\n    // reset keypress timeout; e.g. triggering a 'click' after\n    // a 'keypress' will reset the keypress debounce so that a new\n    // set of keypresses can be recorded\n    keypressTimeout = undefined;\n    // It's possible this handler might trigger multiple times for the same\n    // event (e.g. event propagation through node ancestors). Ignore if we've\n    // already captured the event.\n    if (!event || lastCapturedEvent === event) {\n      return;\n    }\n\n    lastCapturedEvent = event;\n\n    if (debounceTimer) {\n      clearTimeout(debounceTimer);\n    }\n\n    if (debounce) {\n      debounceTimer = setTimeout(() => {\n        handler({ event, name });\n      });\n    } else {\n      handler({ event, name });\n    }\n  };\n}\n\n/**\n * Wraps addEventListener to capture keypress UI events\n * @param handler function that will be triggered\n * @returns wrapped keypress events handler\n * @hidden\n */\nfunction keypressEventHandler(handler: Function): (event: Event) => void {\n  // TODO: if somehow user switches keypress target before\n  //       debounce timeout is triggered, we will only capture\n  //       a single breadcrumb from the FIRST target (acceptable?)\n  return (event: Event) => {\n    let target;\n\n    try {\n      target = event.target;\n    } catch (e) {\n      // just accessing event properties can throw an exception in some rare circumstances\n      // see: https://github.com/getsentry/raven-js/issues/838\n      return;\n    }\n\n    const tagName = target && (target as HTMLElement).tagName;\n\n    // only consider keypress events on actual input elements\n    // this will disregard keypresses targeting body (e.g. tabbing\n    // through elements, hotkeys, etc)\n    if (!tagName || (tagName !== 'INPUT' && tagName !== 'TEXTAREA' && !(target as HTMLElement).isContentEditable)) {\n      return;\n    }\n\n    // record first keypress in a series, but ignore subsequent\n    // keypresses until debounce clears\n    if (!keypressTimeout) {\n      domEventHandler('input', handler)(event);\n    }\n    clearTimeout(keypressTimeout);\n\n    keypressTimeout = (setTimeout(() => {\n      keypressTimeout = undefined;\n    }, debounceDuration) as any) as number;\n  };\n}\n\nlet _oldOnErrorHandler: OnErrorEventHandler = null;\n/** JSDoc */\nfunction instrumentError(): void {\n  _oldOnErrorHandler = global.onerror;\n\n  global.onerror = function(msg: any, url: any, line: any, column: any, error: any): boolean {\n    triggerHandlers('error', {\n      column,\n      error,\n      line,\n      msg,\n      url,\n    });\n\n    if (_oldOnErrorHandler) {\n      return _oldOnErrorHandler.apply(this, arguments);\n    }\n\n    return false;\n  };\n}\n\nlet _oldOnUnhandledRejectionHandler: ((e: any) => void) | null = null;\n/** JSDoc */\nfunction instrumentUnhandledRejection(): void {\n  _oldOnUnhandledRejectionHandler = global.onunhandledrejection;\n\n  global.onunhandledrejection = function(e: any): boolean {\n    triggerHandlers('unhandledrejection', e);\n\n    if (_oldOnUnhandledRejectionHandler) {\n      return _oldOnUnhandledRejectionHandler.apply(this, arguments);\n    }\n\n    return true;\n  };\n}\n","import { API, getCurrentHub } from '@sentry/core';\nimport { Integration, Severity } from '@sentry/types';\nimport {\n  addInstrumentationHandler,\n  getEventDescription,\n  getGlobalObject,\n  htmlTreeAsString,\n  logger,\n  parseUrl,\n  safeJoin,\n} from '@sentry/utils';\n\nimport { BrowserClient } from '../client';\n\n/**\n * @hidden\n */\nexport interface SentryWrappedXMLHttpRequest extends XMLHttpRequest {\n  [key: string]: any;\n  __sentry_xhr__?: {\n    method?: string;\n    url?: string;\n    status_code?: number;\n  };\n}\n\n/** JSDoc */\ninterface BreadcrumbIntegrations {\n  console?: boolean;\n  dom?: boolean;\n  fetch?: boolean;\n  history?: boolean;\n  sentry?: boolean;\n  xhr?: boolean;\n}\n\n/**\n * Default Breadcrumbs instrumentations\n * TODO: Deprecated - with v6, this will be renamed to `Instrument`\n */\nexport class Breadcrumbs implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = Breadcrumbs.id;\n\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'Breadcrumbs';\n\n  /** JSDoc */\n  private readonly _options: BreadcrumbIntegrations;\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(options?: BreadcrumbIntegrations) {\n    this._options = {\n      console: true,\n      dom: true,\n      fetch: true,\n      history: true,\n      sentry: true,\n      xhr: true,\n      ...options,\n    };\n  }\n\n  /**\n   * Creates breadcrumbs from console API calls\n   */\n  private _consoleBreadcrumb(handlerData: { [key: string]: any }): void {\n    const breadcrumb = {\n      category: 'console',\n      data: {\n        arguments: handlerData.args,\n        logger: 'console',\n      },\n      level: Severity.fromString(handlerData.level),\n      message: safeJoin(handlerData.args, ' '),\n    };\n\n    if (handlerData.level === 'assert') {\n      if (handlerData.args[0] === false) {\n        breadcrumb.message = `Assertion failed: ${safeJoin(handlerData.args.slice(1), ' ') || 'console.assert'}`;\n        breadcrumb.data.arguments = handlerData.args.slice(1);\n      } else {\n        // Don't capture a breadcrumb for passed assertions\n        return;\n      }\n    }\n\n    getCurrentHub().addBreadcrumb(breadcrumb, {\n      input: handlerData.args,\n      level: handlerData.level,\n    });\n  }\n\n  /**\n   * Creates breadcrumbs from DOM API calls\n   */\n  private _domBreadcrumb(handlerData: { [key: string]: any }): void {\n    let target;\n\n    // Accessing event.target can throw (see getsentry/raven-js#838, #768)\n    try {\n      target = handlerData.event.target\n        ? htmlTreeAsString(handlerData.event.target as Node)\n        : htmlTreeAsString((handlerData.event as unknown) as Node);\n    } catch (e) {\n      target = '<unknown>';\n    }\n\n    if (target.length === 0) {\n      return;\n    }\n\n    getCurrentHub().addBreadcrumb(\n      {\n        category: `ui.${handlerData.name}`,\n        message: target,\n      },\n      {\n        event: handlerData.event,\n        name: handlerData.name,\n      },\n    );\n  }\n\n  /**\n   * Creates breadcrumbs from XHR API calls\n   */\n  private _xhrBreadcrumb(handlerData: { [key: string]: any }): void {\n    if (handlerData.endTimestamp) {\n      // We only capture complete, non-sentry requests\n      if (handlerData.xhr.__sentry_own_request__) {\n        return;\n      }\n\n      getCurrentHub().addBreadcrumb(\n        {\n          category: 'xhr',\n          data: handlerData.xhr.__sentry_xhr__,\n          type: 'http',\n        },\n        {\n          xhr: handlerData.xhr,\n        },\n      );\n\n      return;\n    }\n\n    // We only capture issued sentry requests\n    if (this._options.sentry && handlerData.xhr.__sentry_own_request__) {\n      addSentryBreadcrumb(handlerData.args[0]);\n    }\n  }\n\n  /**\n   * Creates breadcrumbs from fetch API calls\n   */\n  private _fetchBreadcrumb(handlerData: { [key: string]: any }): void {\n    // We only capture complete fetch requests\n    if (!handlerData.endTimestamp) {\n      return;\n    }\n\n    const client = getCurrentHub().getClient<BrowserClient>();\n    const dsn = client && client.getDsn();\n    if (this._options.sentry && dsn) {\n      const filterUrl = new API(dsn).getStoreEndpoint();\n      // if Sentry key appears in URL, don't capture it as a request\n      // but rather as our own 'sentry' type breadcrumb\n      if (\n        filterUrl &&\n        handlerData.fetchData.url.indexOf(filterUrl) !== -1 &&\n        handlerData.fetchData.method === 'POST' &&\n        handlerData.args[1] &&\n        handlerData.args[1].body\n      ) {\n        addSentryBreadcrumb(handlerData.args[1].body);\n        return;\n      }\n    }\n\n    if (handlerData.error) {\n      getCurrentHub().addBreadcrumb(\n        {\n          category: 'fetch',\n          data: {\n            ...handlerData.fetchData,\n            status_code: handlerData.response.status,\n          },\n          level: Severity.Error,\n          type: 'http',\n        },\n        {\n          data: handlerData.error,\n          input: handlerData.args,\n        },\n      );\n    } else {\n      getCurrentHub().addBreadcrumb(\n        {\n          category: 'fetch',\n          data: {\n            ...handlerData.fetchData,\n            status_code: handlerData.response.status,\n          },\n          type: 'http',\n        },\n        {\n          input: handlerData.args,\n          response: handlerData.response,\n        },\n      );\n    }\n  }\n\n  /**\n   * Creates breadcrumbs from history API calls\n   */\n  private _historyBreadcrumb(handlerData: { [key: string]: any }): void {\n    const global = getGlobalObject<Window>();\n    let from = handlerData.from;\n    let to = handlerData.to;\n    const parsedLoc = parseUrl(global.location.href);\n    let parsedFrom = parseUrl(from);\n    const parsedTo = parseUrl(to);\n\n    // Initial pushState doesn't provide `from` information\n    if (!parsedFrom.path) {\n      parsedFrom = parsedLoc;\n    }\n\n    // Use only the path component of the URL if the URL matches the current\n    // document (almost all the time when using pushState)\n    if (parsedLoc.protocol === parsedTo.protocol && parsedLoc.host === parsedTo.host) {\n      // tslint:disable-next-line:no-parameter-reassignment\n      to = parsedTo.relative;\n    }\n    if (parsedLoc.protocol === parsedFrom.protocol && parsedLoc.host === parsedFrom.host) {\n      // tslint:disable-next-line:no-parameter-reassignment\n      from = parsedFrom.relative;\n    }\n\n    getCurrentHub().addBreadcrumb({\n      category: 'navigation',\n      data: {\n        from,\n        to,\n      },\n    });\n  }\n\n  /**\n   * Instrument browser built-ins w/ breadcrumb capturing\n   *  - Console API\n   *  - DOM API (click/typing)\n   *  - XMLHttpRequest API\n   *  - Fetch API\n   *  - History API\n   */\n  public setupOnce(): void {\n    if (this._options.console) {\n      addInstrumentationHandler({\n        callback: (...args) => {\n          this._consoleBreadcrumb(...args);\n        },\n        type: 'console',\n      });\n    }\n    if (this._options.dom) {\n      addInstrumentationHandler({\n        callback: (...args) => {\n          this._domBreadcrumb(...args);\n        },\n        type: 'dom',\n      });\n    }\n    if (this._options.xhr) {\n      addInstrumentationHandler({\n        callback: (...args) => {\n          this._xhrBreadcrumb(...args);\n        },\n        type: 'xhr',\n      });\n    }\n    if (this._options.fetch) {\n      addInstrumentationHandler({\n        callback: (...args) => {\n          this._fetchBreadcrumb(...args);\n        },\n        type: 'fetch',\n      });\n    }\n    if (this._options.history) {\n      addInstrumentationHandler({\n        callback: (...args) => {\n          this._historyBreadcrumb(...args);\n        },\n        type: 'history',\n      });\n    }\n  }\n}\n\n/**\n * Create a breadcrumb of `sentry` from the events themselves\n */\nfunction addSentryBreadcrumb(serializedData: string): void {\n  // There's always something that can go wrong with deserialization...\n  try {\n    const event = JSON.parse(serializedData);\n    getCurrentHub().addBreadcrumb(\n      {\n        category: `sentry.${event.type === 'transaction' ? 'transaction' : 'event'}`,\n        event_id: event.event_id,\n        level: event.level || Severity.fromString('error'),\n        message: getEventDescription(event),\n      },\n      {\n        event,\n      },\n    );\n  } catch (_oO) {\n    logger.error('Error while adding sentry type breadcrumb');\n  }\n}\n","import { getCurrentHub, initAndBind, Integrations as CoreIntegrations } from '@sentry/core';\nimport { getGlobalObject, SyncPromise } from '@sentry/utils';\n\nimport { BrowserOptions } from './backend';\nimport { BrowserClient, ReportDialogOptions } from './client';\nimport { wrap as internalWrap } from './helpers';\nimport { Breadcrumbs, GlobalHandlers, LinkedErrors, TryCatch, UserAgent } from './integrations';\n\nexport const defaultIntegrations = [\n  new CoreIntegrations.InboundFilters(),\n  new CoreIntegrations.FunctionToString(),\n  new TryCatch(),\n  new Breadcrumbs(),\n  new GlobalHandlers(),\n  new LinkedErrors(),\n  new UserAgent(),\n];\n\n/**\n * The Sentry Browser SDK Client.\n *\n * To use this SDK, call the {@link init} function as early as possible when\n * loading the web page. To set context information or send manual events, use\n * the provided methods.\n *\n * @example\n *\n * ```\n *\n * import { init } from '@sentry/browser';\n *\n * init({\n *   dsn: '__DSN__',\n *   // ...\n * });\n * ```\n *\n * @example\n * ```\n *\n * import { configureScope } from '@sentry/browser';\n * configureScope((scope: Scope) => {\n *   scope.setExtra({ battery: 0.7 });\n *   scope.setTag({ user_mode: 'admin' });\n *   scope.setUser({ id: '4711' });\n * });\n * ```\n *\n * @example\n * ```\n *\n * import { addBreadcrumb } from '@sentry/browser';\n * addBreadcrumb({\n *   message: 'My Breadcrumb',\n *   // ...\n * });\n * ```\n *\n * @example\n *\n * ```\n *\n * import * as Sentry from '@sentry/browser';\n * Sentry.captureMessage('Hello, world!');\n * Sentry.captureException(new Error('Good bye'));\n * Sentry.captureEvent({\n *   message: 'Manual',\n *   stacktrace: [\n *     // ...\n *   ],\n * });\n * ```\n *\n * @see {@link BrowserOptions} for documentation on configuration options.\n */\nexport function init(options: BrowserOptions = {}): void {\n  if (options.defaultIntegrations === undefined) {\n    options.defaultIntegrations = defaultIntegrations;\n  }\n  if (options.release === undefined) {\n    const window = getGlobalObject<Window>();\n    // This supports the variable that sentry-webpack-plugin injects\n    if (window.SENTRY_RELEASE && window.SENTRY_RELEASE.id) {\n      options.release = window.SENTRY_RELEASE.id;\n    }\n  }\n  initAndBind(BrowserClient, options);\n}\n\n/**\n * Present the user with a report dialog.\n *\n * @param options Everything is optional, we try to fetch all info need from the global scope.\n */\nexport function showReportDialog(options: ReportDialogOptions = {}): void {\n  if (!options.eventId) {\n    options.eventId = getCurrentHub().lastEventId();\n  }\n  const client = getCurrentHub().getClient<BrowserClient>();\n  if (client) {\n    client.showReportDialog(options);\n  }\n}\n\n/**\n * This is the getter for lastEventId.\n *\n * @returns The last event id of a captured event.\n */\nexport function lastEventId(): string | undefined {\n  return getCurrentHub().lastEventId();\n}\n\n/**\n * This function is here to be API compatible with the loader.\n * @hidden\n */\nexport function forceLoad(): void {\n  // Noop\n}\n\n/**\n * This function is here to be API compatible with the loader.\n * @hidden\n */\nexport function onLoad(callback: () => void): void {\n  callback();\n}\n\n/**\n * A promise that resolves when all current events have been sent.\n * If you provide a timeout and the queue takes longer to drain the promise returns false.\n *\n * @param timeout Maximum time in ms the client should wait.\n */\nexport function flush(timeout?: number): PromiseLike<boolean> {\n  const client = getCurrentHub().getClient<BrowserClient>();\n  if (client) {\n    return client.flush(timeout);\n  }\n  return SyncPromise.reject(false);\n}\n\n/**\n * A promise that resolves when all current events have been sent.\n * If you provide a timeout and the queue takes longer to drain the promise returns false.\n *\n * @param timeout Maximum time in ms the client should wait.\n */\nexport function close(timeout?: number): PromiseLike<boolean> {\n  const client = getCurrentHub().getClient<BrowserClient>();\n  if (client) {\n    return client.close(timeout);\n  }\n  return SyncPromise.reject(false);\n}\n\n/**\n * Wrap code within a try/catch block so the SDK is able to capture errors.\n *\n * @param fn A function to wrap.\n *\n * @returns The result of wrapped function call.\n */\nexport function wrap(fn: Function): any {\n  return internalWrap(fn)(); // tslint:disable-line:no-unsafe-any\n}\n","/** The status of an event. */\nexport enum Status {\n  /** The status could not be determined. */\n  Unknown = 'unknown',\n  /** The event was skipped due to configuration or callbacks. */\n  Skipped = 'skipped',\n  /** The event was sent to Sentry successfully. */\n  Success = 'success',\n  /** The client is currently rate limited and will try again later. */\n  RateLimit = 'rate_limit',\n  /** The event could not be processed. */\n  Invalid = 'invalid',\n  /** A server-side error ocurred during submission. */\n  Failed = 'failed',\n}\n// tslint:disable:completed-docs\n// tslint:disable:no-unnecessary-qualifier no-namespace\nexport namespace Status {\n  /**\n   * Converts a HTTP status code into a {@link Status}.\n   *\n   * @param code The HTTP response status code.\n   * @returns The send status or {@link Status.Unknown}.\n   */\n  export function fromHttpCode(code: number): Status {\n    if (code >= 200 && code < 300) {\n      return Status.Success;\n    }\n\n    if (code === 429) {\n      return Status.RateLimit;\n    }\n\n    if (code >= 400 && code < 500) {\n      return Status.Invalid;\n    }\n\n    if (code >= 500) {\n      return Status.Failed;\n    }\n\n    return Status.Unknown;\n  }\n}\n","import { isThenable } from './is';\n\n/** SyncPromise internal states */\nenum States {\n  /** Pending */\n  PENDING = 'PENDING',\n  /** Resolved / OK */\n  RESOLVED = 'RESOLVED',\n  /** Rejected / Error */\n  REJECTED = 'REJECTED',\n}\n\n/**\n * Thenable class that behaves like a Promise and follows it's interface\n * but is not async internally\n */\nclass SyncPromise<T> implements PromiseLike<T> {\n  private _state: States = States.PENDING;\n  private _handlers: Array<{\n    done: boolean;\n    onfulfilled?: ((value: T) => T | PromiseLike<T>) | null;\n    onrejected?: ((reason: any) => any) | null;\n  }> = [];\n  private _value: any;\n\n  public constructor(\n    executor: (resolve: (value?: T | PromiseLike<T> | null) => void, reject: (reason?: any) => void) => void,\n  ) {\n    try {\n      executor(this._resolve, this._reject);\n    } catch (e) {\n      this._reject(e);\n    }\n  }\n\n  /** JSDoc */\n  public toString(): string {\n    return '[object SyncPromise]';\n  }\n\n  /** JSDoc */\n  public static resolve<T>(value: T | PromiseLike<T>): PromiseLike<T> {\n    return new SyncPromise(resolve => {\n      resolve(value);\n    });\n  }\n\n  /** JSDoc */\n  public static reject<T = never>(reason?: any): PromiseLike<T> {\n    return new SyncPromise((_, reject) => {\n      reject(reason);\n    });\n  }\n\n  /** JSDoc */\n  public static all<U = any>(collection: Array<U | PromiseLike<U>>): PromiseLike<U[]> {\n    return new SyncPromise<U[]>((resolve, reject) => {\n      if (!Array.isArray(collection)) {\n        reject(new TypeError(`Promise.all requires an array as input.`));\n        return;\n      }\n\n      if (collection.length === 0) {\n        resolve([]);\n        return;\n      }\n\n      let counter = collection.length;\n      const resolvedCollection: U[] = [];\n\n      collection.forEach((item, index) => {\n        SyncPromise.resolve(item)\n          .then(value => {\n            resolvedCollection[index] = value;\n            counter -= 1;\n\n            if (counter !== 0) {\n              return;\n            }\n            resolve(resolvedCollection);\n          })\n          .then(null, reject);\n      });\n    });\n  }\n\n  /** JSDoc */\n  public then<TResult1 = T, TResult2 = never>(\n    onfulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | null,\n    onrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | null,\n  ): PromiseLike<TResult1 | TResult2> {\n    return new SyncPromise((resolve, reject) => {\n      this._attachHandler({\n        done: false,\n        onfulfilled: result => {\n          if (!onfulfilled) {\n            // TODO: \\_()_/\n            // TODO: FIXME\n            resolve(result as any);\n            return;\n          }\n          try {\n            resolve(onfulfilled(result));\n            return;\n          } catch (e) {\n            reject(e);\n            return;\n          }\n        },\n        onrejected: reason => {\n          if (!onrejected) {\n            reject(reason);\n            return;\n          }\n          try {\n            resolve(onrejected(reason));\n            return;\n          } catch (e) {\n            reject(e);\n            return;\n          }\n        },\n      });\n    });\n  }\n\n  /** JSDoc */\n  public catch<TResult = never>(\n    onrejected?: ((reason: any) => TResult | PromiseLike<TResult>) | null,\n  ): PromiseLike<T | TResult> {\n    return this.then(val => val, onrejected);\n  }\n\n  /** JSDoc */\n  public finally<TResult>(onfinally?: (() => void) | null): PromiseLike<TResult> {\n    return new SyncPromise<TResult>((resolve, reject) => {\n      let val: TResult | any;\n      let isRejected: boolean;\n\n      return this.then(\n        value => {\n          isRejected = false;\n          val = value;\n          if (onfinally) {\n            onfinally();\n          }\n        },\n        reason => {\n          isRejected = true;\n          val = reason;\n          if (onfinally) {\n            onfinally();\n          }\n        },\n      ).then(() => {\n        if (isRejected) {\n          reject(val);\n          return;\n        }\n\n        resolve((val as unknown) as any);\n      });\n    });\n  }\n\n  /** JSDoc */\n  private readonly _resolve = (value?: T | PromiseLike<T> | null) => {\n    this._setResult(States.RESOLVED, value);\n  };\n\n  /** JSDoc */\n  private readonly _reject = (reason?: any) => {\n    this._setResult(States.REJECTED, reason);\n  };\n\n  /** JSDoc */\n  private readonly _setResult = (state: States, value?: T | PromiseLike<T> | any) => {\n    if (this._state !== States.PENDING) {\n      return;\n    }\n\n    if (isThenable(value)) {\n      (value as PromiseLike<T>).then(this._resolve, this._reject);\n      return;\n    }\n\n    this._state = state;\n    this._value = value;\n\n    this._executeHandlers();\n  };\n\n  // TODO: FIXME\n  /** JSDoc */\n  private readonly _attachHandler = (handler: {\n    /** JSDoc */\n    done: boolean;\n    /** JSDoc */\n    onfulfilled?(value: T): any;\n    /** JSDoc */\n    onrejected?(reason: any): any;\n  }) => {\n    this._handlers = this._handlers.concat(handler);\n    this._executeHandlers();\n  };\n\n  /** JSDoc */\n  private readonly _executeHandlers = () => {\n    if (this._state === States.PENDING) {\n      return;\n    }\n\n    const cachedHandlers = this._handlers.slice();\n    this._handlers = [];\n\n    cachedHandlers.forEach(handler => {\n      if (handler.done) {\n        return;\n      }\n\n      if (this._state === States.RESOLVED) {\n        if (handler.onfulfilled) {\n          handler.onfulfilled((this._value as unknown) as any);\n        }\n      }\n\n      if (this._state === States.REJECTED) {\n        if (handler.onrejected) {\n          handler.onrejected(this._value);\n        }\n      }\n\n      handler.done = true;\n    });\n  };\n}\n\nexport { SyncPromise };\n","import { Integration, WrappedFunction } from '@sentry/types';\n\nlet originalFunctionToString: () => void;\n\n/** Patch toString calls to return proper name for wrapped functions */\nexport class FunctionToString implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = FunctionToString.id;\n\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'FunctionToString';\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(): void {\n    originalFunctionToString = Function.prototype.toString;\n\n    Function.prototype.toString = function(this: WrappedFunction, ...args: any[]): string {\n      const context = this.__sentry_original__ || this;\n      // tslint:disable-next-line:no-unsafe-any\n      return originalFunctionToString.apply(context, args);\n    };\n  }\n}\n","export const setPrototypeOf =\n  Object.setPrototypeOf || ({ __proto__: [] } instanceof Array ? setProtoOf : mixinProperties); // tslint:disable-line:no-unbound-method\n\n/**\n * setPrototypeOf polyfill using __proto__\n */\nfunction setProtoOf<TTarget extends object, TProto>(obj: TTarget, proto: TProto): TTarget & TProto {\n  // @ts-ignore\n  obj.__proto__ = proto;\n  return obj as TTarget & TProto;\n}\n\n/**\n * setPrototypeOf polyfill using mixin\n */\nfunction mixinProperties<TTarget extends object, TProto>(obj: TTarget, proto: TProto): TTarget & TProto {\n  for (const prop in proto) {\n    if (!obj.hasOwnProperty(prop)) {\n      // @ts-ignore\n      obj[prop] = proto[prop];\n    }\n  }\n\n  return obj as TTarget & TProto;\n}\n","import { setPrototypeOf } from './polyfill';\n\n/** An error emitted by Sentry SDKs and related utilities. */\nexport class SentryError extends Error {\n  /** Display name of this error instance. */\n  public name: string;\n\n  public constructor(public message: string) {\n    super(message);\n\n    // tslint:disable:no-unsafe-any\n    this.name = new.target.prototype.constructor.name;\n    setPrototypeOf(this, new.target.prototype);\n  }\n}\n","import { DsnComponents, DsnLike, DsnProtocol } from '@sentry/types';\n\nimport { SentryError } from './error';\n\n/** Regular expression used to parse a Dsn. */\nconst DSN_REGEX = /^(?:(\\w+):)\\/\\/(?:(\\w+)(?::(\\w+))?@)([\\w\\.-]+)(?::(\\d+))?\\/(.+)/;\n\n/** Error message */\nconst ERROR_MESSAGE = 'Invalid Dsn';\n\n/** The Sentry Dsn, identifying a Sentry instance and project. */\nexport class Dsn implements DsnComponents {\n  /** Protocol used to connect to Sentry. */\n  public protocol!: DsnProtocol;\n  /** Public authorization key. */\n  public user!: string;\n  /** Private authorization key (deprecated, optional). */\n  public pass!: string;\n  /** Hostname of the Sentry instance. */\n  public host!: string;\n  /** Port of the Sentry instance. */\n  public port!: string;\n  /** Path */\n  public path!: string;\n  /** Project ID */\n  public projectId!: string;\n\n  /** Creates a new Dsn component */\n  public constructor(from: DsnLike) {\n    if (typeof from === 'string') {\n      this._fromString(from);\n    } else {\n      this._fromComponents(from);\n    }\n\n    this._validate();\n  }\n\n  /**\n   * Renders the string representation of this Dsn.\n   *\n   * By default, this will render the public representation without the password\n   * component. To get the deprecated private representation, set `withPassword`\n   * to true.\n   *\n   * @param withPassword When set to true, the password will be included.\n   */\n  public toString(withPassword: boolean = false): string {\n    // tslint:disable-next-line:no-this-assignment\n    const { host, path, pass, port, projectId, protocol, user } = this;\n    return (\n      `${protocol}://${user}${withPassword && pass ? `:${pass}` : ''}` +\n      `@${host}${port ? `:${port}` : ''}/${path ? `${path}/` : path}${projectId}`\n    );\n  }\n\n  /** Parses a string into this Dsn. */\n  private _fromString(str: string): void {\n    const match = DSN_REGEX.exec(str);\n\n    if (!match) {\n      throw new SentryError(ERROR_MESSAGE);\n    }\n\n    const [protocol, user, pass = '', host, port = '', lastPath] = match.slice(1);\n    let path = '';\n    let projectId = lastPath;\n\n    const split = projectId.split('/');\n    if (split.length > 1) {\n      path = split.slice(0, -1).join('/');\n      projectId = split.pop() as string;\n    }\n\n    this._fromComponents({ host, pass, path, projectId, port, protocol: protocol as DsnProtocol, user });\n  }\n\n  /** Maps Dsn components into this instance. */\n  private _fromComponents(components: DsnComponents): void {\n    this.protocol = components.protocol;\n    this.user = components.user;\n    this.pass = components.pass || '';\n    this.host = components.host;\n    this.port = components.port || '';\n    this.path = components.path || '';\n    this.projectId = components.projectId;\n  }\n\n  /** Validates this Dsn and throws on error. */\n  private _validate(): void {\n    ['protocol', 'user', 'host', 'projectId'].forEach(component => {\n      if (!this[component as keyof DsnComponents]) {\n        throw new SentryError(ERROR_MESSAGE);\n      }\n    });\n\n    if (this.protocol !== 'http' && this.protocol !== 'https') {\n      throw new SentryError(ERROR_MESSAGE);\n    }\n\n    if (this.port && isNaN(parseInt(this.port, 10))) {\n      throw new SentryError(ERROR_MESSAGE);\n    }\n  }\n}\n","import { DsnLike } from '@sentry/types';\nimport { Dsn, urlEncode } from '@sentry/utils';\n\nconst SENTRY_API_VERSION = '7';\n\n/** Helper class to provide urls to different Sentry endpoints. */\nexport class API {\n  /** The internally used Dsn object. */\n  private readonly _dsnObject: Dsn;\n  /** Create a new instance of API */\n  public constructor(public dsn: DsnLike) {\n    this._dsnObject = new Dsn(dsn);\n  }\n\n  /** Returns the Dsn object. */\n  public getDsn(): Dsn {\n    return this._dsnObject;\n  }\n\n  /** Returns a string with auth headers in the url to the store endpoint. */\n  public getStoreEndpoint(): string {\n    return `${this._getBaseUrl()}${this.getStoreEndpointPath()}`;\n  }\n\n  /** Returns the store endpoint with auth added in url encoded. */\n  public getStoreEndpointWithUrlEncodedAuth(): string {\n    const dsn = this._dsnObject;\n    const auth = {\n      sentry_key: dsn.user, // sentry_key is currently used in tracing integration to identify internal sentry requests\n      sentry_version: SENTRY_API_VERSION,\n    };\n    // Auth is intentionally sent as part of query string (NOT as custom HTTP header)\n    // to avoid preflight CORS requests\n    return `${this.getStoreEndpoint()}?${urlEncode(auth)}`;\n  }\n\n  /** Returns the base path of the url including the port. */\n  private _getBaseUrl(): string {\n    const dsn = this._dsnObject;\n    const protocol = dsn.protocol ? `${dsn.protocol}:` : '';\n    const port = dsn.port ? `:${dsn.port}` : '';\n    return `${protocol}//${dsn.host}${port}`;\n  }\n\n  /** Returns only the path component for the store endpoint. */\n  public getStoreEndpointPath(): string {\n    const dsn = this._dsnObject;\n    return `${dsn.path ? `/${dsn.path}` : ''}/api/${dsn.projectId}/store/`;\n  }\n\n  /** Returns an object that can be used in request headers. */\n  public getRequestHeaders(clientName: string, clientVersion: string): { [key: string]: string } {\n    const dsn = this._dsnObject;\n    const header = [`Sentry sentry_version=${SENTRY_API_VERSION}`];\n    header.push(`sentry_client=${clientName}/${clientVersion}`);\n    header.push(`sentry_key=${dsn.user}`);\n    if (dsn.pass) {\n      header.push(`sentry_secret=${dsn.pass}`);\n    }\n    return {\n      'Content-Type': 'application/json',\n      'X-Sentry-Auth': header.join(', '),\n    };\n  }\n\n  /** Returns the url to the report dialog endpoint. */\n  public getReportDialogEndpoint(\n    dialogOptions: {\n      [key: string]: any;\n      user?: { name?: string; email?: string };\n    } = {},\n  ): string {\n    const dsn = this._dsnObject;\n    const endpoint = `${this._getBaseUrl()}${dsn.path ? `/${dsn.path}` : ''}/api/embed/error-page/`;\n\n    const encodedOptions = [];\n    encodedOptions.push(`dsn=${dsn.toString()}`);\n    for (const key in dialogOptions) {\n      if (key === 'user') {\n        if (!dialogOptions.user) {\n          continue;\n        }\n        if (dialogOptions.user.name) {\n          encodedOptions.push(`name=${encodeURIComponent(dialogOptions.user.name)}`);\n        }\n        if (dialogOptions.user.email) {\n          encodedOptions.push(`email=${encodeURIComponent(dialogOptions.user.email)}`);\n        }\n      } else {\n        encodedOptions.push(`${encodeURIComponent(key)}=${encodeURIComponent(dialogOptions[key] as string)}`);\n      }\n    }\n    if (encodedOptions.length) {\n      return `${endpoint}?${encodedOptions.join('&')}`;\n    }\n\n    return endpoint;\n  }\n}\n","import { Scope } from '@sentry/hub';\nimport { Client, Event, EventHint, Integration, IntegrationClass, Options, SdkInfo, Severity } from '@sentry/types';\nimport { Dsn, isPrimitive, isThenable, logger, normalize, SyncPromise, truncate, uuid4 } from '@sentry/utils';\n\nimport { Backend, BackendClass } from './basebackend';\nimport { IntegrationIndex, setupIntegrations } from './integration';\n\n/**\n * Base implementation for all JavaScript SDK clients.\n *\n * Call the constructor with the corresponding backend constructor and options\n * specific to the client subclass. To access these options later, use\n * {@link Client.getOptions}. Also, the Backend instance is available via\n * {@link Client.getBackend}.\n *\n * If a Dsn is specified in the options, it will be parsed and stored. Use\n * {@link Client.getDsn} to retrieve the Dsn at any moment. In case the Dsn is\n * invalid, the constructor will throw a {@link SentryException}. Note that\n * without a valid Dsn, the SDK will not send any events to Sentry.\n *\n * Before sending an event via the backend, it is passed through\n * {@link BaseClient.prepareEvent} to add SDK information and scope data\n * (breadcrumbs and context). To add more custom information, override this\n * method and extend the resulting prepared event.\n *\n * To issue automatically created events (e.g. via instrumentation), use\n * {@link Client.captureEvent}. It will prepare the event and pass it through\n * the callback lifecycle. To issue auto-breadcrumbs, use\n * {@link Client.addBreadcrumb}.\n *\n * @example\n * class NodeClient extends BaseClient<NodeBackend, NodeOptions> {\n *   public constructor(options: NodeOptions) {\n *     super(NodeBackend, options);\n *   }\n *\n *   // ...\n * }\n */\nexport abstract class BaseClient<B extends Backend, O extends Options> implements Client<O> {\n  /**\n   * The backend used to physically interact in the enviornment. Usually, this\n   * will correspond to the client. When composing SDKs, however, the Backend\n   * from the root SDK will be used.\n   */\n  protected readonly _backend: B;\n\n  /** Options passed to the SDK. */\n  protected readonly _options: O;\n\n  /** The client Dsn, if specified in options. Without this Dsn, the SDK will be disabled. */\n  protected readonly _dsn?: Dsn;\n\n  /** Array of used integrations. */\n  protected _integrations: IntegrationIndex = {};\n\n  /** Is the client still processing a call? */\n  protected _processing: boolean = false;\n\n  /**\n   * Initializes this client instance.\n   *\n   * @param backendClass A constructor function to create the backend.\n   * @param options Options for the client.\n   */\n  protected constructor(backendClass: BackendClass<B, O>, options: O) {\n    this._backend = new backendClass(options);\n    this._options = options;\n\n    if (options.dsn) {\n      this._dsn = new Dsn(options.dsn);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public captureException(exception: any, hint?: EventHint, scope?: Scope): string | undefined {\n    let eventId: string | undefined = hint && hint.event_id;\n    this._processing = true;\n\n    this._getBackend()\n      .eventFromException(exception, hint)\n      .then(event => this._processEvent(event, hint, scope))\n      .then(finalEvent => {\n        // We need to check for finalEvent in case beforeSend returned null\n        eventId = finalEvent && finalEvent.event_id;\n        this._processing = false;\n      })\n      .then(null, reason => {\n        logger.error(reason);\n        this._processing = false;\n      });\n\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public captureMessage(message: string, level?: Severity, hint?: EventHint, scope?: Scope): string | undefined {\n    let eventId: string | undefined = hint && hint.event_id;\n\n    this._processing = true;\n\n    const promisedEvent = isPrimitive(message)\n      ? this._getBackend().eventFromMessage(`${message}`, level, hint)\n      : this._getBackend().eventFromException(message, hint);\n\n    promisedEvent\n      .then(event => this._processEvent(event, hint, scope))\n      .then(finalEvent => {\n        // We need to check for finalEvent in case beforeSend returned null\n        eventId = finalEvent && finalEvent.event_id;\n        this._processing = false;\n      })\n      .then(null, reason => {\n        logger.error(reason);\n        this._processing = false;\n      });\n\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public captureEvent(event: Event, hint?: EventHint, scope?: Scope): string | undefined {\n    let eventId: string | undefined = hint && hint.event_id;\n    this._processing = true;\n\n    this._processEvent(event, hint, scope)\n      .then(finalEvent => {\n        // We need to check for finalEvent in case beforeSend returned null\n        eventId = finalEvent && finalEvent.event_id;\n        this._processing = false;\n      })\n      .then(null, reason => {\n        logger.error(reason);\n        this._processing = false;\n      });\n\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getDsn(): Dsn | undefined {\n    return this._dsn;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getOptions(): O {\n    return this._options;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public flush(timeout?: number): PromiseLike<boolean> {\n    return this._isClientProcessing(timeout).then(status => {\n      clearInterval(status.interval);\n      return this._getBackend()\n        .getTransport()\n        .close(timeout)\n        .then(transportFlushed => status.ready && transportFlushed);\n    });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public close(timeout?: number): PromiseLike<boolean> {\n    return this.flush(timeout).then(result => {\n      this.getOptions().enabled = false;\n      return result;\n    });\n  }\n\n  /**\n   * Sets up the integrations\n   */\n  public setupIntegrations(): void {\n    if (this._isEnabled()) {\n      this._integrations = setupIntegrations(this._options);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getIntegration<T extends Integration>(integration: IntegrationClass<T>): T | null {\n    try {\n      return (this._integrations[integration.id] as T) || null;\n    } catch (_oO) {\n      logger.warn(`Cannot retrieve integration ${integration.id} from the current Client`);\n      return null;\n    }\n  }\n\n  /** Waits for the client to be done with processing. */\n  protected _isClientProcessing(timeout?: number): PromiseLike<{ ready: boolean; interval: number }> {\n    return new SyncPromise<{ ready: boolean; interval: number }>(resolve => {\n      let ticked: number = 0;\n      const tick: number = 1;\n\n      let interval = 0;\n      clearInterval(interval);\n\n      interval = (setInterval(() => {\n        if (!this._processing) {\n          resolve({\n            interval,\n            ready: true,\n          });\n        } else {\n          ticked += tick;\n          if (timeout && ticked >= timeout) {\n            resolve({\n              interval,\n              ready: false,\n            });\n          }\n        }\n      }, tick) as unknown) as number;\n    });\n  }\n\n  /** Returns the current backend. */\n  protected _getBackend(): B {\n    return this._backend;\n  }\n\n  /** Determines whether this SDK is enabled and a valid Dsn is present. */\n  protected _isEnabled(): boolean {\n    return this.getOptions().enabled !== false && this._dsn !== undefined;\n  }\n\n  /**\n   * Adds common information to events.\n   *\n   * The information includes release and environment from `options`,\n   * breadcrumbs and context (extra, tags and user) from the scope.\n   *\n   * Information that is already present in the event is never overwritten. For\n   * nested objects, such as the context, keys are merged.\n   *\n   * @param event The original event.\n   * @param hint May contain additional informartion about the original exception.\n   * @param scope A scope containing event metadata.\n   * @returns A new event with more information.\n   */\n  protected _prepareEvent(event: Event, scope?: Scope, hint?: EventHint): PromiseLike<Event | null> {\n    const { environment, release, dist, maxValueLength = 250, normalizeDepth = 3 } = this.getOptions();\n\n    const prepared: Event = { ...event };\n    if (prepared.environment === undefined && environment !== undefined) {\n      prepared.environment = environment;\n    }\n    if (prepared.release === undefined && release !== undefined) {\n      prepared.release = release;\n    }\n\n    if (prepared.dist === undefined && dist !== undefined) {\n      prepared.dist = dist;\n    }\n\n    if (prepared.message) {\n      prepared.message = truncate(prepared.message, maxValueLength);\n    }\n\n    const exception = prepared.exception && prepared.exception.values && prepared.exception.values[0];\n    if (exception && exception.value) {\n      exception.value = truncate(exception.value, maxValueLength);\n    }\n\n    const request = prepared.request;\n    if (request && request.url) {\n      request.url = truncate(request.url, maxValueLength);\n    }\n\n    if (prepared.event_id === undefined) {\n      prepared.event_id = hint && hint.event_id ? hint.event_id : uuid4();\n    }\n\n    this._addIntegrations(prepared.sdk);\n\n    // We prepare the result here with a resolved Event.\n    let result = SyncPromise.resolve<Event | null>(prepared);\n\n    // This should be the last thing called, since we want that\n    // {@link Hub.addEventProcessor} gets the finished prepared event.\n    if (scope) {\n      // In case we have a hub we reassign it.\n      result = scope.applyToEvent(prepared, hint);\n    }\n\n    return result.then(evt => {\n      // tslint:disable-next-line:strict-type-predicates\n      if (typeof normalizeDepth === 'number' && normalizeDepth > 0) {\n        return this._normalizeEvent(evt, normalizeDepth);\n      }\n      return evt;\n    });\n  }\n\n  /**\n   * Applies `normalize` function on necessary `Event` attributes to make them safe for serialization.\n   * Normalized keys:\n   * - `breadcrumbs.data`\n   * - `user`\n   * - `contexts`\n   * - `extra`\n   * @param event Event\n   * @returns Normalized event\n   */\n  protected _normalizeEvent(event: Event | null, depth: number): Event | null {\n    if (!event) {\n      return null;\n    }\n\n    // tslint:disable:no-unsafe-any\n    return {\n      ...event,\n      ...(event.breadcrumbs && {\n        breadcrumbs: event.breadcrumbs.map(b => ({\n          ...b,\n          ...(b.data && {\n            data: normalize(b.data, depth),\n          }),\n        })),\n      }),\n      ...(event.user && {\n        user: normalize(event.user, depth),\n      }),\n      ...(event.contexts && {\n        contexts: normalize(event.contexts, depth),\n      }),\n      ...(event.extra && {\n        extra: normalize(event.extra, depth),\n      }),\n    };\n  }\n\n  /**\n   * This function adds all used integrations to the SDK info in the event.\n   * @param sdkInfo The sdkInfo of the event that will be filled with all integrations.\n   */\n  protected _addIntegrations(sdkInfo?: SdkInfo): void {\n    const integrationsArray = Object.keys(this._integrations);\n    if (sdkInfo && integrationsArray.length > 0) {\n      sdkInfo.integrations = integrationsArray;\n    }\n  }\n\n  /**\n   * Processes an event (either error or message) and sends it to Sentry.\n   *\n   * This also adds breadcrumbs and context information to the event. However,\n   * platform specific meta data (such as the User's IP address) must be added\n   * by the SDK implementor.\n   *\n   *\n   * @param event The event to send to Sentry.\n   * @param hint May contain additional informartion about the original exception.\n   * @param scope A scope containing event metadata.\n   * @returns A SyncPromise that resolves with the event or rejects in case event was/will not be send.\n   */\n  protected _processEvent(event: Event, hint?: EventHint, scope?: Scope): PromiseLike<Event> {\n    const { beforeSend, sampleRate } = this.getOptions();\n\n    if (!this._isEnabled()) {\n      return SyncPromise.reject('SDK not enabled, will not send event.');\n    }\n\n    // 1.0 === 100% events are sent\n    // 0.0 === 0% events are sent\n    if (typeof sampleRate === 'number' && Math.random() > sampleRate) {\n      return SyncPromise.reject('This event has been sampled, will not send event.');\n    }\n\n    return new SyncPromise((resolve, reject) => {\n      this._prepareEvent(event, scope, hint)\n        .then(prepared => {\n          if (prepared === null) {\n            reject('An event processor returned null, will not send event.');\n            return;\n          }\n\n          let finalEvent: Event | null = prepared;\n\n          const isInternalException = hint && hint.data && (hint.data as { [key: string]: any }).__sentry__ === true;\n          if (isInternalException || !beforeSend) {\n            this._getBackend().sendEvent(finalEvent);\n            resolve(finalEvent);\n            return;\n          }\n\n          const beforeSendResult = beforeSend(prepared, hint);\n          // tslint:disable-next-line:strict-type-predicates\n          if (typeof beforeSendResult === 'undefined') {\n            logger.error('`beforeSend` method has to return `null` or a valid event.');\n          } else if (isThenable(beforeSendResult)) {\n            this._handleAsyncBeforeSend(beforeSendResult as PromiseLike<Event | null>, resolve, reject);\n          } else {\n            finalEvent = beforeSendResult as Event | null;\n\n            if (finalEvent === null) {\n              logger.log('`beforeSend` returned `null`, will not send event.');\n              resolve(null);\n              return;\n            }\n\n            // From here on we are really async\n            this._getBackend().sendEvent(finalEvent);\n            resolve(finalEvent);\n          }\n        })\n        .then(null, reason => {\n          this.captureException(reason, {\n            data: {\n              __sentry__: true,\n            },\n            originalException: reason as Error,\n          });\n          reject(\n            `Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\\nReason: ${reason}`,\n          );\n        });\n    });\n  }\n\n  /**\n   * Resolves before send Promise and calls resolve/reject on parent SyncPromise.\n   */\n  private _handleAsyncBeforeSend(\n    beforeSend: PromiseLike<Event | null>,\n    resolve: (event: Event) => void,\n    reject: (reason: string) => void,\n  ): void {\n    beforeSend\n      .then(processedEvent => {\n        if (processedEvent === null) {\n          reject('`beforeSend` returned `null`, will not send event.');\n          return;\n        }\n        // From here on we are really async\n        this._getBackend().sendEvent(processedEvent);\n        resolve(processedEvent);\n      })\n      .then(null, e => {\n        reject(`beforeSend rejected with ${e}`);\n      });\n  }\n}\n","import { Event, Response, Status, Transport } from '@sentry/types';\nimport { SyncPromise } from '@sentry/utils';\n\n/** Noop transport */\nexport class NoopTransport implements Transport {\n  /**\n   * @inheritDoc\n   */\n  public sendEvent(_: Event): PromiseLike<Response> {\n    return SyncPromise.resolve({\n      reason: `NoopTransport: Event has been skipped because no Dsn is configured.`,\n      status: Status.Skipped,\n    });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public close(_?: number): PromiseLike<boolean> {\n    return SyncPromise.resolve(true);\n  }\n}\n","import { Event, EventHint, Options, Severity, Transport } from '@sentry/types';\nimport { logger, SentryError } from '@sentry/utils';\n\nimport { NoopTransport } from './transports/noop';\n\n/**\n * Internal platform-dependent Sentry SDK Backend.\n *\n * While {@link Client} contains business logic specific to an SDK, the\n * Backend offers platform specific implementations for low-level operations.\n * These are persisting and loading information, sending events, and hooking\n * into the environment.\n *\n * Backends receive a handle to the Client in their constructor. When a\n * Backend automatically generates events, it must pass them to\n * the Client for validation and processing first.\n *\n * Usually, the Client will be of corresponding type, e.g. NodeBackend\n * receives NodeClient. However, higher-level SDKs can choose to instanciate\n * multiple Backends and delegate tasks between them. In this case, an event\n * generated by one backend might very well be sent by another one.\n *\n * The client also provides access to options via {@link Client.getOptions}.\n * @hidden\n */\nexport interface Backend {\n  /** Creates a {@link Event} from an exception. */\n  eventFromException(exception: any, hint?: EventHint): PromiseLike<Event>;\n\n  /** Creates a {@link Event} from a plain message. */\n  eventFromMessage(message: string, level?: Severity, hint?: EventHint): PromiseLike<Event>;\n\n  /** Submits the event to Sentry */\n  sendEvent(event: Event): void;\n\n  /**\n   * Returns the transport that is used by the backend.\n   * Please note that the transport gets lazy initialized so it will only be there once the first event has been sent.\n   *\n   * @returns The transport.\n   */\n  getTransport(): Transport;\n}\n\n/**\n * A class object that can instanciate Backend objects.\n * @hidden\n */\nexport type BackendClass<B extends Backend, O extends Options> = new (options: O) => B;\n\n/**\n * This is the base implemention of a Backend.\n * @hidden\n */\nexport abstract class BaseBackend<O extends Options> implements Backend {\n  /** Options passed to the SDK. */\n  protected readonly _options: O;\n\n  /** Cached transport used internally. */\n  protected _transport: Transport;\n\n  /** Creates a new backend instance. */\n  public constructor(options: O) {\n    this._options = options;\n    if (!this._options.dsn) {\n      logger.warn('No DSN provided, backend will not do anything.');\n    }\n    this._transport = this._setupTransport();\n  }\n\n  /**\n   * Sets up the transport so it can be used later to send requests.\n   */\n  protected _setupTransport(): Transport {\n    return new NoopTransport();\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public eventFromException(_exception: any, _hint?: EventHint): PromiseLike<Event> {\n    throw new SentryError('Backend has to implement `eventFromException` method');\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public eventFromMessage(_message: string, _level?: Severity, _hint?: EventHint): PromiseLike<Event> {\n    throw new SentryError('Backend has to implement `eventFromMessage` method');\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public sendEvent(event: Event): void {\n    this._transport.sendEvent(event).then(null, reason => {\n      logger.error(`Error while sending event: ${reason}`);\n    });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getTransport(): Transport {\n    return this._transport;\n  }\n}\n","import { SentryError } from './error';\nimport { SyncPromise } from './syncpromise';\n\n/** A simple queue that holds promises. */\nexport class PromiseBuffer<T> {\n  public constructor(protected _limit?: number) {}\n\n  /** Internal set of queued Promises */\n  private readonly _buffer: Array<PromiseLike<T>> = [];\n\n  /**\n   * Says if the buffer is ready to take more requests\n   */\n  public isReady(): boolean {\n    return this._limit === undefined || this.length() < this._limit;\n  }\n\n  /**\n   * Add a promise to the queue.\n   *\n   * @param task Can be any PromiseLike<T>\n   * @returns The original promise.\n   */\n  public add(task: PromiseLike<T>): PromiseLike<T> {\n    if (!this.isReady()) {\n      return SyncPromise.reject(new SentryError('Not adding Promise due to buffer limit reached.'));\n    }\n    if (this._buffer.indexOf(task) === -1) {\n      this._buffer.push(task);\n    }\n    task\n      .then(() => this.remove(task))\n      .then(null, () =>\n        this.remove(task).then(null, () => {\n          // We have to add this catch here otherwise we have an unhandledPromiseRejection\n          // because it's a new Promise chain.\n        }),\n      );\n    return task;\n  }\n\n  /**\n   * Remove a promise to the queue.\n   *\n   * @param task Can be any PromiseLike<T>\n   * @returns Removed promise.\n   */\n  public remove(task: PromiseLike<T>): PromiseLike<T> {\n    const removedTask = this._buffer.splice(this._buffer.indexOf(task), 1)[0];\n    return removedTask;\n  }\n\n  /**\n   * This function returns the number of unresolved promises in the queue.\n   */\n  public length(): number {\n    return this._buffer.length;\n  }\n\n  /**\n   * This will drain the whole queue, returns true if queue is empty or drained.\n   * If timeout is provided and the queue takes longer to drain, the promise still resolves but with false.\n   *\n   * @param timeout Number in ms to wait until it resolves with false.\n   */\n  public drain(timeout?: number): PromiseLike<boolean> {\n    return new SyncPromise<boolean>(resolve => {\n      const capturedSetTimeout = setTimeout(() => {\n        if (timeout && timeout > 0) {\n          resolve(false);\n        }\n      }, timeout);\n      SyncPromise.all(this._buffer)\n        .then(() => {\n          clearTimeout(capturedSetTimeout);\n          resolve(true);\n        })\n        .then(null, () => {\n          resolve(true);\n        });\n    });\n  }\n}\n","import { API } from '@sentry/core';\nimport { Event, Response, Transport, TransportOptions } from '@sentry/types';\nimport { PromiseBuffer, SentryError } from '@sentry/utils';\n\n/** Base Transport class implementation */\nexport abstract class BaseTransport implements Transport {\n  /**\n   * @inheritDoc\n   */\n  public url: string;\n\n  /** A simple buffer holding all requests. */\n  protected readonly _buffer: PromiseBuffer<Response> = new PromiseBuffer(30);\n\n  public constructor(public options: TransportOptions) {\n    this.url = new API(this.options.dsn).getStoreEndpointWithUrlEncodedAuth();\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public sendEvent(_: Event): PromiseLike<Response> {\n    throw new SentryError('Transport Class has to implement `sendEvent` method');\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public close(timeout?: number): PromiseLike<boolean> {\n    return this._buffer.drain(timeout);\n  }\n}\n","import { Event, Response, Status } from '@sentry/types';\nimport { getGlobalObject, logger, parseRetryAfterHeader, supportsReferrerPolicy, SyncPromise } from '@sentry/utils';\n\nimport { BaseTransport } from './base';\n\nconst global = getGlobalObject<Window>();\n\n/** `fetch` based transport */\nexport class FetchTransport extends BaseTransport {\n  /** Locks transport after receiving 429 response */\n  private _disabledUntil: Date = new Date(Date.now());\n\n  /**\n   * @inheritDoc\n   */\n  public sendEvent(event: Event): PromiseLike<Response> {\n    if (new Date(Date.now()) < this._disabledUntil) {\n      return Promise.reject({\n        event,\n        reason: `Transport locked till ${this._disabledUntil} due to too many requests.`,\n        status: 429,\n      });\n    }\n\n    const defaultOptions: RequestInit = {\n      body: JSON.stringify(event),\n      method: 'POST',\n      // Despite all stars in the sky saying that Edge supports old draft syntax, aka 'never', 'always', 'origin' and 'default\n      // https://caniuse.com/#feat=referrer-policy\n      // It doesn't. And it throw exception instead of ignoring this parameter...\n      // REF: https://github.com/getsentry/raven-js/issues/1233\n      referrerPolicy: (supportsReferrerPolicy() ? 'origin' : '') as ReferrerPolicy,\n    };\n\n    if (this.options.headers !== undefined) {\n      defaultOptions.headers = this.options.headers;\n    }\n\n    return this._buffer.add(\n      new SyncPromise<Response>((resolve, reject) => {\n        global\n          .fetch(this.url, defaultOptions)\n          .then(response => {\n            const status = Status.fromHttpCode(response.status);\n\n            if (status === Status.Success) {\n              resolve({ status });\n              return;\n            }\n\n            if (status === Status.RateLimit) {\n              const now = Date.now();\n              this._disabledUntil = new Date(now + parseRetryAfterHeader(now, response.headers.get('Retry-After')));\n              logger.warn(`Too many requests, backing off till: ${this._disabledUntil}`);\n            }\n\n            reject(response);\n          })\n          .catch(reject);\n      }),\n    );\n  }\n}\n","import { Event, Response, Status } from '@sentry/types';\nimport { logger, parseRetryAfterHeader, SyncPromise } from '@sentry/utils';\n\nimport { BaseTransport } from './base';\n\n/** `XHR` based transport */\nexport class XHRTransport extends BaseTransport {\n  /** Locks transport after receiving 429 response */\n  private _disabledUntil: Date = new Date(Date.now());\n\n  /**\n   * @inheritDoc\n   */\n  public sendEvent(event: Event): PromiseLike<Response> {\n    if (new Date(Date.now()) < this._disabledUntil) {\n      return Promise.reject({\n        event,\n        reason: `Transport locked till ${this._disabledUntil} due to too many requests.`,\n        status: 429,\n      });\n    }\n\n    return this._buffer.add(\n      new SyncPromise<Response>((resolve, reject) => {\n        const request = new XMLHttpRequest();\n\n        request.onreadystatechange = () => {\n          if (request.readyState !== 4) {\n            return;\n          }\n\n          const status = Status.fromHttpCode(request.status);\n\n          if (status === Status.Success) {\n            resolve({ status });\n            return;\n          }\n\n          if (status === Status.RateLimit) {\n            const now = Date.now();\n            this._disabledUntil = new Date(now + parseRetryAfterHeader(now, request.getResponseHeader('Retry-After')));\n            logger.warn(`Too many requests, backing off till: ${this._disabledUntil}`);\n          }\n\n          reject(request);\n        };\n\n        request.open('POST', this.url);\n        for (const header in this.options.headers) {\n          if (this.options.headers.hasOwnProperty(header)) {\n            request.setRequestHeader(header, this.options.headers[header]);\n          }\n        }\n        request.send(JSON.stringify(event));\n      }),\n    );\n  }\n}\n","import { BaseBackend } from '@sentry/core';\nimport { Event, EventHint, Options, Severity, Transport } from '@sentry/types';\nimport { addExceptionMechanism, supportsFetch, SyncPromise } from '@sentry/utils';\n\nimport { eventFromString, eventFromUnknownInput } from './eventbuilder';\nimport { FetchTransport, XHRTransport } from './transports';\n\n/**\n * Configuration options for the Sentry Browser SDK.\n * @see BrowserClient for more information.\n */\nexport interface BrowserOptions extends Options {\n  /**\n   * A pattern for error URLs which should not be sent to Sentry.\n   * To whitelist certain errors instead, use {@link Options.whitelistUrls}.\n   * By default, all errors will be sent.\n   */\n  blacklistUrls?: Array<string | RegExp>;\n\n  /**\n   * A pattern for error URLs which should exclusively be sent to Sentry.\n   * This is the opposite of {@link Options.blacklistUrls}.\n   * By default, all errors will be sent.\n   */\n  whitelistUrls?: Array<string | RegExp>;\n}\n\n/**\n * The Sentry Browser SDK Backend.\n * @hidden\n */\nexport class BrowserBackend extends BaseBackend<BrowserOptions> {\n  /**\n   * @inheritDoc\n   */\n  protected _setupTransport(): Transport {\n    if (!this._options.dsn) {\n      // We return the noop transport here in case there is no Dsn.\n      return super._setupTransport();\n    }\n\n    const transportOptions = {\n      ...this._options.transportOptions,\n      dsn: this._options.dsn,\n    };\n\n    if (this._options.transport) {\n      return new this._options.transport(transportOptions);\n    }\n    if (supportsFetch()) {\n      return new FetchTransport(transportOptions);\n    }\n    return new XHRTransport(transportOptions);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public eventFromException(exception: any, hint?: EventHint): PromiseLike<Event> {\n    const syntheticException = (hint && hint.syntheticException) || undefined;\n    const event = eventFromUnknownInput(exception, syntheticException, {\n      attachStacktrace: this._options.attachStacktrace,\n    });\n    addExceptionMechanism(event, {\n      handled: true,\n      type: 'generic',\n    });\n    event.level = Severity.Error;\n    if (hint && hint.event_id) {\n      event.event_id = hint.event_id;\n    }\n    return SyncPromise.resolve(event);\n  }\n  /**\n   * @inheritDoc\n   */\n  public eventFromMessage(message: string, level: Severity = Severity.Info, hint?: EventHint): PromiseLike<Event> {\n    const syntheticException = (hint && hint.syntheticException) || undefined;\n    const event = eventFromString(message, syntheticException, {\n      attachStacktrace: this._options.attachStacktrace,\n    });\n    event.level = level;\n    if (hint && hint.event_id) {\n      event.event_id = hint.event_id;\n    }\n    return SyncPromise.resolve(event);\n  }\n}\n","export const SDK_NAME = 'sentry.javascript.browser';\nexport const SDK_VERSION = '5.15.5';\n","import { API, BaseClient, Scope } from '@sentry/core';\nimport { DsnLike, Event, EventHint } from '@sentry/types';\nimport { getGlobalObject, logger } from '@sentry/utils';\n\nimport { BrowserBackend, BrowserOptions } from './backend';\nimport { SDK_NAME, SDK_VERSION } from './version';\n\n/**\n * All properties the report dialog supports\n */\nexport interface ReportDialogOptions {\n  [key: string]: any;\n  eventId?: string;\n  dsn?: DsnLike;\n  user?: {\n    email?: string;\n    name?: string;\n  };\n  lang?: string;\n  title?: string;\n  subtitle?: string;\n  subtitle2?: string;\n  labelName?: string;\n  labelEmail?: string;\n  labelComments?: string;\n  labelClose?: string;\n  labelSubmit?: string;\n  errorGeneric?: string;\n  errorFormEntry?: string;\n  successMessage?: string;\n  /** Callback after reportDialog showed up */\n  onLoad?(): void;\n}\n\n/**\n * The Sentry Browser SDK Client.\n *\n * @see BrowserOptions for documentation on configuration options.\n * @see SentryClient for usage documentation.\n */\nexport class BrowserClient extends BaseClient<BrowserBackend, BrowserOptions> {\n  /**\n   * Creates a new Browser SDK instance.\n   *\n   * @param options Configuration options for this SDK.\n   */\n  public constructor(options: BrowserOptions = {}) {\n    super(BrowserBackend, options);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  protected _prepareEvent(event: Event, scope?: Scope, hint?: EventHint): PromiseLike<Event | null> {\n    event.platform = event.platform || 'javascript';\n    event.sdk = {\n      ...event.sdk,\n      name: SDK_NAME,\n      packages: [\n        ...((event.sdk && event.sdk.packages) || []),\n        {\n          name: 'npm:@sentry/browser',\n          version: SDK_VERSION,\n        },\n      ],\n      version: SDK_VERSION,\n    };\n\n    return super._prepareEvent(event, scope, hint);\n  }\n\n  /**\n   * Show a report dialog to the user to send feedback to a specific event.\n   *\n   * @param options Set individual options for the dialog\n   */\n  public showReportDialog(options: ReportDialogOptions = {}): void {\n    // doesn't work without a document (React Native)\n    const document = getGlobalObject<Window>().document;\n    if (!document) {\n      return;\n    }\n\n    if (!this._isEnabled()) {\n      logger.error('Trying to call showReportDialog with Sentry Client is disabled');\n      return;\n    }\n\n    const dsn = options.dsn || this.getDsn();\n\n    if (!options.eventId) {\n      logger.error('Missing `eventId` option in showReportDialog call');\n      return;\n    }\n\n    if (!dsn) {\n      logger.error('Missing `Dsn` option in showReportDialog call');\n      return;\n    }\n\n    const script = document.createElement('script');\n    script.async = true;\n    script.src = new API(dsn).getReportDialogEndpoint(options);\n\n    if (options.onLoad) {\n      script.onload = options.onLoad;\n    }\n\n    (document.head || document.body).appendChild(script);\n  }\n}\n","import { addGlobalEventProcessor, getCurrentHub } from '@sentry/hub';\nimport { Event, Integration } from '@sentry/types';\nimport { getEventDescription, isMatchingPattern, logger } from '@sentry/utils';\n\n// \"Script error.\" is hard coded into browsers for errors that it can't read.\n// this is the result of a script being pulled in from an external domain and CORS.\nconst DEFAULT_IGNORE_ERRORS = [/^Script error\\.?$/, /^Javascript error: Script error\\.? on line 0$/];\n\n/** JSDoc */\ninterface InboundFiltersOptions {\n  blacklistUrls?: Array<string | RegExp>;\n  ignoreErrors?: Array<string | RegExp>;\n  ignoreInternal?: boolean;\n  whitelistUrls?: Array<string | RegExp>;\n}\n\n/** Inbound filters configurable by the user */\nexport class InboundFilters implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = InboundFilters.id;\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'InboundFilters';\n\n  public constructor(private readonly _options: InboundFiltersOptions = {}) {}\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(): void {\n    addGlobalEventProcessor((event: Event) => {\n      const hub = getCurrentHub();\n      if (!hub) {\n        return event;\n      }\n      const self = hub.getIntegration(InboundFilters);\n      if (self) {\n        const client = hub.getClient();\n        const clientOptions = client ? client.getOptions() : {};\n        const options = self._mergeOptions(clientOptions);\n        if (self._shouldDropEvent(event, options)) {\n          return null;\n        }\n      }\n      return event;\n    });\n  }\n\n  /** JSDoc */\n  private _shouldDropEvent(event: Event, options: InboundFiltersOptions): boolean {\n    if (this._isSentryError(event, options)) {\n      logger.warn(`Event dropped due to being internal Sentry Error.\\nEvent: ${getEventDescription(event)}`);\n      return true;\n    }\n    if (this._isIgnoredError(event, options)) {\n      logger.warn(\n        `Event dropped due to being matched by \\`ignoreErrors\\` option.\\nEvent: ${getEventDescription(event)}`,\n      );\n      return true;\n    }\n    if (this._isBlacklistedUrl(event, options)) {\n      logger.warn(\n        `Event dropped due to being matched by \\`blacklistUrls\\` option.\\nEvent: ${getEventDescription(\n          event,\n        )}.\\nUrl: ${this._getEventFilterUrl(event)}`,\n      );\n      return true;\n    }\n    if (!this._isWhitelistedUrl(event, options)) {\n      logger.warn(\n        `Event dropped due to not being matched by \\`whitelistUrls\\` option.\\nEvent: ${getEventDescription(\n          event,\n        )}.\\nUrl: ${this._getEventFilterUrl(event)}`,\n      );\n      return true;\n    }\n    return false;\n  }\n\n  /** JSDoc */\n  private _isSentryError(event: Event, options: InboundFiltersOptions = {}): boolean {\n    if (!options.ignoreInternal) {\n      return false;\n    }\n\n    try {\n      return (\n        (event &&\n          event.exception &&\n          event.exception.values &&\n          event.exception.values[0] &&\n          event.exception.values[0].type === 'SentryError') ||\n        false\n      );\n    } catch (_oO) {\n      return false;\n    }\n  }\n\n  /** JSDoc */\n  private _isIgnoredError(event: Event, options: InboundFiltersOptions = {}): boolean {\n    if (!options.ignoreErrors || !options.ignoreErrors.length) {\n      return false;\n    }\n\n    return this._getPossibleEventMessages(event).some(message =>\n      // Not sure why TypeScript complains here...\n      (options.ignoreErrors as Array<RegExp | string>).some(pattern => isMatchingPattern(message, pattern)),\n    );\n  }\n\n  /** JSDoc */\n  private _isBlacklistedUrl(event: Event, options: InboundFiltersOptions = {}): boolean {\n    // TODO: Use Glob instead?\n    if (!options.blacklistUrls || !options.blacklistUrls.length) {\n      return false;\n    }\n    const url = this._getEventFilterUrl(event);\n    return !url ? false : options.blacklistUrls.some(pattern => isMatchingPattern(url, pattern));\n  }\n\n  /** JSDoc */\n  private _isWhitelistedUrl(event: Event, options: InboundFiltersOptions = {}): boolean {\n    // TODO: Use Glob instead?\n    if (!options.whitelistUrls || !options.whitelistUrls.length) {\n      return true;\n    }\n    const url = this._getEventFilterUrl(event);\n    return !url ? true : options.whitelistUrls.some(pattern => isMatchingPattern(url, pattern));\n  }\n\n  /** JSDoc */\n  private _mergeOptions(clientOptions: InboundFiltersOptions = {}): InboundFiltersOptions {\n    return {\n      blacklistUrls: [...(this._options.blacklistUrls || []), ...(clientOptions.blacklistUrls || [])],\n      ignoreErrors: [\n        ...(this._options.ignoreErrors || []),\n        ...(clientOptions.ignoreErrors || []),\n        ...DEFAULT_IGNORE_ERRORS,\n      ],\n      ignoreInternal: typeof this._options.ignoreInternal !== 'undefined' ? this._options.ignoreInternal : true,\n      whitelistUrls: [...(this._options.whitelistUrls || []), ...(clientOptions.whitelistUrls || [])],\n    };\n  }\n\n  /** JSDoc */\n  private _getPossibleEventMessages(event: Event): string[] {\n    if (event.message) {\n      return [event.message];\n    }\n    if (event.exception) {\n      try {\n        const { type = '', value = '' } = (event.exception.values && event.exception.values[0]) || {};\n        return [`${value}`, `${type}: ${value}`];\n      } catch (oO) {\n        logger.error(`Cannot extract message for event ${getEventDescription(event)}`);\n        return [];\n      }\n    }\n    return [];\n  }\n\n  /** JSDoc */\n  private _getEventFilterUrl(event: Event): string | null {\n    try {\n      if (event.stacktrace) {\n        const frames = event.stacktrace.frames;\n        return (frames && frames[frames.length - 1].filename) || null;\n      }\n      if (event.exception) {\n        const frames =\n          event.exception.values && event.exception.values[0].stacktrace && event.exception.values[0].stacktrace.frames;\n        return (frames && frames[frames.length - 1].filename) || null;\n      }\n      return null;\n    } catch (oO) {\n      logger.error(`Cannot extract url for event ${getEventDescription(event)}`);\n      return null;\n    }\n  }\n}\n","import { Integration, WrappedFunction } from '@sentry/types';\nimport { fill, getFunctionName, getGlobalObject } from '@sentry/utils';\n\nimport { wrap } from '../helpers';\n\ntype XMLHttpRequestProp = 'onload' | 'onerror' | 'onprogress' | 'onreadystatechange';\n\n/** Wrap timer functions and event targets to catch errors and provide better meta data */\nexport class TryCatch implements Integration {\n  /** JSDoc */\n  private _ignoreOnError: number = 0;\n\n  /**\n   * @inheritDoc\n   */\n  public name: string = TryCatch.id;\n\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'TryCatch';\n\n  /** JSDoc */\n  private _wrapTimeFunction(original: () => void): () => number {\n    return function(this: any, ...args: any[]): number {\n      const originalCallback = args[0];\n      args[0] = wrap(originalCallback, {\n        mechanism: {\n          data: { function: getFunctionName(original) },\n          handled: true,\n          type: 'instrument',\n        },\n      });\n      return original.apply(this, args);\n    };\n  }\n\n  /** JSDoc */\n  private _wrapRAF(original: any): (callback: () => void) => any {\n    return function(this: any, callback: () => void): () => void {\n      return original(\n        wrap(callback, {\n          mechanism: {\n            data: {\n              function: 'requestAnimationFrame',\n              handler: getFunctionName(original),\n            },\n            handled: true,\n            type: 'instrument',\n          },\n        }),\n      );\n    };\n  }\n\n  /** JSDoc */\n  private _wrapEventTarget(target: string): void {\n    const global = getGlobalObject() as { [key: string]: any };\n    const proto = global[target] && global[target].prototype;\n\n    if (!proto || !proto.hasOwnProperty || !proto.hasOwnProperty('addEventListener')) {\n      return;\n    }\n\n    fill(proto, 'addEventListener', function(\n      original: () => void,\n    ): (eventName: string, fn: EventListenerObject, options?: boolean | AddEventListenerOptions) => void {\n      return function(\n        this: any,\n        eventName: string,\n        fn: EventListenerObject,\n        options?: boolean | AddEventListenerOptions,\n      ): (eventName: string, fn: EventListenerObject, capture?: boolean, secure?: boolean) => void {\n        try {\n          // tslint:disable-next-line:no-unbound-method strict-type-predicates\n          if (typeof fn.handleEvent === 'function') {\n            fn.handleEvent = wrap(fn.handleEvent.bind(fn), {\n              mechanism: {\n                data: {\n                  function: 'handleEvent',\n                  handler: getFunctionName(fn),\n                  target,\n                },\n                handled: true,\n                type: 'instrument',\n              },\n            });\n          }\n        } catch (err) {\n          // can sometimes get 'Permission denied to access property \"handle Event'\n        }\n\n        return original.call(\n          this,\n          eventName,\n          wrap((fn as any) as WrappedFunction, {\n            mechanism: {\n              data: {\n                function: 'addEventListener',\n                handler: getFunctionName(fn),\n                target,\n              },\n              handled: true,\n              type: 'instrument',\n            },\n          }),\n          options,\n        );\n      };\n    });\n\n    fill(proto, 'removeEventListener', function(\n      original: () => void,\n    ): (this: any, eventName: string, fn: EventListenerObject, options?: boolean | EventListenerOptions) => () => void {\n      return function(\n        this: any,\n        eventName: string,\n        fn: EventListenerObject,\n        options?: boolean | EventListenerOptions,\n      ): () => void {\n        let callback = (fn as any) as WrappedFunction;\n        try {\n          callback = callback && (callback.__sentry_wrapped__ || callback);\n        } catch (e) {\n          // ignore, accessing __sentry_wrapped__ will throw in some Selenium environments\n        }\n        return original.call(this, eventName, callback, options);\n      };\n    });\n  }\n\n  /** JSDoc */\n  private _wrapXHR(originalSend: () => void): () => void {\n    return function(this: XMLHttpRequest, ...args: any[]): void {\n      const xhr = this; // tslint:disable-line:no-this-assignment\n      const xmlHttpRequestProps: XMLHttpRequestProp[] = ['onload', 'onerror', 'onprogress', 'onreadystatechange'];\n\n      xmlHttpRequestProps.forEach(prop => {\n        if (prop in xhr && typeof xhr[prop] === 'function') {\n          fill(xhr, prop, function(original: WrappedFunction): Function {\n            const wrapOptions = {\n              mechanism: {\n                data: {\n                  function: prop,\n                  handler: getFunctionName(original),\n                },\n                handled: true,\n                type: 'instrument',\n              },\n            };\n\n            // If Instrument integration has been called before TryCatch, get the name of original function\n            if (original.__sentry_original__) {\n              wrapOptions.mechanism.data.handler = getFunctionName(original.__sentry_original__);\n            }\n\n            // Otherwise wrap directly\n            return wrap(original, wrapOptions);\n          });\n        }\n      });\n\n      return originalSend.apply(this, args);\n    };\n  }\n\n  /**\n   * Wrap timer functions and event targets to catch errors\n   * and provide better metadata.\n   */\n  public setupOnce(): void {\n    this._ignoreOnError = this._ignoreOnError;\n\n    const global = getGlobalObject();\n\n    fill(global, 'setTimeout', this._wrapTimeFunction.bind(this));\n    fill(global, 'setInterval', this._wrapTimeFunction.bind(this));\n    fill(global, 'requestAnimationFrame', this._wrapRAF.bind(this));\n\n    if ('XMLHttpRequest' in global) {\n      fill(XMLHttpRequest.prototype, 'send', this._wrapXHR.bind(this));\n    }\n\n    [\n      'EventTarget',\n      'Window',\n      'Node',\n      'ApplicationCache',\n      'AudioTrackList',\n      'ChannelMergerNode',\n      'CryptoOperation',\n      'EventSource',\n      'FileReader',\n      'HTMLUnknownElement',\n      'IDBDatabase',\n      'IDBRequest',\n      'IDBTransaction',\n      'KeyOperation',\n      'MediaController',\n      'MessagePort',\n      'ModalWindow',\n      'Notification',\n      'SVGElementInstance',\n      'Screen',\n      'TextTrack',\n      'TextTrackCue',\n      'TextTrackList',\n      'WebSocket',\n      'WebSocketWorker',\n      'Worker',\n      'XMLHttpRequest',\n      'XMLHttpRequestEventTarget',\n      'XMLHttpRequestUpload',\n    ].forEach(this._wrapEventTarget.bind(this));\n  }\n}\n","import { getCurrentHub } from '@sentry/core';\nimport { Event, Integration, Severity } from '@sentry/types';\nimport {\n  addExceptionMechanism,\n  addInstrumentationHandler,\n  getLocationHref,\n  isErrorEvent,\n  isPrimitive,\n  isString,\n  logger,\n} from '@sentry/utils';\n\nimport { eventFromUnknownInput } from '../eventbuilder';\nimport { shouldIgnoreOnError } from '../helpers';\n\n/** JSDoc */\ninterface GlobalHandlersIntegrations {\n  onerror: boolean;\n  onunhandledrejection: boolean;\n}\n\n/** Global handlers */\nexport class GlobalHandlers implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = GlobalHandlers.id;\n\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'GlobalHandlers';\n\n  /** JSDoc */\n  private readonly _options: GlobalHandlersIntegrations;\n\n  /** JSDoc */\n  private _onErrorHandlerInstalled: boolean = false;\n\n  /** JSDoc */\n  private _onUnhandledRejectionHandlerInstalled: boolean = false;\n\n  /** JSDoc */\n  public constructor(options?: GlobalHandlersIntegrations) {\n    this._options = {\n      onerror: true,\n      onunhandledrejection: true,\n      ...options,\n    };\n  }\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(): void {\n    Error.stackTraceLimit = 50;\n\n    if (this._options.onerror) {\n      logger.log('Global Handler attached: onerror');\n      this._installGlobalOnErrorHandler();\n    }\n\n    if (this._options.onunhandledrejection) {\n      logger.log('Global Handler attached: onunhandledrejection');\n      this._installGlobalOnUnhandledRejectionHandler();\n    }\n  }\n\n  /** JSDoc */\n  private _installGlobalOnErrorHandler(): void {\n    if (this._onErrorHandlerInstalled) {\n      return;\n    }\n\n    addInstrumentationHandler({\n      callback: (data: { msg: any; url: any; line: any; column: any; error: any }) => {\n        const error = data.error;\n        const currentHub = getCurrentHub();\n        const hasIntegration = currentHub.getIntegration(GlobalHandlers);\n        const isFailedOwnDelivery = error && error.__sentry_own_request__ === true;\n\n        if (!hasIntegration || shouldIgnoreOnError() || isFailedOwnDelivery) {\n          return;\n        }\n\n        const client = currentHub.getClient();\n        const event = isPrimitive(error)\n          ? this._eventFromIncompleteOnError(data.msg, data.url, data.line, data.column)\n          : this._enhanceEventWithInitialFrame(\n              eventFromUnknownInput(error, undefined, {\n                attachStacktrace: client && client.getOptions().attachStacktrace,\n                rejection: false,\n              }),\n              data.url,\n              data.line,\n              data.column,\n            );\n\n        addExceptionMechanism(event, {\n          handled: false,\n          type: 'onerror',\n        });\n\n        currentHub.captureEvent(event, {\n          originalException: error,\n        });\n      },\n      type: 'error',\n    });\n\n    this._onErrorHandlerInstalled = true;\n  }\n\n  /** JSDoc */\n  private _installGlobalOnUnhandledRejectionHandler(): void {\n    if (this._onUnhandledRejectionHandlerInstalled) {\n      return;\n    }\n\n    addInstrumentationHandler({\n      callback: (e: any) => {\n        let error = e;\n\n        // dig the object of the rejection out of known event types\n        try {\n          // PromiseRejectionEvents store the object of the rejection under 'reason'\n          // see https://developer.mozilla.org/en-US/docs/Web/API/PromiseRejectionEvent\n          if ('reason' in e) {\n            error = e.reason;\n          }\n          // something, somewhere, (likely a browser extension) effectively casts PromiseRejectionEvents\n          // to CustomEvents, moving the `promise` and `reason` attributes of the PRE into\n          // the CustomEvent's `detail` attribute, since they're not part of CustomEvent's spec\n          // see https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent and\n          // https://github.com/getsentry/sentry-javascript/issues/2380\n          else if ('detail' in e && 'reason' in e.detail) {\n            error = e.detail.reason;\n          }\n        } catch (_oO) {\n          // no-empty\n        }\n\n        const currentHub = getCurrentHub();\n        const hasIntegration = currentHub.getIntegration(GlobalHandlers);\n        const isFailedOwnDelivery = error && error.__sentry_own_request__ === true;\n\n        if (!hasIntegration || shouldIgnoreOnError() || isFailedOwnDelivery) {\n          return true;\n        }\n\n        const client = currentHub.getClient();\n        const event = isPrimitive(error)\n          ? this._eventFromIncompleteRejection(error)\n          : eventFromUnknownInput(error, undefined, {\n              attachStacktrace: client && client.getOptions().attachStacktrace,\n              rejection: true,\n            });\n\n        event.level = Severity.Error;\n\n        addExceptionMechanism(event, {\n          handled: false,\n          type: 'onunhandledrejection',\n        });\n\n        currentHub.captureEvent(event, {\n          originalException: error,\n        });\n\n        return;\n      },\n      type: 'unhandledrejection',\n    });\n\n    this._onUnhandledRejectionHandlerInstalled = true;\n  }\n\n  /**\n   * This function creates a stack from an old, error-less onerror handler.\n   */\n  private _eventFromIncompleteOnError(msg: any, url: any, line: any, column: any): Event {\n    const ERROR_TYPES_RE = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;\n\n    // If 'message' is ErrorEvent, get real message from inside\n    let message = isErrorEvent(msg) ? msg.message : msg;\n    let name;\n\n    if (isString(message)) {\n      const groups = message.match(ERROR_TYPES_RE);\n      if (groups) {\n        name = groups[1];\n        message = groups[2];\n      }\n    }\n\n    const event = {\n      exception: {\n        values: [\n          {\n            type: name || 'Error',\n            value: message,\n          },\n        ],\n      },\n    };\n\n    return this._enhanceEventWithInitialFrame(event, url, line, column);\n  }\n\n  /**\n   * This function creates an Event from an TraceKitStackTrace that has part of it missing.\n   */\n  private _eventFromIncompleteRejection(error: any): Event {\n    return {\n      exception: {\n        values: [\n          {\n            type: 'UnhandledRejection',\n            value: `Non-Error promise rejection captured with value: ${error}`,\n          },\n        ],\n      },\n    };\n  }\n\n  /** JSDoc */\n  private _enhanceEventWithInitialFrame(event: Event, url: any, line: any, column: any): Event {\n    event.exception = event.exception || {};\n    event.exception.values = event.exception.values || [];\n    event.exception.values[0] = event.exception.values[0] || {};\n    event.exception.values[0].stacktrace = event.exception.values[0].stacktrace || {};\n    event.exception.values[0].stacktrace.frames = event.exception.values[0].stacktrace.frames || [];\n\n    const colno = isNaN(parseInt(column, 10)) ? undefined : column;\n    const lineno = isNaN(parseInt(line, 10)) ? undefined : line;\n    const filename = isString(url) && url.length > 0 ? url : getLocationHref();\n\n    if (event.exception.values[0].stacktrace.frames.length === 0) {\n      event.exception.values[0].stacktrace.frames.push({\n        colno,\n        filename,\n        function: '?',\n        in_app: true,\n        lineno,\n      });\n    }\n\n    return event;\n  }\n}\n","import { addGlobalEventProcessor, getCurrentHub } from '@sentry/core';\nimport { Event, EventHint, Exception, ExtendedError, Integration } from '@sentry/types';\nimport { isInstanceOf } from '@sentry/utils';\n\nimport { exceptionFromStacktrace } from '../parsers';\nimport { computeStackTrace } from '../tracekit';\n\nconst DEFAULT_KEY = 'cause';\nconst DEFAULT_LIMIT = 5;\n\n/** Adds SDK info to an event. */\nexport class LinkedErrors implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public readonly name: string = LinkedErrors.id;\n\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'LinkedErrors';\n\n  /**\n   * @inheritDoc\n   */\n  private readonly _key: string;\n\n  /**\n   * @inheritDoc\n   */\n  private readonly _limit: number;\n\n  /**\n   * @inheritDoc\n   */\n  public constructor(options: { key?: string; limit?: number } = {}) {\n    this._key = options.key || DEFAULT_KEY;\n    this._limit = options.limit || DEFAULT_LIMIT;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(): void {\n    addGlobalEventProcessor((event: Event, hint?: EventHint) => {\n      const self = getCurrentHub().getIntegration(LinkedErrors);\n      if (self) {\n        return self._handler(event, hint);\n      }\n      return event;\n    });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  private _handler(event: Event, hint?: EventHint): Event | null {\n    if (!event.exception || !event.exception.values || !hint || !isInstanceOf(hint.originalException, Error)) {\n      return event;\n    }\n    const linkedErrors = this._walkErrorTree(hint.originalException as ExtendedError, this._key);\n    event.exception.values = [...linkedErrors, ...event.exception.values];\n    return event;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  private _walkErrorTree(error: ExtendedError, key: string, stack: Exception[] = []): Exception[] {\n    if (!isInstanceOf(error[key], Error) || stack.length + 1 >= this._limit) {\n      return stack;\n    }\n    const stacktrace = computeStackTrace(error[key]);\n    const exception = exceptionFromStacktrace(stacktrace);\n    return this._walkErrorTree(error[key], key, [exception, ...stack]);\n  }\n}\n","import { addGlobalEventProcessor, getCurrentHub } from '@sentry/core';\nimport { Event, Integration } from '@sentry/types';\nimport { getGlobalObject } from '@sentry/utils';\n\nconst global = getGlobalObject<Window>();\n\n/** UserAgent */\nexport class UserAgent implements Integration {\n  /**\n   * @inheritDoc\n   */\n  public name: string = UserAgent.id;\n\n  /**\n   * @inheritDoc\n   */\n  public static id: string = 'UserAgent';\n\n  /**\n   * @inheritDoc\n   */\n  public setupOnce(): void {\n    addGlobalEventProcessor((event: Event) => {\n      if (getCurrentHub().getIntegration(UserAgent)) {\n        if (!global.navigator || !global.location) {\n          return event;\n        }\n\n        // Request Interface: https://docs.sentry.io/development/sdk-dev/event-payloads/request/\n        const request = event.request || {};\n        request.url = request.url || global.location.href;\n        request.headers = request.headers || {};\n        request.headers['User-Agent'] = global.navigator.userAgent;\n\n        return {\n          ...event,\n          request,\n        };\n      }\n      return event;\n    });\n  }\n}\n","\n\t\timport Async from \"../../node_modules/@preact/async-loader/async-legacy.js\";\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tcb( require(\"!!../../node_modules/babel-loader/lib/index.js??ref--4!./fisica.js\") );\n\t\t\t}, \"route-fisica\");\n\t\t}\n\n\t\texport default Async(load);\n\t"],"sourceRoot":""}